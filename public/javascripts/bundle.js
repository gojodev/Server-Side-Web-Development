(() => {
  var __getOwnPropNames = Object.getOwnPropertyNames;
  var __commonJS = (cb, mod) => function __require() {
    return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
  };

  // node_modules/darkreader/darkreader.js
  var require_darkreader = __commonJS({
    "node_modules/darkreader/darkreader.js"(exports, module) {
      (function(global, factory) {
        typeof exports === "object" && typeof module !== "undefined" ? factory(exports) : typeof define === "function" && define.amd ? define(["exports"], factory) : (global = typeof globalThis !== "undefined" ? globalThis : global || self, factory(global.DarkReader = {}));
      })(exports, function(exports2) {
        "use strict";
        var __assign = function() {
          __assign = Object.assign || function __assign2(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
              s = arguments[i];
              for (var p in s)
                if (Object.prototype.hasOwnProperty.call(s, p))
                  t[p] = s[p];
            }
            return t;
          };
          return __assign.apply(this, arguments);
        };
        function __awaiter(thisArg, _arguments, P, generator) {
          function adopt(value) {
            return value instanceof P ? value : new P(function(resolve) {
              resolve(value);
            });
          }
          return new (P || (P = Promise))(function(resolve, reject) {
            function fulfilled(value) {
              try {
                step(generator.next(value));
              } catch (e) {
                reject(e);
              }
            }
            function rejected(value) {
              try {
                step(generator["throw"](value));
              } catch (e) {
                reject(e);
              }
            }
            function step(result) {
              result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
            }
            step(
              (generator = generator.apply(thisArg, _arguments || [])).next()
            );
          });
        }
        function __generator(thisArg, body) {
          var _ = {
            label: 0,
            sent: function() {
              if (t[0] & 1)
                throw t[1];
              return t[1];
            },
            trys: [],
            ops: []
          }, f, y, t, g;
          return g = { next: verb(0), throw: verb(1), return: verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() {
            return this;
          }), g;
          function verb(n) {
            return function(v) {
              return step([n, v]);
            };
          }
          function step(op) {
            if (f)
              throw new TypeError("Generator is already executing.");
            while (g && (g = 0, op[0] && (_ = 0)), _)
              try {
                if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
                  return t;
                if (y = 0, t)
                  op = [op[0] & 2, t.value];
                switch (op[0]) {
                  case 0:
                  case 1:
                    t = op;
                    break;
                  case 4:
                    _.label++;
                    return { value: op[1], done: false };
                  case 5:
                    _.label++;
                    y = op[1];
                    op = [0];
                    continue;
                  case 7:
                    op = _.ops.pop();
                    _.trys.pop();
                    continue;
                  default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                      _ = 0;
                      continue;
                    }
                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {
                      _.label = op[1];
                      break;
                    }
                    if (op[0] === 6 && _.label < t[1]) {
                      _.label = t[1];
                      t = op;
                      break;
                    }
                    if (t && _.label < t[2]) {
                      _.label = t[2];
                      _.ops.push(op);
                      break;
                    }
                    if (t[2])
                      _.ops.pop();
                    _.trys.pop();
                    continue;
                }
                op = body.call(thisArg, _);
              } catch (e) {
                op = [6, e];
                y = 0;
              } finally {
                f = t = 0;
              }
            if (op[0] & 5)
              throw op[1];
            return { value: op[0] ? op[1] : void 0, done: true };
          }
        }
        function __values(o) {
          var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
          if (m)
            return m.call(o);
          if (o && typeof o.length === "number")
            return {
              next: function() {
                if (o && i >= o.length)
                  o = void 0;
                return { value: o && o[i++], done: !o };
              }
            };
          throw new TypeError(
            s ? "Object is not iterable." : "Symbol.iterator is not defined."
          );
        }
        function __read(o, n) {
          var m = typeof Symbol === "function" && o[Symbol.iterator];
          if (!m)
            return o;
          var i = m.call(o), r, ar = [], e;
          try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
              ar.push(r.value);
          } catch (error) {
            e = { error };
          } finally {
            try {
              if (r && !r.done && (m = i["return"]))
                m.call(i);
            } finally {
              if (e)
                throw e.error;
            }
          }
          return ar;
        }
        function __spreadArray(to, from, pack) {
          if (pack || arguments.length === 2)
            for (var i = 0, l = from.length, ar; i < l; i++) {
              if (ar || !(i in from)) {
                if (!ar)
                  ar = Array.prototype.slice.call(from, 0, i);
                ar[i] = from[i];
              }
            }
          return to.concat(ar || Array.prototype.slice.call(from));
        }
        typeof SuppressedError === "function" ? SuppressedError : function(error, suppressed, message) {
          var e = new Error(message);
          return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
        };
        var MessageTypeUItoBG;
        (function(MessageTypeUItoBG2) {
          MessageTypeUItoBG2["GET_DATA"] = "ui-bg-get-data";
          MessageTypeUItoBG2["GET_DEVTOOLS_DATA"] = "ui-bg-get-devtools-data";
          MessageTypeUItoBG2["SUBSCRIBE_TO_CHANGES"] = "ui-bg-subscribe-to-changes";
          MessageTypeUItoBG2["UNSUBSCRIBE_FROM_CHANGES"] = "ui-bg-unsubscribe-from-changes";
          MessageTypeUItoBG2["CHANGE_SETTINGS"] = "ui-bg-change-settings";
          MessageTypeUItoBG2["SET_THEME"] = "ui-bg-set-theme";
          MessageTypeUItoBG2["TOGGLE_ACTIVE_TAB"] = "ui-bg-toggle-active-tab";
          MessageTypeUItoBG2["MARK_NEWS_AS_READ"] = "ui-bg-mark-news-as-read";
          MessageTypeUItoBG2["MARK_NEWS_AS_DISPLAYED"] = "ui-bg-mark-news-as-displayed";
          MessageTypeUItoBG2["LOAD_CONFIG"] = "ui-bg-load-config";
          MessageTypeUItoBG2["APPLY_DEV_DYNAMIC_THEME_FIXES"] = "ui-bg-apply-dev-dynamic-theme-fixes";
          MessageTypeUItoBG2["RESET_DEV_DYNAMIC_THEME_FIXES"] = "ui-bg-reset-dev-dynamic-theme-fixes";
          MessageTypeUItoBG2["APPLY_DEV_INVERSION_FIXES"] = "ui-bg-apply-dev-inversion-fixes";
          MessageTypeUItoBG2["RESET_DEV_INVERSION_FIXES"] = "ui-bg-reset-dev-inversion-fixes";
          MessageTypeUItoBG2["APPLY_DEV_STATIC_THEMES"] = "ui-bg-apply-dev-static-themes";
          MessageTypeUItoBG2["RESET_DEV_STATIC_THEMES"] = "ui-bg-reset-dev-static-themes";
          MessageTypeUItoBG2["COLOR_SCHEME_CHANGE"] = "ui-bg-color-scheme-change";
          MessageTypeUItoBG2["HIDE_HIGHLIGHTS"] = "ui-bg-hide-highlights";
        })(MessageTypeUItoBG || (MessageTypeUItoBG = {}));
        var MessageTypeBGtoUI;
        (function(MessageTypeBGtoUI2) {
          MessageTypeBGtoUI2["CHANGES"] = "bg-ui-changes";
        })(MessageTypeBGtoUI || (MessageTypeBGtoUI = {}));
        var DebugMessageTypeBGtoUI;
        (function(DebugMessageTypeBGtoUI2) {
          DebugMessageTypeBGtoUI2["CSS_UPDATE"] = "debug-bg-ui-css-update";
          DebugMessageTypeBGtoUI2["UPDATE"] = "debug-bg-ui-update";
        })(DebugMessageTypeBGtoUI || (DebugMessageTypeBGtoUI = {}));
        var MessageTypeBGtoCS;
        (function(MessageTypeBGtoCS2) {
          MessageTypeBGtoCS2["ADD_CSS_FILTER"] = "bg-cs-add-css-filter";
          MessageTypeBGtoCS2["ADD_DYNAMIC_THEME"] = "bg-cs-add-dynamic-theme";
          MessageTypeBGtoCS2["ADD_STATIC_THEME"] = "bg-cs-add-static-theme";
          MessageTypeBGtoCS2["ADD_SVG_FILTER"] = "bg-cs-add-svg-filter";
          MessageTypeBGtoCS2["CLEAN_UP"] = "bg-cs-clean-up";
          MessageTypeBGtoCS2["FETCH_RESPONSE"] = "bg-cs-fetch-response";
          MessageTypeBGtoCS2["UNSUPPORTED_SENDER"] = "bg-cs-unsupported-sender";
        })(MessageTypeBGtoCS || (MessageTypeBGtoCS = {}));
        var DebugMessageTypeBGtoCS;
        (function(DebugMessageTypeBGtoCS2) {
          DebugMessageTypeBGtoCS2["RELOAD"] = "debug-bg-cs-reload";
        })(DebugMessageTypeBGtoCS || (DebugMessageTypeBGtoCS = {}));
        var MessageTypeCStoBG;
        (function(MessageTypeCStoBG2) {
          MessageTypeCStoBG2["COLOR_SCHEME_CHANGE"] = "cs-bg-color-scheme-change";
          MessageTypeCStoBG2["DARK_THEME_DETECTED"] = "cs-bg-dark-theme-detected";
          MessageTypeCStoBG2["DARK_THEME_NOT_DETECTED"] = "cs-bg-dark-theme-not-detected";
          MessageTypeCStoBG2["FETCH"] = "cs-bg-fetch";
          MessageTypeCStoBG2["DOCUMENT_CONNECT"] = "cs-bg-document-connect";
          MessageTypeCStoBG2["DOCUMENT_FORGET"] = "cs-bg-document-forget";
          MessageTypeCStoBG2["DOCUMENT_FREEZE"] = "cs-bg-document-freeze";
          MessageTypeCStoBG2["DOCUMENT_RESUME"] = "cs-bg-document-resume";
        })(MessageTypeCStoBG || (MessageTypeCStoBG = {}));
        var DebugMessageTypeCStoBG;
        (function(DebugMessageTypeCStoBG2) {
          DebugMessageTypeCStoBG2["LOG"] = "debug-cs-bg-log";
        })(DebugMessageTypeCStoBG || (DebugMessageTypeCStoBG = {}));
        var MessageTypeCStoUI;
        (function(MessageTypeCStoUI2) {
          MessageTypeCStoUI2["EXPORT_CSS_RESPONSE"] = "cs-ui-export-css-response";
        })(MessageTypeCStoUI || (MessageTypeCStoUI = {}));
        var MessageTypeUItoCS;
        (function(MessageTypeUItoCS2) {
          MessageTypeUItoCS2["EXPORT_CSS"] = "ui-cs-export-css";
        })(MessageTypeUItoCS || (MessageTypeUItoCS = {}));
        var isNavigatorDefined = typeof navigator !== "undefined";
        var userAgent = isNavigatorDefined ? navigator.userAgentData && Array.isArray(navigator.userAgentData.brands) ? navigator.userAgentData.brands.map(function(brand) {
          return "".concat(brand.brand.toLowerCase(), " ").concat(brand.version);
        }).join(" ") : navigator.userAgent.toLowerCase() : "some useragent";
        var platform = isNavigatorDefined ? navigator.userAgentData && typeof navigator.userAgentData.platform === "string" ? navigator.userAgentData.platform.toLowerCase() : navigator.platform.toLowerCase() : "some platform";
        var isChromium = userAgent.includes("chrome") || userAgent.includes("chromium");
        var isFirefox = userAgent.includes("firefox") || userAgent.includes("thunderbird") || userAgent.includes("librewolf");
        var isSafari = userAgent.includes("safari") && !isChromium;
        var isWindows = platform.startsWith("win");
        var isMacOS = platform.startsWith("mac");
        isNavigatorDefined && navigator.userAgentData ? navigator.userAgentData.mobile : userAgent.includes("mobile");
        var isShadowDomSupported = typeof ShadowRoot === "function";
        var isMatchMediaChangeEventListenerSupported = typeof MediaQueryList === "function" && typeof MediaQueryList.prototype.addEventListener === "function";
        (function() {
          var m = userAgent.match(/chrom(?:e|ium)(?:\/| )([^ ]+)/);
          if (m && m[1]) {
            return m[1];
          }
          return "";
        })();
        (function() {
          var m = userAgent.match(/(?:firefox|librewolf)(?:\/| )([^ ]+)/);
          if (m && m[1]) {
            return m[1];
          }
          return "";
        })();
        var isDefinedSelectorSupported = function() {
          try {
            document.querySelector(":defined");
            return true;
          } catch (err) {
            return false;
          }
        }();
        var isCSSColorSchemePropSupported = function() {
          try {
            if (typeof document === "undefined") {
              return false;
            }
            var el = document.createElement("div");
            if (!el || typeof el.style !== "object") {
              return false;
            }
            if (typeof el.style.colorScheme === "string") {
              return true;
            }
            el.setAttribute("style", "color-scheme: dark");
            return el.style.colorScheme === "dark";
          } catch (e) {
            return false;
          }
        }();
        function getOKResponse(url, mimeType, origin) {
          return __awaiter(this, void 0, void 0, function() {
            var response;
            return __generator(this, function(_a) {
              switch (_a.label) {
                case 0:
                  return [
                    4,
                    fetch(url, {
                      cache: "force-cache",
                      credentials: "omit",
                      referrer: origin
                    })
                  ];
                case 1:
                  response = _a.sent();
                  if (isFirefox && mimeType === "text/css" && url.startsWith("moz-extension://") && url.endsWith(".css")) {
                    return [2, response];
                  }
                  if (mimeType && !response.headers.get("Content-Type").startsWith(mimeType)) {
                    throw new Error(
                      "Mime type mismatch when loading ".concat(url)
                    );
                  }
                  if (!response.ok) {
                    throw new Error(
                      "Unable to load ".concat(url, " ").concat(response.status, " ").concat(response.statusText)
                    );
                  }
                  return [2, response];
              }
            });
          });
        }
        function loadAsDataURL(url, mimeType) {
          return __awaiter(this, void 0, void 0, function() {
            var response;
            return __generator(this, function(_a) {
              switch (_a.label) {
                case 0:
                  return [4, getOKResponse(url, mimeType)];
                case 1:
                  response = _a.sent();
                  return [4, readResponseAsDataURL(response)];
                case 2:
                  return [2, _a.sent()];
              }
            });
          });
        }
        function readResponseAsDataURL(response) {
          return __awaiter(this, void 0, void 0, function() {
            var blob, dataURL;
            return __generator(this, function(_a) {
              switch (_a.label) {
                case 0:
                  return [4, response.blob()];
                case 1:
                  blob = _a.sent();
                  return [
                    4,
                    new Promise(function(resolve) {
                      var reader = new FileReader();
                      reader.onloadend = function() {
                        return resolve(reader.result);
                      };
                      reader.readAsDataURL(blob);
                    })
                  ];
                case 2:
                  dataURL = _a.sent();
                  return [2, dataURL];
              }
            });
          });
        }
        var throwCORSError = function(url) {
          return __awaiter(void 0, void 0, void 0, function() {
            return __generator(this, function(_a) {
              return [
                2,
                Promise.reject(
                  new Error(
                    [
                      "Embedded Dark Reader cannot access a cross-origin resource",
                      url,
                      "Overview your URLs and CORS policies or use",
                      "`DarkReader.setFetchMethod(fetch: (url) => Promise<Response>))`.",
                      "See if using `DarkReader.setFetchMethod(window.fetch)`",
                      "before `DarkReader.enable()` works."
                    ].join(" ")
                  )
                )
              ];
            });
          });
        };
        var fetcher = throwCORSError;
        function setFetchMethod$1(fetch2) {
          if (fetch2) {
            fetcher = fetch2;
          } else {
            fetcher = throwCORSError;
          }
        }
        function callFetchMethod(url) {
          return __awaiter(this, void 0, void 0, function() {
            return __generator(this, function(_a) {
              switch (_a.label) {
                case 0:
                  return [4, fetcher(url)];
                case 1:
                  return [2, _a.sent()];
              }
            });
          });
        }
        if (!window.chrome) {
          window.chrome = {};
        }
        if (!chrome.runtime) {
          chrome.runtime = {};
        }
        var messageListeners = /* @__PURE__ */ new Set();
        function sendMessage() {
          var args = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
          }
          return __awaiter(this, void 0, void 0, function() {
            var id_1, _a, url, responseType, response, text_1, error_1;
            return __generator(this, function(_b) {
              switch (_b.label) {
                case 0:
                  if (!(args[0] && args[0].type === MessageTypeCStoBG.FETCH))
                    return [3, 8];
                  id_1 = args[0].id;
                  _b.label = 1;
                case 1:
                  _b.trys.push([1, 7, , 8]);
                  _a = args[0].data, url = _a.url, responseType = _a.responseType;
                  return [4, callFetchMethod(url)];
                case 2:
                  response = _b.sent();
                  if (!(responseType === "data-url"))
                    return [3, 4];
                  return [4, readResponseAsDataURL(response)];
                case 3:
                  text_1 = _b.sent();
                  return [3, 6];
                case 4:
                  return [4, response.text()];
                case 5:
                  text_1 = _b.sent();
                  _b.label = 6;
                case 6:
                  messageListeners.forEach(function(cb) {
                    return cb({
                      type: MessageTypeBGtoCS.FETCH_RESPONSE,
                      data: text_1,
                      error: null,
                      id: id_1
                    });
                  });
                  return [3, 8];
                case 7:
                  error_1 = _b.sent();
                  console.error(error_1);
                  messageListeners.forEach(function(cb) {
                    return cb({
                      type: MessageTypeBGtoCS.FETCH_RESPONSE,
                      data: null,
                      error: error_1,
                      id: id_1
                    });
                  });
                  return [3, 8];
                case 8:
                  return [2];
              }
            });
          });
        }
        function addMessageListener(callback) {
          messageListeners.add(callback);
        }
        if (typeof chrome.runtime.sendMessage === "function") {
          var nativeSendMessage_1 = chrome.runtime.sendMessage;
          chrome.runtime.sendMessage = function() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }
            sendMessage.apply(void 0, __spreadArray([], __read(args), false));
            nativeSendMessage_1.apply(chrome.runtime, args);
          };
        } else {
          chrome.runtime.sendMessage = sendMessage;
        }
        if (!chrome.runtime.onMessage) {
          chrome.runtime.onMessage = {};
        }
        if (typeof chrome.runtime.onMessage.addListener === "function") {
          var nativeAddListener_1 = chrome.runtime.onMessage.addListener;
          chrome.runtime.onMessage.addListener = function() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }
            addMessageListener(args[0]);
            nativeAddListener_1.apply(chrome.runtime.onMessage, args);
          };
        } else {
          chrome.runtime.onMessage.addListener = function() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }
            return addMessageListener(args[0]);
          };
        }
        var ThemeEngine;
        (function(ThemeEngine2) {
          ThemeEngine2["cssFilter"] = "cssFilter";
          ThemeEngine2["svgFilter"] = "svgFilter";
          ThemeEngine2["staticTheme"] = "staticTheme";
          ThemeEngine2["dynamicTheme"] = "dynamicTheme";
        })(ThemeEngine || (ThemeEngine = {}));
        var AutomationMode;
        (function(AutomationMode2) {
          AutomationMode2["NONE"] = "";
          AutomationMode2["TIME"] = "time";
          AutomationMode2["SYSTEM"] = "system";
          AutomationMode2["LOCATION"] = "location";
        })(AutomationMode || (AutomationMode = {}));
        var DEFAULT_COLORS = {
          darkScheme: {
            background: "#181a1b",
            text: "#e8e6e3"
          },
          lightScheme: {
            background: "#dcdad7",
            text: "#181a1b"
          }
        };
        var DEFAULT_THEME = {
          mode: 1,
          brightness: 100,
          contrast: 100,
          grayscale: 0,
          sepia: 0,
          useFont: false,
          fontFamily: isMacOS ? "Helvetica Neue" : isWindows ? "Segoe UI" : "Open Sans",
          textStroke: 0,
          engine: ThemeEngine.dynamicTheme,
          stylesheet: "",
          darkSchemeBackgroundColor: DEFAULT_COLORS.darkScheme.background,
          darkSchemeTextColor: DEFAULT_COLORS.darkScheme.text,
          lightSchemeBackgroundColor: DEFAULT_COLORS.lightScheme.background,
          lightSchemeTextColor: DEFAULT_COLORS.lightScheme.text,
          scrollbarColor: isMacOS ? "" : "auto",
          selectionColor: "auto",
          styleSystemControls: !isCSSColorSchemePropSupported,
          lightColorScheme: "Default",
          darkColorScheme: "Default",
          immediateModify: false
        };
        ({
          schemeVersion: 0,
          enabled: true,
          fetchNews: true,
          theme: DEFAULT_THEME,
          presets: [],
          customThemes: [],
          enabledByDefault: true,
          enabledFor: [],
          disabledFor: [],
          changeBrowserTheme: false,
          syncSettings: true,
          syncSitesFixes: false,
          automation: {
            enabled: false,
            mode: AutomationMode.NONE,
            behavior: "OnOff"
          },
          time: {
            activation: "18:00",
            deactivation: "9:00"
          },
          location: {
            latitude: null,
            longitude: null
          },
          previewNewDesign: false,
          enableForPDF: true,
          enableForProtectedPages: false,
          enableContextMenus: false,
          detectDarkTheme: false
        });
        function isArrayLike(items) {
          return items.length != null;
        }
        function forEach(items, iterator) {
          var e_1, _a;
          if (isArrayLike(items)) {
            for (var i = 0, len = items.length; i < len; i++) {
              iterator(items[i]);
            }
          } else {
            try {
              for (var items_1 = __values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {
                var item = items_1_1.value;
                iterator(item);
              }
            } catch (e_1_1) {
              e_1 = { error: e_1_1 };
            } finally {
              try {
                if (items_1_1 && !items_1_1.done && (_a = items_1.return))
                  _a.call(items_1);
              } finally {
                if (e_1)
                  throw e_1.error;
              }
            }
          }
        }
        function push(array, addition) {
          forEach(addition, function(a) {
            return array.push(a);
          });
        }
        function toArray(items) {
          var results = [];
          for (var i = 0, len = items.length; i < len; i++) {
            results.push(items[i]);
          }
          return results;
        }
        function logInfo() {
        }
        function logWarn() {
        }
        function throttle(callback) {
          var pending = false;
          var frameId = null;
          var lastArgs;
          var throttled = function() {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
              args[_i] = arguments[_i];
            }
            lastArgs = args;
            if (frameId) {
              pending = true;
            } else {
              callback.apply(
                void 0,
                __spreadArray([], __read(lastArgs), false)
              );
              frameId = requestAnimationFrame(function() {
                frameId = null;
                if (pending) {
                  callback.apply(
                    void 0,
                    __spreadArray([], __read(lastArgs), false)
                  );
                  pending = false;
                }
              });
            }
          };
          var cancel = function() {
            cancelAnimationFrame(frameId);
            pending = false;
            frameId = null;
          };
          return Object.assign(throttled, { cancel });
        }
        function createAsyncTasksQueue() {
          var tasks = [];
          var frameId = null;
          function runTasks() {
            var task;
            while (task = tasks.shift()) {
              task();
            }
            frameId = null;
          }
          function add(task) {
            tasks.push(task);
            if (!frameId) {
              frameId = requestAnimationFrame(runTasks);
            }
          }
          function cancel() {
            tasks.splice(0);
            cancelAnimationFrame(frameId);
            frameId = null;
          }
          return { add, cancel };
        }
        function getDuration(time) {
          var duration = 0;
          if (time.seconds) {
            duration += time.seconds * 1e3;
          }
          if (time.minutes) {
            duration += time.minutes * 60 * 1e3;
          }
          if (time.hours) {
            duration += time.hours * 60 * 60 * 1e3;
          }
          if (time.days) {
            duration += time.days * 24 * 60 * 60 * 1e3;
          }
          return duration;
        }
        function removeNode(node) {
          node && node.parentNode && node.parentNode.removeChild(node);
        }
        function watchForNodePosition(node, mode, onRestore) {
          if (onRestore === void 0) {
            onRestore = Function.prototype;
          }
          var MAX_ATTEMPTS_COUNT = 10;
          var RETRY_TIMEOUT = getDuration({ seconds: 2 });
          var ATTEMPTS_INTERVAL = getDuration({ seconds: 10 });
          var prevSibling = node.previousSibling;
          var parent = node.parentNode;
          if (!parent) {
            throw new Error(
              "Unable to watch for node position: parent element not found"
            );
          }
          if (mode === "prev-sibling" && !prevSibling) {
            throw new Error(
              "Unable to watch for node position: there is no previous sibling"
            );
          }
          var attempts = 0;
          var start = null;
          var timeoutId = null;
          var restore = throttle(function() {
            if (timeoutId) {
              return;
            }
            attempts++;
            var now = Date.now();
            if (start == null) {
              start = now;
            } else if (attempts >= MAX_ATTEMPTS_COUNT) {
              if (now - start < ATTEMPTS_INTERVAL) {
                timeoutId = setTimeout(function() {
                  start = null;
                  attempts = 0;
                  timeoutId = null;
                  restore();
                }, RETRY_TIMEOUT);
                return;
              }
              start = now;
              attempts = 1;
            }
            if (mode === "head") {
              if (prevSibling && prevSibling.parentNode !== parent) {
                stop();
                return;
              }
            }
            if (mode === "prev-sibling") {
              if (prevSibling.parentNode == null) {
                stop();
                return;
              }
              if (prevSibling.parentNode !== parent) {
                updateParent(prevSibling.parentNode);
              }
            }
            if (mode === "head" && !parent.isConnected) {
              parent = document.head;
            }
            parent.insertBefore(
              node,
              prevSibling && prevSibling.isConnected ? prevSibling.nextSibling : parent.firstChild
            );
            observer2.takeRecords();
            onRestore && onRestore();
          });
          var observer2 = new MutationObserver(function() {
            if (mode === "head" && (node.parentNode !== parent || !node.parentNode.isConnected) || mode === "prev-sibling" && node.previousSibling !== prevSibling) {
              restore();
            }
          });
          var run = function() {
            observer2.observe(parent, { childList: true });
          };
          var stop = function() {
            clearTimeout(timeoutId);
            observer2.disconnect();
            restore.cancel();
          };
          var skip = function() {
            observer2.takeRecords();
          };
          var updateParent = function(parentNode) {
            parent = parentNode;
            stop();
            run();
          };
          run();
          return { run, stop, skip };
        }
        function iterateShadowHosts(root, iterator) {
          if (root == null) {
            return;
          }
          var walker = document.createTreeWalker(root, NodeFilter.SHOW_ELEMENT, {
            acceptNode: function(node2) {
              return node2.shadowRoot == null ? NodeFilter.FILTER_SKIP : NodeFilter.FILTER_ACCEPT;
            }
          });
          for (var node = root.shadowRoot ? walker.currentNode : walker.nextNode(); node != null; node = walker.nextNode()) {
            if (node.classList.contains("surfingkeys_hints_host")) {
              continue;
            }
            iterator(node);
            iterateShadowHosts(node.shadowRoot, iterator);
          }
        }
        var isDOMReady = function() {
          return document.readyState === "complete" || document.readyState === "interactive";
        };
        function setIsDOMReady(newFunc) {
          isDOMReady = newFunc;
        }
        var readyStateListeners = /* @__PURE__ */ new Set();
        function addDOMReadyListener(listener) {
          isDOMReady() ? listener() : readyStateListeners.add(listener);
        }
        function removeDOMReadyListener(listener) {
          readyStateListeners.delete(listener);
        }
        function isReadyStateComplete() {
          return document.readyState === "complete";
        }
        var readyStateCompleteListeners = /* @__PURE__ */ new Set();
        function addReadyStateCompleteListener(listener) {
          isReadyStateComplete() ? listener() : readyStateCompleteListeners.add(listener);
        }
        function cleanReadyStateCompleteListeners() {
          readyStateCompleteListeners.clear();
        }
        if (!isDOMReady()) {
          var onReadyStateChange_1 = function() {
            if (isDOMReady()) {
              readyStateListeners.forEach(function(listener) {
                return listener();
              });
              readyStateListeners.clear();
              if (isReadyStateComplete()) {
                document.removeEventListener(
                  "readystatechange",
                  onReadyStateChange_1
                );
                readyStateCompleteListeners.forEach(function(listener) {
                  return listener();
                });
                readyStateCompleteListeners.clear();
              }
            }
          };
          document.addEventListener("readystatechange", onReadyStateChange_1);
        }
        var HUGE_MUTATIONS_COUNT = 1e3;
        function isHugeMutation(mutations) {
          if (mutations.length > HUGE_MUTATIONS_COUNT) {
            return true;
          }
          var addedNodesCount = 0;
          for (var i = 0; i < mutations.length; i++) {
            addedNodesCount += mutations[i].addedNodes.length;
            if (addedNodesCount > HUGE_MUTATIONS_COUNT) {
              return true;
            }
          }
          return false;
        }
        function getElementsTreeOperations(mutations) {
          var additions = /* @__PURE__ */ new Set();
          var deletions = /* @__PURE__ */ new Set();
          var moves = /* @__PURE__ */ new Set();
          mutations.forEach(function(m) {
            forEach(m.addedNodes, function(n) {
              if (n instanceof Element && n.isConnected) {
                additions.add(n);
              }
            });
            forEach(m.removedNodes, function(n) {
              if (n instanceof Element) {
                if (n.isConnected) {
                  moves.add(n);
                  additions.delete(n);
                } else {
                  deletions.add(n);
                }
              }
            });
          });
          var duplicateAdditions = [];
          var duplicateDeletions = [];
          additions.forEach(function(node) {
            if (additions.has(node.parentElement)) {
              duplicateAdditions.push(node);
            }
          });
          deletions.forEach(function(node) {
            if (deletions.has(node.parentElement)) {
              duplicateDeletions.push(node);
            }
          });
          duplicateAdditions.forEach(function(node) {
            return additions.delete(node);
          });
          duplicateDeletions.forEach(function(node) {
            return deletions.delete(node);
          });
          return { additions, moves, deletions };
        }
        var optimizedTreeObservers = /* @__PURE__ */ new Map();
        var optimizedTreeCallbacks = /* @__PURE__ */ new WeakMap();
        function createOptimizedTreeObserver(root, callbacks) {
          var observer2;
          var observerCallbacks;
          var domReadyListener;
          if (optimizedTreeObservers.has(root)) {
            observer2 = optimizedTreeObservers.get(root);
            observerCallbacks = optimizedTreeCallbacks.get(observer2);
          } else {
            var hadHugeMutationsBefore_1 = false;
            var subscribedForReadyState_1 = false;
            observer2 = new MutationObserver(function(mutations) {
              if (isHugeMutation(mutations)) {
                if (!hadHugeMutationsBefore_1 || isDOMReady()) {
                  observerCallbacks.forEach(function(_a) {
                    var onHugeMutations = _a.onHugeMutations;
                    return onHugeMutations(root);
                  });
                } else if (!subscribedForReadyState_1) {
                  domReadyListener = function() {
                    return observerCallbacks.forEach(function(_a) {
                      var onHugeMutations = _a.onHugeMutations;
                      return onHugeMutations(root);
                    });
                  };
                  addDOMReadyListener(domReadyListener);
                  subscribedForReadyState_1 = true;
                }
                hadHugeMutationsBefore_1 = true;
              } else {
                var elementsOperations_1 = getElementsTreeOperations(mutations);
                observerCallbacks.forEach(function(_a) {
                  var onMinorMutations = _a.onMinorMutations;
                  return onMinorMutations(elementsOperations_1);
                });
              }
            });
            observer2.observe(root, { childList: true, subtree: true });
            optimizedTreeObservers.set(root, observer2);
            observerCallbacks = /* @__PURE__ */ new Set();
            optimizedTreeCallbacks.set(observer2, observerCallbacks);
          }
          observerCallbacks.add(callbacks);
          return {
            disconnect: function() {
              observerCallbacks.delete(callbacks);
              if (domReadyListener) {
                removeDOMReadyListener(domReadyListener);
              }
              if (observerCallbacks.size === 0) {
                observer2.disconnect();
                optimizedTreeCallbacks.delete(observer2);
                optimizedTreeObservers.delete(root);
              }
            }
          };
        }
        var anchor;
        var parsedURLCache = /* @__PURE__ */ new Map();
        function fixBaseURL($url) {
          if (!anchor) {
            anchor = document.createElement("a");
          }
          anchor.href = $url;
          return anchor.href;
        }
        function parseURL($url, $base) {
          if ($base === void 0) {
            $base = null;
          }
          var key = "".concat($url).concat($base ? ";".concat($base) : "");
          if (parsedURLCache.has(key)) {
            return parsedURLCache.get(key);
          }
          if ($base) {
            var parsedURL_1 = new URL($url, fixBaseURL($base));
            parsedURLCache.set(key, parsedURL_1);
            return parsedURL_1;
          }
          var parsedURL = new URL(fixBaseURL($url));
          parsedURLCache.set($url, parsedURL);
          return parsedURL;
        }
        function getAbsoluteURL($base, $relative) {
          if ($relative.match(/^data\\?\:/)) {
            return $relative;
          }
          if (/^\/\//.test($relative)) {
            return "".concat(location.protocol).concat($relative);
          }
          var b = parseURL($base);
          var a = parseURL($relative, b.href);
          return a.href;
        }
        function isRelativeHrefOnAbsolutePath(href) {
          if (href.startsWith("data:")) {
            return true;
          }
          var url = parseURL(href);
          if (url.protocol !== location.protocol) {
            return false;
          }
          if (url.hostname !== location.hostname) {
            return false;
          }
          if (url.port !== location.port) {
            return false;
          }
          return url.pathname === location.pathname;
        }
        function iterateCSSRules(rules, iterate, onMediaRuleError) {
          forEach(rules, function(rule) {
            if (rule.selectorText) {
              iterate(rule);
            } else if (rule.href) {
              try {
                iterateCSSRules(
                  rule.styleSheet.cssRules,
                  iterate,
                  onMediaRuleError
                );
              } catch (err) {
                logInfo("Found a non-loaded link.");
                onMediaRuleError && onMediaRuleError();
              }
            } else if (rule.media) {
              var media = Array.from(rule.media);
              var isScreenOrAllOrQuery = media.some(function(m) {
                return m.startsWith("screen") || m.startsWith("all") || m.startsWith("(");
              });
              var isPrintOrSpeech = media.some(function(m) {
                return m.startsWith("print") || m.startsWith("speech");
              });
              if (isScreenOrAllOrQuery || !isPrintOrSpeech) {
                iterateCSSRules(rule.cssRules, iterate, onMediaRuleError);
              }
            } else if (rule.conditionText) {
              if (CSS.supports(rule.conditionText)) {
                iterateCSSRules(rule.cssRules, iterate, onMediaRuleError);
              }
            } else {
              logWarn("CSSRule type not supported", rule);
            }
          });
        }
        var shorthandVarDependantProperties = [
          "background",
          "border",
          "border-color",
          "border-bottom",
          "border-left",
          "border-right",
          "border-top",
          "outline",
          "outline-color"
        ];
        var shorthandVarDepPropRegexps = isSafari ? shorthandVarDependantProperties.map(function(prop) {
          var regexp = new RegExp("".concat(prop, ":\\s*(.*?)\\s*;"));
          return [prop, regexp];
        }) : null;
        function iterateCSSDeclarations(style, iterate) {
          forEach(style, function(property) {
            var value = style.getPropertyValue(property).trim();
            if (!value) {
              return;
            }
            iterate(property, value);
          });
          var cssText = style.cssText;
          if (cssText.includes("var(")) {
            if (isSafari) {
              shorthandVarDepPropRegexps.forEach(function(_a) {
                var _b = __read(_a, 2), prop = _b[0], regexp = _b[1];
                var match = cssText.match(regexp);
                if (match && match[1]) {
                  var val = match[1].trim();
                  iterate(prop, val);
                }
              });
            } else {
              shorthandVarDependantProperties.forEach(function(prop) {
                var val = style.getPropertyValue(prop);
                if (val && val.includes("var(")) {
                  iterate(prop, val);
                }
              });
            }
          }
        }
        var cssURLRegex = /url\((('.*?')|(".*?")|([^\)]*?))\)/g;
        var cssImportRegex = /@import\s*(url\()?(('.+?')|(".+?")|([^\)]*?))\)? ?(screen)?;?/gi;
        function getCSSURLValue(cssURL) {
          return cssURL.trim().replace(/[\n\r\\]+/g, "").replace(/^url\((.*)\)$/, "$1").trim().replace(/^"(.*)"$/, "$1").replace(/^'(.*)'$/, "$1").replace(/(?:\\(.))/g, "$1");
        }
        function getCSSBaseBath(url) {
          var cssURL = parseURL(url);
          return "".concat(cssURL.origin).concat(
            cssURL.pathname.replace(/\?.*$/, "").replace(/(\/)([^\/]+)$/i, "$1")
          );
        }
        function replaceCSSRelativeURLsWithAbsolute($css, cssBasePath) {
          return $css.replace(cssURLRegex, function(match) {
            var pathValue = getCSSURLValue(match);
            try {
              return "url('".concat(
                getAbsoluteURL(cssBasePath, pathValue),
                "')"
              );
            } catch (err) {
              return match;
            }
          });
        }
        var cssCommentsRegex = /\/\*[\s\S]*?\*\//g;
        function removeCSSComments($css) {
          return $css.replace(cssCommentsRegex, "");
        }
        var fontFaceRegex = /@font-face\s*{[^}]*}/g;
        function replaceCSSFontFace($css) {
          return $css.replace(fontFaceRegex, "");
        }
        function evalMath(expression) {
          var rpnStack = [];
          var workingStack = [];
          var lastToken;
          for (var i = 0, len = expression.length; i < len; i++) {
            var token = expression[i];
            if (!token || token === " ") {
              continue;
            }
            if (operators.has(token)) {
              var op = operators.get(token);
              while (workingStack.length) {
                var currentOp = operators.get(workingStack[0]);
                if (!currentOp) {
                  break;
                }
                if (op.lessOrEqualThan(currentOp)) {
                  rpnStack.push(workingStack.shift());
                } else {
                  break;
                }
              }
              workingStack.unshift(token);
            } else if (!lastToken || operators.has(lastToken)) {
              rpnStack.push(token);
            } else {
              rpnStack[rpnStack.length - 1] += token;
            }
            lastToken = token;
          }
          rpnStack.push.apply(
            rpnStack,
            __spreadArray([], __read(workingStack), false)
          );
          var stack = [];
          for (var i = 0, len = rpnStack.length; i < len; i++) {
            var op = operators.get(rpnStack[i]);
            if (op) {
              var args = stack.splice(0, 2);
              stack.push(op.exec(args[1], args[0]));
            } else {
              stack.unshift(parseFloat(rpnStack[i]));
            }
          }
          return stack[0];
        }
        var Operator = function() {
          function Operator2(precedence, method) {
            this.precendce = precedence;
            this.execMethod = method;
          }
          Operator2.prototype.exec = function(left, right) {
            return this.execMethod(left, right);
          };
          Operator2.prototype.lessOrEqualThan = function(op) {
            return this.precendce <= op.precendce;
          };
          return Operator2;
        }();
        var operators = /* @__PURE__ */ new Map([
          [
            "+",
            new Operator(1, function(left, right) {
              return left + right;
            })
          ],
          [
            "-",
            new Operator(1, function(left, right) {
              return left - right;
            })
          ],
          [
            "*",
            new Operator(2, function(left, right) {
              return left * right;
            })
          ],
          [
            "/",
            new Operator(2, function(left, right) {
              return left / right;
            })
          ]
        ]);
        function getMatches(regex, input, group) {
          if (group === void 0) {
            group = 0;
          }
          var matches = [];
          var m;
          while (m = regex.exec(input)) {
            matches.push(m[group]);
          }
          return matches;
        }
        function formatCSS(text) {
          function trimLeft(text2) {
            return text2.replace(/^\s+/, "");
          }
          function getIndent(depth2) {
            if (depth2 === 0) {
              return "";
            }
            return " ".repeat(4 * depth2);
          }
          if (text.length < 5e4) {
            var emptyRuleRegexp = /[^{}]+{\s*}/;
            while (emptyRuleRegexp.test(text)) {
              text = text.replace(emptyRuleRegexp, "");
            }
          }
          var css = text.replace(/\s{2,}/g, " ").replace(/\{/g, "{\n").replace(/\}/g, "\n}\n").replace(/\;(?![^\(|\"]*(\)|\"))/g, ";\n").replace(/\,(?![^\(|\"]*(\)|\"))/g, ",\n").replace(/\n\s*\n/g, "\n").split("\n");
          var depth = 0;
          var formatted = [];
          for (var x = 0, len = css.length; x < len; x++) {
            var line = "".concat(css[x], "\n");
            if (line.includes("{")) {
              formatted.push(getIndent(depth++) + trimLeft(line));
            } else if (line.includes("}")) {
              formatted.push(getIndent(--depth) + trimLeft(line));
            } else {
              formatted.push(getIndent(depth) + trimLeft(line));
            }
          }
          return formatted.join("").trim();
        }
        function getParenthesesRange(input, searchStartIndex) {
          if (searchStartIndex === void 0) {
            searchStartIndex = 0;
          }
          var length = input.length;
          var depth = 0;
          var firstOpenIndex = -1;
          for (var i = searchStartIndex; i < length; i++) {
            if (depth === 0) {
              var openIndex = input.indexOf("(", i);
              if (openIndex < 0) {
                break;
              }
              firstOpenIndex = openIndex;
              depth++;
              i = openIndex;
            } else {
              var closingIndex = input.indexOf(")", i);
              if (closingIndex < 0) {
                break;
              }
              var openIndex = input.indexOf("(", i);
              if (openIndex < 0 || closingIndex < openIndex) {
                depth--;
                if (depth === 0) {
                  return { start: firstOpenIndex, end: closingIndex + 1 };
                }
                i = closingIndex;
              } else {
                depth++;
                i = openIndex;
              }
            }
          }
          return null;
        }
        var hslaParseCache = /* @__PURE__ */ new Map();
        var rgbaParseCache = /* @__PURE__ */ new Map();
        function parseColorWithCache($color) {
          $color = $color.trim();
          if (rgbaParseCache.has($color)) {
            return rgbaParseCache.get($color);
          }
          if ($color.includes("calc(")) {
            $color = lowerCalcExpression($color);
          }
          var color = parse($color);
          color && rgbaParseCache.set($color, color);
          return color;
        }
        function parseToHSLWithCache(color) {
          if (hslaParseCache.has(color)) {
            return hslaParseCache.get(color);
          }
          var rgb = parseColorWithCache(color);
          if (!rgb) {
            return null;
          }
          var hsl = rgbToHSL(rgb);
          hslaParseCache.set(color, hsl);
          return hsl;
        }
        function clearColorCache() {
          hslaParseCache.clear();
          rgbaParseCache.clear();
        }
        function hslToRGB(_a) {
          var h = _a.h, s = _a.s, l = _a.l, _b = _a.a, a = _b === void 0 ? 1 : _b;
          if (s === 0) {
            var _c = __read(
              [l, l, l].map(function(x2) {
                return Math.round(x2 * 255);
              }),
              3
            ), r_1 = _c[0], b_1 = _c[1], g_1 = _c[2];
            return { r: r_1, g: g_1, b: b_1, a };
          }
          var c = (1 - Math.abs(2 * l - 1)) * s;
          var x = c * (1 - Math.abs(h / 60 % 2 - 1));
          var m = l - c / 2;
          var _d = __read(
            (h < 60 ? [c, x, 0] : h < 120 ? [x, c, 0] : h < 180 ? [0, c, x] : h < 240 ? [0, x, c] : h < 300 ? [x, 0, c] : [c, 0, x]).map(function(n) {
              return Math.round((n + m) * 255);
            }),
            3
          ), r = _d[0], g = _d[1], b = _d[2];
          return { r, g, b, a };
        }
        function rgbToHSL(_a) {
          var r255 = _a.r, g255 = _a.g, b255 = _a.b, _b = _a.a, a = _b === void 0 ? 1 : _b;
          var r = r255 / 255;
          var g = g255 / 255;
          var b = b255 / 255;
          var max = Math.max(r, g, b);
          var min = Math.min(r, g, b);
          var c = max - min;
          var l = (max + min) / 2;
          if (c === 0) {
            return { h: 0, s: 0, l, a };
          }
          var h = (max === r ? (g - b) / c % 6 : max === g ? (b - r) / c + 2 : (r - g) / c + 4) * 60;
          if (h < 0) {
            h += 360;
          }
          var s = c / (1 - Math.abs(2 * l - 1));
          return { h, s, l, a };
        }
        function toFixed(n, digits) {
          if (digits === void 0) {
            digits = 0;
          }
          var fixed = n.toFixed(digits);
          if (digits === 0) {
            return fixed;
          }
          var dot = fixed.indexOf(".");
          if (dot >= 0) {
            var zerosMatch = fixed.match(/0+$/);
            if (zerosMatch) {
              if (zerosMatch.index === dot + 1) {
                return fixed.substring(0, dot);
              }
              return fixed.substring(0, zerosMatch.index);
            }
          }
          return fixed;
        }
        function rgbToString(rgb) {
          var r = rgb.r, g = rgb.g, b = rgb.b, a = rgb.a;
          if (a != null && a < 1) {
            return "rgba(".concat(toFixed(r), ", ").concat(toFixed(g), ", ").concat(toFixed(b), ", ").concat(toFixed(a, 2), ")");
          }
          return "rgb(".concat(toFixed(r), ", ").concat(toFixed(g), ", ").concat(toFixed(b), ")");
        }
        function rgbToHexString(_a) {
          var r = _a.r, g = _a.g, b = _a.b, a = _a.a;
          return "#".concat(
            (a != null && a < 1 ? [r, g, b, Math.round(a * 255)] : [r, g, b]).map(function(x) {
              return "".concat(x < 16 ? "0" : "").concat(x.toString(16));
            }).join("")
          );
        }
        function hslToString(hsl) {
          var h = hsl.h, s = hsl.s, l = hsl.l, a = hsl.a;
          if (a != null && a < 1) {
            return "hsla(".concat(toFixed(h), ", ").concat(toFixed(s * 100), "%, ").concat(toFixed(l * 100), "%, ").concat(toFixed(a, 2), ")");
          }
          return "hsl(".concat(toFixed(h), ", ").concat(toFixed(s * 100), "%, ").concat(toFixed(l * 100), "%)");
        }
        var rgbMatch = /^rgba?\([^\(\)]+\)$/;
        var hslMatch = /^hsla?\([^\(\)]+\)$/;
        var hexMatch = /^#[0-9a-f]+$/i;
        function parse($color) {
          var c = $color.trim().toLowerCase();
          if (c.match(rgbMatch)) {
            return parseRGB(c);
          }
          if (c.match(hslMatch)) {
            return parseHSL(c);
          }
          if (c.match(hexMatch)) {
            return parseHex(c);
          }
          if (knownColors.has(c)) {
            return getColorByName(c);
          }
          if (systemColors.has(c)) {
            return getSystemColor(c);
          }
          if ($color === "transparent") {
            return { r: 0, g: 0, b: 0, a: 0 };
          }
          return null;
        }
        function getNumbers($color) {
          var numbers = [];
          var prevPos = 0;
          var isMining = false;
          var startIndex = $color.indexOf("(");
          $color = $color.substring(startIndex + 1, $color.length - 1);
          for (var i = 0; i < $color.length; i++) {
            var c = $color[i];
            if (c >= "0" && c <= "9" || c === "." || c === "+" || c === "-") {
              isMining = true;
            } else if (isMining && (c === " " || c === "," || c === "/")) {
              numbers.push($color.substring(prevPos, i));
              isMining = false;
              prevPos = i + 1;
            } else if (!isMining) {
              prevPos = i + 1;
            }
          }
          if (isMining) {
            numbers.push($color.substring(prevPos, $color.length));
          }
          return numbers;
        }
        function getNumbersFromString(str, range, units) {
          var raw = getNumbers(str);
          var unitsList = Object.entries(units);
          var numbers = raw.map(function(r) {
            return r.trim();
          }).map(function(r, i) {
            var n;
            var unit = unitsList.find(function(_a) {
              var _b = __read(_a, 1), u = _b[0];
              return r.endsWith(u);
            });
            if (unit) {
              n = parseFloat(r.substring(0, r.length - unit[0].length)) / unit[1] * range[i];
            } else {
              n = parseFloat(r);
            }
            if (range[i] > 1) {
              return Math.round(n);
            }
            return n;
          });
          return numbers;
        }
        var rgbRange = [255, 255, 255, 1];
        var rgbUnits = { "%": 100 };
        function parseRGB($rgb) {
          var _a = __read(getNumbersFromString($rgb, rgbRange, rgbUnits), 4), r = _a[0], g = _a[1], b = _a[2], _b = _a[3], a = _b === void 0 ? 1 : _b;
          return { r, g, b, a };
        }
        var hslRange = [360, 1, 1, 1];
        var hslUnits = { "%": 100, "deg": 360, "rad": 2 * Math.PI, "turn": 1 };
        function parseHSL($hsl) {
          var _a = __read(getNumbersFromString($hsl, hslRange, hslUnits), 4), h = _a[0], s = _a[1], l = _a[2], _b = _a[3], a = _b === void 0 ? 1 : _b;
          return hslToRGB({ h, s, l, a });
        }
        function parseHex($hex) {
          var h = $hex.substring(1);
          switch (h.length) {
            case 3:
            case 4: {
              var _a = __read(
                [0, 1, 2].map(function(i) {
                  return parseInt("".concat(h[i]).concat(h[i]), 16);
                }),
                3
              ), r = _a[0], g = _a[1], b = _a[2];
              var a = h.length === 3 ? 1 : parseInt("".concat(h[3]).concat(h[3]), 16) / 255;
              return { r, g, b, a };
            }
            case 6:
            case 8: {
              var _b = __read(
                [0, 2, 4].map(function(i) {
                  return parseInt(h.substring(i, i + 2), 16);
                }),
                3
              ), r = _b[0], g = _b[1], b = _b[2];
              var a = h.length === 6 ? 1 : parseInt(h.substring(6, 8), 16) / 255;
              return { r, g, b, a };
            }
          }
          return null;
        }
        function getColorByName($color) {
          var n = knownColors.get($color);
          return {
            r: n >> 16 & 255,
            g: n >> 8 & 255,
            b: n >> 0 & 255,
            a: 1
          };
        }
        function getSystemColor($color) {
          var n = systemColors.get($color);
          return {
            r: n >> 16 & 255,
            g: n >> 8 & 255,
            b: n >> 0 & 255,
            a: 1
          };
        }
        function lowerCalcExpression(color) {
          var searchIndex = 0;
          var replaceBetweenIndices = function(start, end, replacement) {
            color = color.substring(0, start) + replacement + color.substring(end);
          };
          while ((searchIndex = color.indexOf("calc(")) !== -1) {
            var range = getParenthesesRange(color, searchIndex);
            if (!range) {
              break;
            }
            var slice = color.slice(range.start + 1, range.end - 1);
            var includesPercentage = slice.includes("%");
            slice = slice.split("%").join("");
            var output = Math.round(evalMath(slice));
            replaceBetweenIndices(
              range.start - 4,
              range.end,
              output + (includesPercentage ? "%" : "")
            );
          }
          return color;
        }
        var knownColors = new Map(
          Object.entries({
            aliceblue: 15792383,
            antiquewhite: 16444375,
            aqua: 65535,
            aquamarine: 8388564,
            azure: 15794175,
            beige: 16119260,
            bisque: 16770244,
            black: 0,
            blanchedalmond: 16772045,
            blue: 255,
            blueviolet: 9055202,
            brown: 10824234,
            burlywood: 14596231,
            cadetblue: 6266528,
            chartreuse: 8388352,
            chocolate: 13789470,
            coral: 16744272,
            cornflowerblue: 6591981,
            cornsilk: 16775388,
            crimson: 14423100,
            cyan: 65535,
            darkblue: 139,
            darkcyan: 35723,
            darkgoldenrod: 12092939,
            darkgray: 11119017,
            darkgrey: 11119017,
            darkgreen: 25600,
            darkkhaki: 12433259,
            darkmagenta: 9109643,
            darkolivegreen: 5597999,
            darkorange: 16747520,
            darkorchid: 10040012,
            darkred: 9109504,
            darksalmon: 15308410,
            darkseagreen: 9419919,
            darkslateblue: 4734347,
            darkslategray: 3100495,
            darkslategrey: 3100495,
            darkturquoise: 52945,
            darkviolet: 9699539,
            deeppink: 16716947,
            deepskyblue: 49151,
            dimgray: 6908265,
            dimgrey: 6908265,
            dodgerblue: 2003199,
            firebrick: 11674146,
            floralwhite: 16775920,
            forestgreen: 2263842,
            fuchsia: 16711935,
            gainsboro: 14474460,
            ghostwhite: 16316671,
            gold: 16766720,
            goldenrod: 14329120,
            gray: 8421504,
            grey: 8421504,
            green: 32768,
            greenyellow: 11403055,
            honeydew: 15794160,
            hotpink: 16738740,
            indianred: 13458524,
            indigo: 4915330,
            ivory: 16777200,
            khaki: 15787660,
            lavender: 15132410,
            lavenderblush: 16773365,
            lawngreen: 8190976,
            lemonchiffon: 16775885,
            lightblue: 11393254,
            lightcoral: 15761536,
            lightcyan: 14745599,
            lightgoldenrodyellow: 16448210,
            lightgray: 13882323,
            lightgrey: 13882323,
            lightgreen: 9498256,
            lightpink: 16758465,
            lightsalmon: 16752762,
            lightseagreen: 2142890,
            lightskyblue: 8900346,
            lightslategray: 7833753,
            lightslategrey: 7833753,
            lightsteelblue: 11584734,
            lightyellow: 16777184,
            lime: 65280,
            limegreen: 3329330,
            linen: 16445670,
            magenta: 16711935,
            maroon: 8388608,
            mediumaquamarine: 6737322,
            mediumblue: 205,
            mediumorchid: 12211667,
            mediumpurple: 9662683,
            mediumseagreen: 3978097,
            mediumslateblue: 8087790,
            mediumspringgreen: 64154,
            mediumturquoise: 4772300,
            mediumvioletred: 13047173,
            midnightblue: 1644912,
            mintcream: 16121850,
            mistyrose: 16770273,
            moccasin: 16770229,
            navajowhite: 16768685,
            navy: 128,
            oldlace: 16643558,
            olive: 8421376,
            olivedrab: 7048739,
            orange: 16753920,
            orangered: 16729344,
            orchid: 14315734,
            palegoldenrod: 15657130,
            palegreen: 10025880,
            paleturquoise: 11529966,
            palevioletred: 14381203,
            papayawhip: 16773077,
            peachpuff: 16767673,
            peru: 13468991,
            pink: 16761035,
            plum: 14524637,
            powderblue: 11591910,
            purple: 8388736,
            rebeccapurple: 6697881,
            red: 16711680,
            rosybrown: 12357519,
            royalblue: 4286945,
            saddlebrown: 9127187,
            salmon: 16416882,
            sandybrown: 16032864,
            seagreen: 3050327,
            seashell: 16774638,
            sienna: 10506797,
            silver: 12632256,
            skyblue: 8900331,
            slateblue: 6970061,
            slategray: 7372944,
            slategrey: 7372944,
            snow: 16775930,
            springgreen: 65407,
            steelblue: 4620980,
            tan: 13808780,
            teal: 32896,
            thistle: 14204888,
            tomato: 16737095,
            turquoise: 4251856,
            violet: 15631086,
            wheat: 16113331,
            white: 16777215,
            whitesmoke: 16119285,
            yellow: 16776960,
            yellowgreen: 10145074
          })
        );
        var systemColors = new Map(
          Object.entries({
            "ActiveBorder": 3906044,
            "ActiveCaption": 0,
            "AppWorkspace": 11184810,
            "Background": 6513614,
            "ButtonFace": 16777215,
            "ButtonHighlight": 15329769,
            "ButtonShadow": 10461343,
            "ButtonText": 0,
            "CaptionText": 0,
            "GrayText": 8355711,
            "Highlight": 11720703,
            "HighlightText": 0,
            "InactiveBorder": 16777215,
            "InactiveCaption": 16777215,
            "InactiveCaptionText": 0,
            "InfoBackground": 16514245,
            "InfoText": 0,
            "Menu": 16185078,
            "MenuText": 16777215,
            "Scrollbar": 11184810,
            "ThreeDDarkShadow": 0,
            "ThreeDFace": 12632256,
            "ThreeDHighlight": 16777215,
            "ThreeDLightShadow": 16777215,
            "ThreeDShadow": 0,
            "Window": 15527148,
            "WindowFrame": 11184810,
            "WindowText": 0,
            "-webkit-focus-ring-color": 15046400
          }).map(function(_a) {
            var _b = __read(_a, 2), key = _b[0], value = _b[1];
            return [key.toLowerCase(), value];
          })
        );
        function getSRGBLightness(r, g, b) {
          return (0.2126 * r + 0.7152 * g + 0.0722 * b) / 255;
        }
        function scale(x, inLow, inHigh, outLow, outHigh) {
          return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;
        }
        function clamp(x, min, max) {
          return Math.min(max, Math.max(min, x));
        }
        function multiplyMatrices(m1, m2) {
          var result = [];
          for (var i = 0, len = m1.length; i < len; i++) {
            result[i] = [];
            for (var j = 0, len2 = m2[0].length; j < len2; j++) {
              var sum = 0;
              for (var k = 0, len3 = m1[0].length; k < len3; k++) {
                sum += m1[i][k] * m2[k][j];
              }
              result[i][j] = sum;
            }
          }
          return result;
        }
        function createFilterMatrix(config) {
          var m = Matrix.identity();
          if (config.sepia !== 0) {
            m = multiplyMatrices(m, Matrix.sepia(config.sepia / 100));
          }
          if (config.grayscale !== 0) {
            m = multiplyMatrices(m, Matrix.grayscale(config.grayscale / 100));
          }
          if (config.contrast !== 100) {
            m = multiplyMatrices(m, Matrix.contrast(config.contrast / 100));
          }
          if (config.brightness !== 100) {
            m = multiplyMatrices(m, Matrix.brightness(config.brightness / 100));
          }
          if (config.mode === 1) {
            m = multiplyMatrices(m, Matrix.invertNHue());
          }
          return m;
        }
        function applyColorMatrix(_a, matrix) {
          var _b = __read(_a, 3), r = _b[0], g = _b[1], b = _b[2];
          var rgb = [[r / 255], [g / 255], [b / 255], [1], [1]];
          var result = multiplyMatrices(matrix, rgb);
          return [0, 1, 2].map(function(i) {
            return clamp(Math.round(result[i][0] * 255), 0, 255);
          });
        }
        var Matrix = {
          identity: function() {
            return [
              [1, 0, 0, 0, 0],
              [0, 1, 0, 0, 0],
              [0, 0, 1, 0, 0],
              [0, 0, 0, 1, 0],
              [0, 0, 0, 0, 1]
            ];
          },
          invertNHue: function() {
            return [
              [0.333, -0.667, -0.667, 0, 1],
              [-0.667, 0.333, -0.667, 0, 1],
              [-0.667, -0.667, 0.333, 0, 1],
              [0, 0, 0, 1, 0],
              [0, 0, 0, 0, 1]
            ];
          },
          brightness: function(v) {
            return [
              [v, 0, 0, 0, 0],
              [0, v, 0, 0, 0],
              [0, 0, v, 0, 0],
              [0, 0, 0, 1, 0],
              [0, 0, 0, 0, 1]
            ];
          },
          contrast: function(v) {
            var t = (1 - v) / 2;
            return [
              [v, 0, 0, 0, t],
              [0, v, 0, 0, t],
              [0, 0, v, 0, t],
              [0, 0, 0, 1, 0],
              [0, 0, 0, 0, 1]
            ];
          },
          sepia: function(v) {
            return [
              [
                0.393 + 0.607 * (1 - v),
                0.769 - 0.769 * (1 - v),
                0.189 - 0.189 * (1 - v),
                0,
                0
              ],
              [
                0.349 - 0.349 * (1 - v),
                0.686 + 0.314 * (1 - v),
                0.168 - 0.168 * (1 - v),
                0,
                0
              ],
              [
                0.272 - 0.272 * (1 - v),
                0.534 - 0.534 * (1 - v),
                0.131 + 0.869 * (1 - v),
                0,
                0
              ],
              [0, 0, 0, 1, 0],
              [0, 0, 0, 0, 1]
            ];
          },
          grayscale: function(v) {
            return [
              [
                0.2126 + 0.7874 * (1 - v),
                0.7152 - 0.7152 * (1 - v),
                0.0722 - 0.0722 * (1 - v),
                0,
                0
              ],
              [
                0.2126 - 0.2126 * (1 - v),
                0.7152 + 0.2848 * (1 - v),
                0.0722 - 0.0722 * (1 - v),
                0,
                0
              ],
              [
                0.2126 - 0.2126 * (1 - v),
                0.7152 - 0.7152 * (1 - v),
                0.0722 + 0.9278 * (1 - v),
                0,
                0
              ],
              [0, 0, 0, 1, 0],
              [0, 0, 0, 0, 1]
            ];
          }
        };
        function getBgPole(theme) {
          var isDarkScheme = theme.mode === 1;
          var prop = isDarkScheme ? "darkSchemeBackgroundColor" : "lightSchemeBackgroundColor";
          return theme[prop];
        }
        function getFgPole(theme) {
          var isDarkScheme = theme.mode === 1;
          var prop = isDarkScheme ? "darkSchemeTextColor" : "lightSchemeTextColor";
          return theme[prop];
        }
        var colorModificationCache = /* @__PURE__ */ new Map();
        function clearColorModificationCache() {
          colorModificationCache.clear();
        }
        var rgbCacheKeys = ["r", "g", "b", "a"];
        var themeCacheKeys$1 = [
          "mode",
          "brightness",
          "contrast",
          "grayscale",
          "sepia",
          "darkSchemeBackgroundColor",
          "darkSchemeTextColor",
          "lightSchemeBackgroundColor",
          "lightSchemeTextColor"
        ];
        function getCacheId(rgb, theme) {
          var resultId = "";
          rgbCacheKeys.forEach(function(key) {
            resultId += "".concat(rgb[key], ";");
          });
          themeCacheKeys$1.forEach(function(key) {
            resultId += "".concat(theme[key], ";");
          });
          return resultId;
        }
        function modifyColorWithCache(rgb, theme, modifyHSL, poleColor, anotherPoleColor) {
          var fnCache;
          if (colorModificationCache.has(modifyHSL)) {
            fnCache = colorModificationCache.get(modifyHSL);
          } else {
            fnCache = /* @__PURE__ */ new Map();
            colorModificationCache.set(modifyHSL, fnCache);
          }
          var id = getCacheId(rgb, theme);
          if (fnCache.has(id)) {
            return fnCache.get(id);
          }
          var hsl = rgbToHSL(rgb);
          var pole = poleColor == null ? null : parseToHSLWithCache(poleColor);
          var anotherPole = anotherPoleColor == null ? null : parseToHSLWithCache(anotherPoleColor);
          var modified = modifyHSL(hsl, pole, anotherPole);
          var _a = hslToRGB(modified), r = _a.r, g = _a.g, b = _a.b, a = _a.a;
          var matrix = createFilterMatrix(theme);
          var _b = __read(applyColorMatrix([r, g, b], matrix), 3), rf = _b[0], gf = _b[1], bf = _b[2];
          var color = a === 1 ? rgbToHexString({ r: rf, g: gf, b: bf }) : rgbToString({ r: rf, g: gf, b: bf, a });
          fnCache.set(id, color);
          return color;
        }
        function noopHSL(hsl) {
          return hsl;
        }
        function modifyColor(rgb, theme) {
          return modifyColorWithCache(rgb, theme, noopHSL);
        }
        function modifyLightSchemeColor(rgb, theme) {
          var poleBg = getBgPole(theme);
          var poleFg = getFgPole(theme);
          return modifyColorWithCache(
            rgb,
            theme,
            modifyLightModeHSL,
            poleFg,
            poleBg
          );
        }
        function modifyLightModeHSL(_a, poleFg, poleBg) {
          var h = _a.h, s = _a.s, l = _a.l, a = _a.a;
          var isDark = l < 0.5;
          var isNeutral;
          if (isDark) {
            isNeutral = l < 0.2 || s < 0.12;
          } else {
            var isBlue = h > 200 && h < 280;
            isNeutral = s < 0.24 || l > 0.8 && isBlue;
          }
          var hx = h;
          var sx = l;
          if (isNeutral) {
            if (isDark) {
              hx = poleFg.h;
              sx = poleFg.s;
            } else {
              hx = poleBg.h;
              sx = poleBg.s;
            }
          }
          var lx = scale(l, 0, 1, poleFg.l, poleBg.l);
          return { h: hx, s: sx, l: lx, a };
        }
        var MAX_BG_LIGHTNESS = 0.4;
        function modifyBgHSL(_a, pole) {
          var h = _a.h, s = _a.s, l = _a.l, a = _a.a;
          var isDark = l < 0.5;
          var isBlue = h > 200 && h < 280;
          var isNeutral = s < 0.12 || l > 0.8 && isBlue;
          if (isDark) {
            var lx_1 = scale(l, 0, 0.5, 0, MAX_BG_LIGHTNESS);
            if (isNeutral) {
              var hx_1 = pole.h;
              var sx = pole.s;
              return { h: hx_1, s: sx, l: lx_1, a };
            }
            return { h, s, l: lx_1, a };
          }
          var lx = scale(l, 0.5, 1, MAX_BG_LIGHTNESS, pole.l);
          if (isNeutral) {
            var hx_2 = pole.h;
            var sx = pole.s;
            return { h: hx_2, s: sx, l: lx, a };
          }
          var hx = h;
          var isYellow = h > 60 && h < 180;
          if (isYellow) {
            var isCloserToGreen = h > 120;
            if (isCloserToGreen) {
              hx = scale(h, 120, 180, 135, 180);
            } else {
              hx = scale(h, 60, 120, 60, 105);
            }
          }
          if (hx > 40 && hx < 80) {
            lx *= 0.75;
          }
          return { h: hx, s, l: lx, a };
        }
        function modifyBackgroundColor(rgb, theme) {
          if (theme.mode === 0) {
            return modifyLightSchemeColor(rgb, theme);
          }
          var pole = getBgPole(theme);
          return modifyColorWithCache(
            rgb,
            __assign(__assign({}, theme), { mode: 0 }),
            modifyBgHSL,
            pole
          );
        }
        var MIN_FG_LIGHTNESS = 0.55;
        function modifyBlueFgHue(hue) {
          return scale(hue, 205, 245, 205, 220);
        }
        function modifyFgHSL(_a, pole) {
          var h = _a.h, s = _a.s, l = _a.l, a = _a.a;
          var isLight = l > 0.5;
          var isNeutral = l < 0.2 || s < 0.24;
          var isBlue = !isNeutral && h > 205 && h < 245;
          if (isLight) {
            var lx_2 = scale(l, 0.5, 1, MIN_FG_LIGHTNESS, pole.l);
            if (isNeutral) {
              var hx_3 = pole.h;
              var sx = pole.s;
              return { h: hx_3, s: sx, l: lx_2, a };
            }
            var hx_4 = h;
            if (isBlue) {
              hx_4 = modifyBlueFgHue(h);
            }
            return { h: hx_4, s, l: lx_2, a };
          }
          if (isNeutral) {
            var hx_5 = pole.h;
            var sx = pole.s;
            var lx_3 = scale(l, 0, 0.5, pole.l, MIN_FG_LIGHTNESS);
            return { h: hx_5, s: sx, l: lx_3, a };
          }
          var hx = h;
          var lx;
          if (isBlue) {
            hx = modifyBlueFgHue(h);
            lx = scale(l, 0, 0.5, pole.l, Math.min(1, MIN_FG_LIGHTNESS + 0.05));
          } else {
            lx = scale(l, 0, 0.5, pole.l, MIN_FG_LIGHTNESS);
          }
          return { h: hx, s, l: lx, a };
        }
        function modifyForegroundColor(rgb, theme) {
          if (theme.mode === 0) {
            return modifyLightSchemeColor(rgb, theme);
          }
          var pole = getFgPole(theme);
          return modifyColorWithCache(
            rgb,
            __assign(__assign({}, theme), { mode: 0 }),
            modifyFgHSL,
            pole
          );
        }
        function modifyBorderHSL(_a, poleFg, poleBg) {
          var h = _a.h, s = _a.s, l = _a.l, a = _a.a;
          var isDark = l < 0.5;
          var isNeutral = l < 0.2 || s < 0.24;
          var hx = h;
          var sx = s;
          if (isNeutral) {
            if (isDark) {
              hx = poleFg.h;
              sx = poleFg.s;
            } else {
              hx = poleBg.h;
              sx = poleBg.s;
            }
          }
          var lx = scale(l, 0, 1, 0.5, 0.2);
          return { h: hx, s: sx, l: lx, a };
        }
        function modifyBorderColor(rgb, theme) {
          if (theme.mode === 0) {
            return modifyLightSchemeColor(rgb, theme);
          }
          var poleFg = getFgPole(theme);
          var poleBg = getBgPole(theme);
          return modifyColorWithCache(
            rgb,
            __assign(__assign({}, theme), { mode: 0 }),
            modifyBorderHSL,
            poleFg,
            poleBg
          );
        }
        function modifyShadowColor(rgb, filter2) {
          return modifyBackgroundColor(rgb, filter2);
        }
        function modifyGradientColor(rgb, filter2) {
          return modifyBackgroundColor(rgb, filter2);
        }
        function createTextStyle(config) {
          var lines = [];
          lines.push(
            '*:not(pre, pre *, code, .far, .fa, .glyphicon, [class*="vjs-"], .fab, .fa-github, .fas, .material-icons, .icofont, .typcn, mu, [class*="mu-"], .glyphicon, .icon) {'
          );
          if (config.useFont && config.fontFamily) {
            lines.push(
              "  font-family: ".concat(config.fontFamily, " !important;")
            );
          }
          if (config.textStroke > 0) {
            lines.push(
              "  -webkit-text-stroke: ".concat(
                config.textStroke,
                "px !important;"
              )
            );
            lines.push(
              "  text-stroke: ".concat(config.textStroke, "px !important;")
            );
          }
          lines.push("}");
          return lines.join("\n");
        }
        var FilterMode;
        (function(FilterMode2) {
          FilterMode2[FilterMode2["light"] = 0] = "light";
          FilterMode2[FilterMode2["dark"] = 1] = "dark";
        })(FilterMode || (FilterMode = {}));
        function getCSSFilterValue(config) {
          var filters = [];
          if (config.mode === FilterMode.dark) {
            filters.push("invert(100%) hue-rotate(180deg)");
          }
          if (config.brightness !== 100) {
            filters.push("brightness(".concat(config.brightness, "%)"));
          }
          if (config.contrast !== 100) {
            filters.push("contrast(".concat(config.contrast, "%)"));
          }
          if (config.grayscale !== 0) {
            filters.push("grayscale(".concat(config.grayscale, "%)"));
          }
          if (config.sepia !== 0) {
            filters.push("sepia(".concat(config.sepia, "%)"));
          }
          if (filters.length === 0) {
            return null;
          }
          return filters.join(" ");
        }
        function toSVGMatrix(matrix) {
          return matrix.slice(0, 4).map(function(m) {
            return m.map(function(m2) {
              return m2.toFixed(3);
            }).join(" ");
          }).join(" ");
        }
        function getSVGFilterMatrixValue(config) {
          return toSVGMatrix(createFilterMatrix(config));
        }
        function hexify(number) {
          return (number < 16 ? "0" : "") + number.toString(16);
        }
        function generateUID() {
          if ("randomUUID" in crypto) {
            var uuid = crypto.randomUUID();
            return uuid.substring(0, 8) + uuid.substring(9, 13) + uuid.substring(14, 18) + uuid.substring(19, 23) + uuid.substring(24);
          }
          if ("getRandomValues" in crypto) {
            return Array.from(crypto.getRandomValues(new Uint8Array(16))).map(function(x) {
              return hexify(x);
            }).join("");
          }
          return Math.floor(Math.random() * Math.pow(2, 55)).toString(36);
        }
        var resolvers$1 = /* @__PURE__ */ new Map();
        var rejectors = /* @__PURE__ */ new Map();
        function bgFetch(request) {
          return __awaiter(this, void 0, void 0, function() {
            return __generator(this, function(_a) {
              return [
                2,
                new Promise(function(resolve, reject) {
                  var id = generateUID();
                  resolvers$1.set(id, resolve);
                  rejectors.set(id, reject);
                  chrome.runtime.sendMessage({
                    type: MessageTypeCStoBG.FETCH,
                    data: request,
                    id
                  });
                })
              ];
            });
          });
        }
        chrome.runtime.onMessage.addListener(function(_a) {
          var type = _a.type, data = _a.data, error = _a.error, id = _a.id;
          if (type === MessageTypeBGtoCS.FETCH_RESPONSE) {
            var resolve = resolvers$1.get(id);
            var reject = rejectors.get(id);
            resolvers$1.delete(id);
            rejectors.delete(id);
            if (error) {
              reject && reject(error);
            } else {
              resolve && resolve(data);
            }
          }
        });
        var AsyncQueue = function() {
          function AsyncQueue2() {
            this.queue = [];
            this.timerId = null;
            this.frameDuration = 1e3 / 60;
          }
          AsyncQueue2.prototype.addToQueue = function(entry) {
            this.queue.push(entry);
            this.startQueue();
          };
          AsyncQueue2.prototype.stopQueue = function() {
            if (this.timerId !== null) {
              cancelAnimationFrame(this.timerId);
              this.timerId = null;
            }
            this.queue = [];
          };
          AsyncQueue2.prototype.startQueue = function() {
            var _this = this;
            if (this.timerId) {
              return;
            }
            this.timerId = requestAnimationFrame(function() {
              _this.timerId = null;
              var start = Date.now();
              var cb;
              while (cb = _this.queue.shift()) {
                cb();
                if (Date.now() - start >= _this.frameDuration) {
                  _this.startQueue();
                  break;
                }
              }
            });
          };
          return AsyncQueue2;
        }();
        var imageManager = new AsyncQueue();
        function getImageDetails(url) {
          return __awaiter(this, void 0, void 0, function() {
            var _this = this;
            return __generator(this, function(_a) {
              return [
                2,
                new Promise(function(resolve, reject) {
                  return __awaiter(_this, void 0, void 0, function() {
                    var dataURL, error_1, image_1, error_2;
                    return __generator(this, function(_a2) {
                      switch (_a2.label) {
                        case 0:
                          if (!url.startsWith("data:"))
                            return [3, 1];
                          dataURL = url;
                          return [3, 4];
                        case 1:
                          _a2.trys.push([1, 3, , 4]);
                          return [4, getImageDataURL(url)];
                        case 2:
                          dataURL = _a2.sent();
                          return [3, 4];
                        case 3:
                          error_1 = _a2.sent();
                          reject(error_1);
                          return [2];
                        case 4:
                          _a2.trys.push([4, 6, , 7]);
                          return [4, urlToImage(dataURL)];
                        case 5:
                          image_1 = _a2.sent();
                          imageManager.addToQueue(function() {
                            var analysis = analyzeImage(image_1);
                            resolve(
                              __assign(
                                {
                                  src: url,
                                  dataURL: analysis.isLarge ? "" : dataURL,
                                  width: image_1.naturalWidth,
                                  height: image_1.naturalHeight
                                },
                                analysis
                              )
                            );
                          });
                          return [3, 7];
                        case 6:
                          error_2 = _a2.sent();
                          reject(error_2);
                          return [3, 7];
                        case 7:
                          return [2];
                      }
                    });
                  });
                })
              ];
            });
          });
        }
        function getImageDataURL(url) {
          return __awaiter(this, void 0, void 0, function() {
            var parsedURL;
            return __generator(this, function(_a) {
              switch (_a.label) {
                case 0:
                  parsedURL = new URL(url);
                  if (!(parsedURL.origin === location.origin))
                    return [3, 2];
                  return [4, loadAsDataURL(url)];
                case 1:
                  return [2, _a.sent()];
                case 2:
                  return [
                    4,
                    bgFetch({ url, responseType: "data-url" })
                  ];
                case 3:
                  return [2, _a.sent()];
              }
            });
          });
        }
        function urlToImage(url) {
          return __awaiter(this, void 0, void 0, function() {
            return __generator(this, function(_a) {
              return [
                2,
                new Promise(function(resolve, reject) {
                  var image = new Image();
                  image.onload = function() {
                    return resolve(image);
                  };
                  image.onerror = function() {
                    return reject("Unable to load image ".concat(url));
                  };
                  image.src = url;
                })
              ];
            });
          });
        }
        var MAX_ANALYSIS_PIXELS_COUNT = 32 * 32;
        var canvas;
        var context;
        function createCanvas() {
          var maxWidth = MAX_ANALYSIS_PIXELS_COUNT;
          var maxHeight = MAX_ANALYSIS_PIXELS_COUNT;
          canvas = document.createElement("canvas");
          canvas.width = maxWidth;
          canvas.height = maxHeight;
          context = canvas.getContext("2d", { willReadFrequently: true });
          context.imageSmoothingEnabled = false;
        }
        function removeCanvas() {
          canvas = null;
          context = null;
        }
        var LARGE_IMAGE_PIXELS_COUNT = 512 * 512;
        function analyzeImage(image) {
          if (!canvas) {
            createCanvas();
          }
          var naturalWidth = image.naturalWidth, naturalHeight = image.naturalHeight;
          if (naturalHeight === 0 || naturalWidth === 0) {
            logWarn("logWarn(Image is empty ".concat(image.currentSrc, ")"));
            return {
              isDark: false,
              isLight: false,
              isTransparent: false,
              isLarge: false,
              isTooLarge: false
            };
          }
          if (naturalWidth * naturalHeight > LARGE_IMAGE_PIXELS_COUNT) {
            return {
              isDark: false,
              isLight: false,
              isTransparent: false,
              isLarge: true
            };
          }
          var naturalPixelsCount = naturalWidth * naturalHeight;
          var k = Math.min(
            1,
            Math.sqrt(MAX_ANALYSIS_PIXELS_COUNT / naturalPixelsCount)
          );
          var width = Math.ceil(naturalWidth * k);
          var height = Math.ceil(naturalHeight * k);
          context.clearRect(0, 0, width, height);
          context.drawImage(
            image,
            0,
            0,
            naturalWidth,
            naturalHeight,
            0,
            0,
            width,
            height
          );
          var imageData = context.getImageData(0, 0, width, height);
          var d = imageData.data;
          var TRANSPARENT_ALPHA_THRESHOLD = 0.05;
          var DARK_LIGHTNESS_THRESHOLD = 0.4;
          var LIGHT_LIGHTNESS_THRESHOLD = 0.7;
          var transparentPixelsCount = 0;
          var darkPixelsCount = 0;
          var lightPixelsCount = 0;
          var i, x, y;
          var r, g, b, a;
          var l;
          for (y = 0; y < height; y++) {
            for (x = 0; x < width; x++) {
              i = 4 * (y * width + x);
              r = d[i + 0];
              g = d[i + 1];
              b = d[i + 2];
              a = d[i + 3];
              if (a / 255 < TRANSPARENT_ALPHA_THRESHOLD) {
                transparentPixelsCount++;
              } else {
                l = getSRGBLightness(r, g, b);
                if (l < DARK_LIGHTNESS_THRESHOLD) {
                  darkPixelsCount++;
                }
                if (l > LIGHT_LIGHTNESS_THRESHOLD) {
                  lightPixelsCount++;
                }
              }
            }
          }
          var totalPixelsCount = width * height;
          var opaquePixelsCount = totalPixelsCount - transparentPixelsCount;
          var DARK_IMAGE_THRESHOLD = 0.7;
          var LIGHT_IMAGE_THRESHOLD = 0.7;
          var TRANSPARENT_IMAGE_THRESHOLD = 0.1;
          return {
            isDark: darkPixelsCount / opaquePixelsCount >= DARK_IMAGE_THRESHOLD,
            isLight: lightPixelsCount / opaquePixelsCount >= LIGHT_IMAGE_THRESHOLD,
            isTransparent: transparentPixelsCount / totalPixelsCount >= TRANSPARENT_IMAGE_THRESHOLD,
            isLarge: false
          };
        }
        function getFilteredImageDataURL(_a, theme) {
          var dataURL = _a.dataURL, width = _a.width, height = _a.height;
          var matrix = getSVGFilterMatrixValue(theme);
          var svg = [
            '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'.concat(width, '" height="').concat(height, '">'),
            "<defs>",
            '<filter id="darkreader-image-filter">',
            '<feColorMatrix type="matrix" values="'.concat(matrix, '" />'),
            "</filter>",
            "</defs>",
            '<image width="'.concat(width, '" height="').concat(
              height,
              '" filter="url(#darkreader-image-filter)" xlink:href="'
            ).concat(dataURL, '" />'),
            "</svg>"
          ].join("");
          return "data:image/svg+xml;base64,".concat(btoa(svg));
        }
        function cleanImageProcessingCache() {
          imageManager && imageManager.stopQueue();
          removeCanvas();
        }
        var gradientLength = "gradient".length;
        var conicGradient = "conic-";
        var conicGradientLength = conicGradient.length;
        var radialGradient = "radial-";
        var linearGradient = "linear-";
        function parseGradient(value) {
          var result = [];
          var index = 0;
          var startIndex = conicGradient.length;
          var _loop_1 = function() {
            var typeGradient;
            [linearGradient, radialGradient, conicGradient].find(
              function(possibleType) {
                if (index - possibleType.length >= 0) {
                  var possibleGradient = value.substring(
                    index - possibleType.length,
                    index
                  );
                  if (possibleGradient === possibleType) {
                    if (value.slice(
                      index - possibleType.length - 10,
                      index - possibleType.length - 1
                    ) === "repeating") {
                      typeGradient = "repeating-".concat(
                        possibleType,
                        "gradient"
                      );
                      return true;
                    }
                    if (value.slice(
                      index - possibleType.length - 8,
                      index - possibleType.length - 1
                    ) === "-webkit") {
                      typeGradient = "-webkit-".concat(
                        possibleType,
                        "gradient"
                      );
                      return true;
                    }
                    typeGradient = "".concat(possibleType, "gradient");
                    return true;
                  }
                }
              }
            );
            if (!typeGradient) {
              return "break";
            }
            var _a = getParenthesesRange(value, index + gradientLength), start = _a.start, end = _a.end;
            var match = value.substring(start + 1, end - 1);
            startIndex = end + 1 + conicGradientLength;
            result.push({
              typeGradient,
              match,
              offset: typeGradient.length + 2,
              index: index - typeGradient.length + gradientLength,
              hasComma: true
            });
          };
          while ((index = value.indexOf("gradient", startIndex)) !== -1) {
            var state_1 = _loop_1();
            if (state_1 === "break")
              break;
          }
          if (result.length) {
            result[result.length - 1].hasComma = false;
          }
          return result;
        }
        function getPriority(ruleStyle, property) {
          return Boolean(ruleStyle && ruleStyle.getPropertyPriority(property));
        }
        function getModifiableCSSDeclaration(property, value, rule, variablesStore2, ignoreImageSelectors, isCancelled) {
          if (property.startsWith("--")) {
            var modifier = getVariableModifier(
              variablesStore2,
              property,
              value,
              rule,
              ignoreImageSelectors,
              isCancelled
            );
            if (modifier) {
              return {
                property,
                value: modifier,
                important: getPriority(rule.style, property),
                sourceValue: value
              };
            }
          } else if (value.includes("var(")) {
            var modifier = getVariableDependantModifier(
              variablesStore2,
              property,
              value
            );
            if (modifier) {
              return {
                property,
                value: modifier,
                important: getPriority(rule.style, property),
                sourceValue: value
              };
            }
          } else if (property === "color-scheme") {
            return null;
          } else if (property.includes("color") && property !== "-webkit-print-color-adjust" || property === "fill" || property === "stroke" || property === "stop-color") {
            var modifier = getColorModifier(property, value, rule);
            if (modifier) {
              return {
                property,
                value: modifier,
                important: getPriority(rule.style, property),
                sourceValue: value
              };
            }
          } else if (property === "background-image" || property === "list-style-image") {
            var modifier = getBgImageModifier(
              value,
              rule,
              ignoreImageSelectors,
              isCancelled
            );
            if (modifier) {
              return {
                property,
                value: modifier,
                important: getPriority(rule.style, property),
                sourceValue: value
              };
            }
          } else if (property.includes("shadow")) {
            var modifier = getShadowModifier(value);
            if (modifier) {
              return {
                property,
                value: modifier,
                important: getPriority(rule.style, property),
                sourceValue: value
              };
            }
          }
          return null;
        }
        function joinSelectors() {
          var selectors = [];
          for (var _i = 0; _i < arguments.length; _i++) {
            selectors[_i] = arguments[_i];
          }
          return selectors.filter(Boolean).join(", ");
        }
        function getModifiedUserAgentStyle(theme, isIFrame2, styleSystemControls) {
          var lines = [];
          if (!isIFrame2) {
            lines.push("html {");
            lines.push(
              "    background-color: ".concat(
                modifyBackgroundColor({ r: 255, g: 255, b: 255 }, theme),
                " !important;"
              )
            );
            lines.push("}");
          }
          if (isCSSColorSchemePropSupported) {
            lines.push("html {");
            lines.push(
              "    color-scheme: ".concat(
                theme.mode === 1 ? "dark" : "dark light",
                " !important;"
              )
            );
            lines.push("}");
          }
          var bgSelectors = joinSelectors(
            isIFrame2 ? "" : "html, body",
            styleSystemControls ? "input, textarea, select, button, dialog" : ""
          );
          if (bgSelectors) {
            lines.push("".concat(bgSelectors, " {"));
            lines.push(
              "    background-color: ".concat(
                modifyBackgroundColor({ r: 255, g: 255, b: 255 }, theme),
                ";"
              )
            );
            lines.push("}");
          }
          lines.push(
            "".concat(
              joinSelectors(
                "html, body",
                styleSystemControls ? "input, textarea, select, button" : ""
              ),
              " {"
            )
          );
          lines.push(
            "    border-color: ".concat(
              modifyBorderColor({ r: 76, g: 76, b: 76 }, theme),
              ";"
            )
          );
          lines.push(
            "    color: ".concat(
              modifyForegroundColor({ r: 0, g: 0, b: 0 }, theme),
              ";"
            )
          );
          lines.push("}");
          lines.push("a {");
          lines.push(
            "    color: ".concat(
              modifyForegroundColor({ r: 0, g: 64, b: 255 }, theme),
              ";"
            )
          );
          lines.push("}");
          lines.push("table {");
          lines.push(
            "    border-color: ".concat(
              modifyBorderColor({ r: 128, g: 128, b: 128 }, theme),
              ";"
            )
          );
          lines.push("}");
          lines.push("::placeholder {");
          lines.push(
            "    color: ".concat(
              modifyForegroundColor({ r: 169, g: 169, b: 169 }, theme),
              ";"
            )
          );
          lines.push("}");
          lines.push("input:-webkit-autofill,");
          lines.push("textarea:-webkit-autofill,");
          lines.push("select:-webkit-autofill {");
          lines.push(
            "    background-color: ".concat(
              modifyBackgroundColor({ r: 250, g: 255, b: 189 }, theme),
              " !important;"
            )
          );
          lines.push(
            "    color: ".concat(
              modifyForegroundColor({ r: 0, g: 0, b: 0 }, theme),
              " !important;"
            )
          );
          lines.push("}");
          if (theme.scrollbarColor) {
            lines.push(getModifiedScrollbarStyle(theme));
          }
          if (theme.selectionColor) {
            lines.push(getModifiedSelectionStyle(theme));
          }
          return lines.join("\n");
        }
        function getSelectionColor(theme) {
          var backgroundColorSelection;
          var foregroundColorSelection;
          if (theme.selectionColor === "auto") {
            backgroundColorSelection = modifyBackgroundColor(
              { r: 0, g: 96, b: 212 },
              __assign(__assign({}, theme), { grayscale: 0 })
            );
            foregroundColorSelection = modifyForegroundColor(
              { r: 255, g: 255, b: 255 },
              __assign(__assign({}, theme), { grayscale: 0 })
            );
          } else {
            var rgb = parseColorWithCache(theme.selectionColor);
            var hsl = rgbToHSL(rgb);
            backgroundColorSelection = theme.selectionColor;
            if (hsl.l < 0.5) {
              foregroundColorSelection = "#FFF";
            } else {
              foregroundColorSelection = "#000";
            }
          }
          return {
            backgroundColorSelection,
            foregroundColorSelection
          };
        }
        function getModifiedSelectionStyle(theme) {
          var lines = [];
          var modifiedSelectionColor = getSelectionColor(theme);
          var backgroundColorSelection = modifiedSelectionColor.backgroundColorSelection;
          var foregroundColorSelection = modifiedSelectionColor.foregroundColorSelection;
          ["::selection", "::-moz-selection"].forEach(function(selection) {
            lines.push("".concat(selection, " {"));
            lines.push(
              "    background-color: ".concat(
                backgroundColorSelection,
                " !important;"
              )
            );
            lines.push(
              "    color: ".concat(foregroundColorSelection, " !important;")
            );
            lines.push("}");
          });
          return lines.join("\n");
        }
        function getModifiedScrollbarStyle(theme) {
          var lines = [];
          var colorTrack;
          var colorIcons;
          var colorThumb;
          var colorThumbHover;
          var colorThumbActive;
          var colorCorner;
          if (theme.scrollbarColor === "auto") {
            colorTrack = modifyBackgroundColor({ r: 241, g: 241, b: 241 }, theme);
            colorIcons = modifyForegroundColor({ r: 96, g: 96, b: 96 }, theme);
            colorThumb = modifyBackgroundColor({ r: 176, g: 176, b: 176 }, theme);
            colorThumbHover = modifyBackgroundColor(
              { r: 144, g: 144, b: 144 },
              theme
            );
            colorThumbActive = modifyBackgroundColor(
              { r: 96, g: 96, b: 96 },
              theme
            );
            colorCorner = modifyBackgroundColor(
              { r: 255, g: 255, b: 255 },
              theme
            );
          } else {
            var rgb = parseColorWithCache(theme.scrollbarColor);
            var hsl_1 = rgbToHSL(rgb);
            var isLight = hsl_1.l > 0.5;
            var lighten = function(lighter) {
              return __assign(__assign({}, hsl_1), {
                l: clamp(hsl_1.l + lighter, 0, 1)
              });
            };
            var darken = function(darker) {
              return __assign(__assign({}, hsl_1), {
                l: clamp(hsl_1.l - darker, 0, 1)
              });
            };
            colorTrack = hslToString(darken(0.4));
            colorIcons = hslToString(isLight ? darken(0.4) : lighten(0.4));
            colorThumb = hslToString(hsl_1);
            colorThumbHover = hslToString(lighten(0.1));
            colorThumbActive = hslToString(lighten(0.2));
            colorCorner = hslToString(darken(0.5));
          }
          lines.push("::-webkit-scrollbar {");
          lines.push("    background-color: ".concat(colorTrack, ";"));
          lines.push("    color: ".concat(colorIcons, ";"));
          lines.push("}");
          lines.push("::-webkit-scrollbar-thumb {");
          lines.push("    background-color: ".concat(colorThumb, ";"));
          lines.push("}");
          lines.push("::-webkit-scrollbar-thumb:hover {");
          lines.push("    background-color: ".concat(colorThumbHover, ";"));
          lines.push("}");
          lines.push("::-webkit-scrollbar-thumb:active {");
          lines.push("    background-color: ".concat(colorThumbActive, ";"));
          lines.push("}");
          lines.push("::-webkit-scrollbar-corner {");
          lines.push("    background-color: ".concat(colorCorner, ";"));
          lines.push("}");
          if (isFirefox) {
            lines.push("* {");
            lines.push(
              "    scrollbar-color: ".concat(colorThumb, " ").concat(colorTrack, ";")
            );
            lines.push("}");
          }
          return lines.join("\n");
        }
        function getModifiedFallbackStyle(filter2, _a) {
          var strict = _a.strict;
          var factory = defaultFallbackFactory;
          return factory(filter2, { strict });
        }
        function defaultFallbackFactory(filter2, _a) {
          var strict = _a.strict;
          var lines = [];
          var isMicrosoft = ["microsoft.com", "docs.microsoft.com"].includes(
            location.hostname
          );
          lines.push(
            "html, body, ".concat(
              strict ? "body :not(iframe)".concat(
                isMicrosoft ? ':not(div[style^="position:absolute;top:0;left:-"]' : ""
              ) : "body > :not(iframe)",
              " {"
            )
          );
          lines.push(
            "    background-color: ".concat(
              modifyBackgroundColor({ r: 255, g: 255, b: 255 }, filter2),
              " !important;"
            )
          );
          lines.push(
            "    border-color: ".concat(
              modifyBorderColor({ r: 64, g: 64, b: 64 }, filter2),
              " !important;"
            )
          );
          lines.push(
            "    color: ".concat(
              modifyForegroundColor({ r: 0, g: 0, b: 0 }, filter2),
              " !important;"
            )
          );
          lines.push("}");
          return lines.join("\n");
        }
        var unparsableColors = /* @__PURE__ */ new Set([
          "inherit",
          "transparent",
          "initial",
          "currentcolor",
          "none",
          "unset"
        ]);
        function getColorModifier(prop, value, rule) {
          if (unparsableColors.has(value.toLowerCase())) {
            return value;
          }
          var rgb = parseColorWithCache(value);
          if (!rgb) {
            return null;
          }
          if (prop.includes("background")) {
            if (rule.style.webkitMaskImage && rule.style.webkitMaskImage !== "none" || rule.style.webkitMask && !rule.style.webkitMask.startsWith("none") || rule.style.mask && rule.style.mask !== "none" || rule.style.getPropertyValue("mask-image") && rule.style.getPropertyValue("mask-image") !== "none") {
              return function(filter2) {
                return modifyForegroundColor(rgb, filter2);
              };
            }
            return function(filter2) {
              return modifyBackgroundColor(rgb, filter2);
            };
          }
          if (prop.includes("border") || prop.includes("outline")) {
            return function(filter2) {
              return modifyBorderColor(rgb, filter2);
            };
          }
          return function(filter2) {
            return modifyForegroundColor(rgb, filter2);
          };
        }
        var imageDetailsCache = /* @__PURE__ */ new Map();
        var awaitingForImageLoading = /* @__PURE__ */ new Map();
        function shouldIgnoreImage(selectorText, selectors) {
          if (!selectorText || selectors.length === 0) {
            return false;
          }
          if (selectors.some(function(s) {
            return s === "*";
          })) {
            return true;
          }
          var ruleSelectors = selectorText.split(/,\s*/g);
          var _loop_1 = function(i2) {
            var ignoredSelector = selectors[i2];
            if (ruleSelectors.some(function(s) {
              return s === ignoredSelector;
            })) {
              return { value: true };
            }
          };
          for (var i = 0; i < selectors.length; i++) {
            var state_1 = _loop_1(i);
            if (typeof state_1 === "object")
              return state_1.value;
          }
          return false;
        }
        function getBgImageModifier(value, rule, ignoreImageSelectors, isCancelled) {
          var _this = this;
          try {
            var gradients = parseGradient(value);
            var urls = getMatches(cssURLRegex, value);
            if (urls.length === 0 && gradients.length === 0) {
              return value;
            }
            var getIndices = function(matches) {
              var index = 0;
              return matches.map(function(match) {
                var valueIndex = value.indexOf(match, index);
                index = valueIndex + match.length;
                return { match, index: valueIndex };
              });
            };
            var matches_1 = gradients.map(function(i) {
              return __assign({ type: "gradient" }, i);
            }).concat(
              getIndices(urls).map(function(i) {
                return __assign({ type: "url", offset: 0 }, i);
              })
            ).sort(function(a, b) {
              return a.index > b.index ? 1 : -1;
            });
            var getGradientModifier_1 = function(gradient) {
              var typeGradient = gradient.typeGradient, match = gradient.match, hasComma = gradient.hasComma;
              var partsRegex = /([^\(\),]+(\([^\(\)]*(\([^\(\)]*\)*[^\(\)]*)?\))?([^\(\), ]|( (?!calc)))*),?/g;
              var colorStopRegex = /^(from|color-stop|to)\(([^\(\)]*?,\s*)?(.*?)\)$/;
              var parts = getMatches(partsRegex, match, 1).map(
                function(part) {
                  part = part.trim();
                  var rgb = parseColorWithCache(part);
                  if (rgb) {
                    return function(filter2) {
                      return modifyGradientColor(rgb, filter2);
                    };
                  }
                  var space = part.lastIndexOf(" ");
                  rgb = parseColorWithCache(part.substring(0, space));
                  if (rgb) {
                    return function(filter2) {
                      return "".concat(
                        modifyGradientColor(rgb, filter2),
                        " "
                      ).concat(part.substring(space + 1));
                    };
                  }
                  var colorStopMatch = part.match(colorStopRegex);
                  if (colorStopMatch) {
                    rgb = parseColorWithCache(colorStopMatch[3]);
                    if (rgb) {
                      return function(filter2) {
                        return "".concat(colorStopMatch[1], "(").concat(
                          colorStopMatch[2] ? "".concat(
                            colorStopMatch[2],
                            ", "
                          ) : ""
                        ).concat(
                          modifyGradientColor(rgb, filter2),
                          ")"
                        );
                      };
                    }
                  }
                  return function() {
                    return part;
                  };
                }
              );
              return function(filter2) {
                return "".concat(typeGradient, "(").concat(
                  parts.map(function(modify) {
                    return modify(filter2);
                  }).join(", "),
                  ")"
                ).concat(hasComma ? ", " : "");
              };
            };
            var getURLModifier_1 = function(urlValue) {
              var _a;
              if (shouldIgnoreImage(rule.selectorText, ignoreImageSelectors)) {
                return null;
              }
              var url = getCSSURLValue(urlValue);
              var isURLEmpty = url.length === 0;
              var parentStyleSheet = rule.parentStyleSheet;
              var baseURL = parentStyleSheet && parentStyleSheet.href ? getCSSBaseBath(parentStyleSheet.href) : ((_a = parentStyleSheet.ownerNode) === null || _a === void 0 ? void 0 : _a.baseURI) || location.origin;
              url = getAbsoluteURL(baseURL, url);
              var absoluteValue = 'url("'.concat(url, '")');
              return function(filter2) {
                return __awaiter(_this, void 0, void 0, function() {
                  var imageDetails, awaiters_1, err_1, bgImageValue;
                  return __generator(this, function(_a2) {
                    switch (_a2.label) {
                      case 0:
                        if (isURLEmpty) {
                          return [2, "url('')"];
                        }
                        if (!imageDetailsCache.has(url))
                          return [3, 1];
                        imageDetails = imageDetailsCache.get(url);
                        return [3, 7];
                      case 1:
                        _a2.trys.push([1, 6, , 7]);
                        if (!awaitingForImageLoading.has(url))
                          return [3, 3];
                        awaiters_1 = awaitingForImageLoading.get(url);
                        return [
                          4,
                          new Promise(function(resolve) {
                            return awaiters_1.push(resolve);
                          })
                        ];
                      case 2:
                        imageDetails = _a2.sent();
                        if (!imageDetails) {
                          return [2, null];
                        }
                        return [3, 5];
                      case 3:
                        awaitingForImageLoading.set(url, []);
                        return [4, getImageDetails(url)];
                      case 4:
                        imageDetails = _a2.sent();
                        imageDetailsCache.set(url, imageDetails);
                        awaitingForImageLoading.get(url).forEach(function(resolve) {
                          return resolve(imageDetails);
                        });
                        awaitingForImageLoading.delete(url);
                        _a2.label = 5;
                      case 5:
                        if (isCancelled()) {
                          return [2, null];
                        }
                        return [3, 7];
                      case 6:
                        err_1 = _a2.sent();
                        logWarn(err_1);
                        if (awaitingForImageLoading.has(url)) {
                          awaitingForImageLoading.get(url).forEach(function(resolve) {
                            return resolve(null);
                          });
                          awaitingForImageLoading.delete(url);
                        }
                        return [2, absoluteValue];
                      case 7:
                        bgImageValue = getBgImageValue_1(
                          imageDetails,
                          filter2
                        ) || absoluteValue;
                        return [2, bgImageValue];
                    }
                  });
                });
              };
            };
            var getBgImageValue_1 = function(imageDetails, filter2) {
              var isDark = imageDetails.isDark, isLight = imageDetails.isLight, isTransparent = imageDetails.isTransparent, isLarge = imageDetails.isLarge, width = imageDetails.width;
              var result;
              if (isLarge) {
                logInfo(
                  "Not modifying too large image ".concat(
                    imageDetails.src
                  )
                );
                result = 'url("'.concat(imageDetails.src, '")');
              } else if (isDark && isTransparent && filter2.mode === 1 && width > 2) {
                logInfo("Inverting dark image ".concat(imageDetails.src));
                var inverted = getFilteredImageDataURL(
                  imageDetails,
                  __assign(__assign({}, filter2), {
                    sepia: clamp(filter2.sepia + 10, 0, 100)
                  })
                );
                result = 'url("'.concat(inverted, '")');
              } else if (isLight && !isTransparent && filter2.mode === 1) {
                logInfo("Dimming light image ".concat(imageDetails.src));
                var dimmed = getFilteredImageDataURL(imageDetails, filter2);
                result = 'url("'.concat(dimmed, '")');
              } else if (filter2.mode === 0 && isLight) {
                logInfo(
                  "Applying filter to image ".concat(imageDetails.src)
                );
                var filtered = getFilteredImageDataURL(
                  imageDetails,
                  __assign(__assign({}, filter2), {
                    brightness: clamp(filter2.brightness - 10, 5, 200),
                    sepia: clamp(filter2.sepia + 10, 0, 100)
                  })
                );
                result = 'url("'.concat(filtered, '")');
              } else {
                logInfo(
                  "Not modifying too large image ".concat(
                    imageDetails.src
                  )
                );
                result = null;
              }
              return result;
            };
            var modifiers_1 = [];
            var matchIndex_1 = 0;
            var prevHasComma_1 = false;
            matches_1.forEach(function(_a, i) {
              var type = _a.type, match = _a.match, index = _a.index, typeGradient = _a.typeGradient, hasComma = _a.hasComma, offset = _a.offset;
              var matchStart = index;
              var prefixStart = matchIndex_1;
              var matchEnd = matchStart + match.length + offset;
              matchIndex_1 = matchEnd;
              if (prefixStart !== matchStart) {
                if (prevHasComma_1) {
                  modifiers_1.push(function() {
                    var betweenValue = value.substring(
                      prefixStart,
                      matchStart
                    );
                    if (betweenValue[0] === ",") {
                      betweenValue = betweenValue.substring(1);
                    }
                    return betweenValue;
                  });
                } else {
                  modifiers_1.push(function() {
                    return value.substring(prefixStart, matchStart);
                  });
                }
              }
              prevHasComma_1 = hasComma || false;
              if (type === "url") {
                modifiers_1.push(getURLModifier_1(match));
              } else if (type === "gradient") {
                modifiers_1.push(
                  getGradientModifier_1({
                    match,
                    index,
                    typeGradient,
                    hasComma: hasComma || false,
                    offset
                  })
                );
              }
              if (i === matches_1.length - 1) {
                modifiers_1.push(function() {
                  return value.substring(matchEnd);
                });
              }
            });
            return function(filter2) {
              var results = modifiers_1.filter(Boolean).map(function(modify) {
                return modify(filter2);
              });
              if (results.some(function(r) {
                return r instanceof Promise;
              })) {
                return Promise.all(results).then(function(asyncResults) {
                  return asyncResults.filter(Boolean).join("");
                });
              }
              var combinedResult = results.join("");
              if (combinedResult.endsWith(", initial")) {
                return combinedResult.slice(0, -9);
              }
              return combinedResult;
            };
          } catch (err) {
            return null;
          }
        }
        function getShadowModifierWithInfo(value) {
          try {
            var index_1 = 0;
            var colorMatches_1 = getMatches(
              /(^|\s)(?!calc)([a-z]+\(.+?\)|#[0-9a-f]+|[a-z]+)(.*?(inset|outset)?($|,))/gi,
              value,
              2
            );
            var notParsed_1 = 0;
            var modifiers_2 = colorMatches_1.map(function(match, i) {
              var prefixIndex = index_1;
              var matchIndex = value.indexOf(match, index_1);
              var matchEnd = matchIndex + match.length;
              index_1 = matchEnd;
              var rgb = parseColorWithCache(match);
              if (!rgb) {
                notParsed_1++;
                return function() {
                  return value.substring(prefixIndex, matchEnd);
                };
              }
              return function(filter2) {
                return "".concat(value.substring(prefixIndex, matchIndex)).concat(modifyShadowColor(rgb, filter2)).concat(
                  i === colorMatches_1.length - 1 ? value.substring(matchEnd) : ""
                );
              };
            });
            return function(filter2) {
              var modified = modifiers_2.map(function(modify) {
                return modify(filter2);
              }).join("");
              return {
                matchesLength: colorMatches_1.length,
                unparseableMatchesLength: notParsed_1,
                result: modified
              };
            };
          } catch (err) {
            return null;
          }
        }
        function getShadowModifier(value) {
          var shadowModifier = getShadowModifierWithInfo(value);
          if (!shadowModifier) {
            return null;
          }
          return function(theme) {
            return shadowModifier(theme).result;
          };
        }
        function getVariableModifier(variablesStore2, prop, value, rule, ignoredImgSelectors, isCancelled) {
          return variablesStore2.getModifierForVariable({
            varName: prop,
            sourceValue: value,
            rule,
            ignoredImgSelectors,
            isCancelled
          });
        }
        function getVariableDependantModifier(variablesStore2, prop, value) {
          return variablesStore2.getModifierForVarDependant(prop, value);
        }
        function cleanModificationCache() {
          clearColorModificationCache();
          imageDetailsCache.clear();
          cleanImageProcessingCache();
          awaitingForImageLoading.clear();
        }
        var VAR_TYPE_BGCOLOR = 1 << 0;
        var VAR_TYPE_TEXTCOLOR = 1 << 1;
        var VAR_TYPE_BORDERCOLOR = 1 << 2;
        var VAR_TYPE_BGIMG = 1 << 3;
        var VariablesStore = function() {
          function VariablesStore2() {
            this.varTypes = /* @__PURE__ */ new Map();
            this.rulesQueue = [];
            this.definedVars = /* @__PURE__ */ new Set();
            this.varRefs = /* @__PURE__ */ new Map();
            this.unknownColorVars = /* @__PURE__ */ new Set();
            this.unknownBgVars = /* @__PURE__ */ new Set();
            this.undefinedVars = /* @__PURE__ */ new Set();
            this.initialVarTypes = /* @__PURE__ */ new Map();
            this.changedTypeVars = /* @__PURE__ */ new Set();
            this.typeChangeSubscriptions = /* @__PURE__ */ new Map();
            this.unstableVarValues = /* @__PURE__ */ new Map();
          }
          VariablesStore2.prototype.clear = function() {
            this.varTypes.clear();
            this.rulesQueue.splice(0);
            this.definedVars.clear();
            this.varRefs.clear();
            this.unknownColorVars.clear();
            this.unknownBgVars.clear();
            this.undefinedVars.clear();
            this.initialVarTypes.clear();
            this.changedTypeVars.clear();
            this.typeChangeSubscriptions.clear();
            this.unstableVarValues.clear();
          };
          VariablesStore2.prototype.isVarType = function(varName, typeNum) {
            return this.varTypes.has(varName) && (this.varTypes.get(varName) & typeNum) > 0;
          };
          VariablesStore2.prototype.addRulesForMatching = function(rules) {
            this.rulesQueue.push(rules);
          };
          VariablesStore2.prototype.matchVariablesAndDependents = function() {
            var _this = this;
            this.changedTypeVars.clear();
            this.initialVarTypes = new Map(this.varTypes);
            this.collectRootVariables();
            this.collectVariablesAndVarDep(this.rulesQueue);
            this.rulesQueue.splice(0);
            this.collectRootVarDependents();
            this.varRefs.forEach(function(refs, v) {
              refs.forEach(function(r) {
                if (_this.varTypes.has(v)) {
                  _this.resolveVariableType(r, _this.varTypes.get(v));
                }
              });
            });
            this.unknownColorVars.forEach(function(v) {
              if (_this.unknownBgVars.has(v)) {
                _this.unknownColorVars.delete(v);
                _this.unknownBgVars.delete(v);
                _this.resolveVariableType(v, VAR_TYPE_BGCOLOR);
              } else if (_this.isVarType(
                v,
                VAR_TYPE_BGCOLOR | VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR
              )) {
                _this.unknownColorVars.delete(v);
              } else {
                _this.undefinedVars.add(v);
              }
            });
            this.unknownBgVars.forEach(function(v) {
              var hasColor = _this.findVarRef(v, function(ref) {
                return _this.unknownColorVars.has(ref) || _this.isVarType(
                  ref,
                  VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR
                );
              }) != null;
              if (hasColor) {
                _this.iterateVarRefs(v, function(ref) {
                  _this.resolveVariableType(ref, VAR_TYPE_BGCOLOR);
                });
              } else if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_BGIMG)) {
                _this.unknownBgVars.delete(v);
              } else {
                _this.undefinedVars.add(v);
              }
            });
            this.changedTypeVars.forEach(function(varName) {
              if (_this.typeChangeSubscriptions.has(varName)) {
                _this.typeChangeSubscriptions.get(varName).forEach(function(callback) {
                  callback();
                });
              }
            });
            this.changedTypeVars.clear();
          };
          VariablesStore2.prototype.getModifierForVariable = function(options) {
            var _this = this;
            return function(theme) {
              var varName = options.varName, sourceValue = options.sourceValue, rule = options.rule, ignoredImgSelectors = options.ignoredImgSelectors, isCancelled = options.isCancelled;
              var getDeclarations = function() {
                var declarations = [];
                var addModifiedValue = function(typeNum, varNameWrapper, colorModifier) {
                  if (!_this.isVarType(varName, typeNum)) {
                    return;
                  }
                  var property2 = varNameWrapper(varName);
                  var modifiedValue2;
                  if (isVarDependant(sourceValue)) {
                    if (isConstructedColorVar(sourceValue)) {
                      var value = insertVarValues(
                        sourceValue,
                        _this.unstableVarValues
                      );
                      if (!value) {
                        value = typeNum === VAR_TYPE_BGCOLOR ? "#ffffff" : "#000000";
                      }
                      modifiedValue2 = colorModifier(value, theme);
                    } else {
                      modifiedValue2 = replaceCSSVariablesNames(
                        sourceValue,
                        function(v) {
                          return varNameWrapper(v);
                        },
                        function(fallback) {
                          return colorModifier(fallback, theme);
                        }
                      );
                    }
                  } else {
                    modifiedValue2 = colorModifier(sourceValue, theme);
                  }
                  declarations.push({
                    property: property2,
                    value: modifiedValue2
                  });
                };
                addModifiedValue(
                  VAR_TYPE_BGCOLOR,
                  wrapBgColorVariableName,
                  tryModifyBgColor
                );
                addModifiedValue(
                  VAR_TYPE_TEXTCOLOR,
                  wrapTextColorVariableName,
                  tryModifyTextColor
                );
                addModifiedValue(
                  VAR_TYPE_BORDERCOLOR,
                  wrapBorderColorVariableName,
                  tryModifyBorderColor
                );
                if (_this.isVarType(varName, VAR_TYPE_BGIMG)) {
                  var property = wrapBgImgVariableName(varName);
                  var modifiedValue = sourceValue;
                  if (isVarDependant(sourceValue)) {
                    modifiedValue = replaceCSSVariablesNames(
                      sourceValue,
                      function(v) {
                        return wrapBgColorVariableName(v);
                      },
                      function(fallback) {
                        return tryModifyBgColor(fallback, theme);
                      }
                    );
                  }
                  var bgModifier = getBgImageModifier(
                    modifiedValue,
                    rule,
                    ignoredImgSelectors,
                    isCancelled
                  );
                  modifiedValue = typeof bgModifier === "function" ? bgModifier(theme) : bgModifier;
                  declarations.push({
                    property,
                    value: modifiedValue
                  });
                }
                return declarations;
              };
              var callbacks = /* @__PURE__ */ new Set();
              var addListener = function(onTypeChange) {
                var callback = function() {
                  var decs = getDeclarations();
                  onTypeChange(decs);
                };
                callbacks.add(callback);
                _this.subscribeForVarTypeChange(varName, callback);
              };
              var removeListeners = function() {
                callbacks.forEach(function(callback) {
                  _this.unsubscribeFromVariableTypeChanges(
                    varName,
                    callback
                  );
                });
              };
              return {
                declarations: getDeclarations(),
                onTypeChange: {
                  addListener,
                  removeListeners
                }
              };
            };
          };
          VariablesStore2.prototype.getModifierForVarDependant = function(property, sourceValue) {
            var _this = this;
            if (sourceValue.match(/^\s*(rgb|hsl)a?\(/)) {
              var isBg_1 = property.startsWith("background");
              var isText_1 = isTextColorProperty(property);
              return function(theme) {
                var value = insertVarValues(
                  sourceValue,
                  _this.unstableVarValues
                );
                if (!value) {
                  value = isBg_1 ? "#ffffff" : "#000000";
                }
                var modifier = isBg_1 ? tryModifyBgColor : isText_1 ? tryModifyTextColor : tryModifyBorderColor;
                return modifier(value, theme);
              };
            }
            if (property === "background-color") {
              return function(theme) {
                return replaceCSSVariablesNames(
                  sourceValue,
                  function(v) {
                    return wrapBgColorVariableName(v);
                  },
                  function(fallback) {
                    return tryModifyBgColor(fallback, theme);
                  }
                );
              };
            }
            if (isTextColorProperty(property)) {
              return function(theme) {
                return replaceCSSVariablesNames(
                  sourceValue,
                  function(v) {
                    return wrapTextColorVariableName(v);
                  },
                  function(fallback) {
                    return tryModifyTextColor(fallback, theme);
                  }
                );
              };
            }
            if (property === "background" || property === "background-image" || property === "box-shadow") {
              return function(theme) {
                var unknownVars = /* @__PURE__ */ new Set();
                var modify = function() {
                  var variableReplaced = replaceCSSVariablesNames(
                    sourceValue,
                    function(v) {
                      if (_this.isVarType(v, VAR_TYPE_BGCOLOR)) {
                        return wrapBgColorVariableName(v);
                      }
                      if (_this.isVarType(v, VAR_TYPE_BGIMG)) {
                        return wrapBgImgVariableName(v);
                      }
                      unknownVars.add(v);
                      return v;
                    },
                    function(fallback) {
                      return tryModifyBgColor(fallback, theme);
                    }
                  );
                  if (property === "box-shadow") {
                    var shadowModifier = getShadowModifierWithInfo(variableReplaced);
                    var modifiedShadow = shadowModifier(theme);
                    if (modifiedShadow.unparseableMatchesLength !== modifiedShadow.matchesLength) {
                      return modifiedShadow.result;
                    }
                  }
                  return variableReplaced;
                };
                var modified = modify();
                if (unknownVars.size > 0) {
                  return new Promise(function(resolve) {
                    var firstUnknownVar = unknownVars.values().next().value;
                    var callback = function() {
                      _this.unsubscribeFromVariableTypeChanges(
                        firstUnknownVar,
                        callback
                      );
                      var newValue = modify();
                      resolve(newValue);
                    };
                    _this.subscribeForVarTypeChange(
                      firstUnknownVar,
                      callback
                    );
                  });
                }
                return modified;
              };
            }
            if (property.startsWith("border") || property.startsWith("outline")) {
              return function(theme) {
                return replaceCSSVariablesNames(
                  sourceValue,
                  function(v) {
                    return wrapBorderColorVariableName(v);
                  },
                  function(fallback) {
                    return tryModifyBorderColor(fallback, theme);
                  }
                );
              };
            }
            return null;
          };
          VariablesStore2.prototype.subscribeForVarTypeChange = function(varName, callback) {
            if (!this.typeChangeSubscriptions.has(varName)) {
              this.typeChangeSubscriptions.set(varName, /* @__PURE__ */ new Set());
            }
            var rootStore = this.typeChangeSubscriptions.get(varName);
            if (!rootStore.has(callback)) {
              rootStore.add(callback);
            }
          };
          VariablesStore2.prototype.unsubscribeFromVariableTypeChanges = function(varName, callback) {
            if (this.typeChangeSubscriptions.has(varName)) {
              this.typeChangeSubscriptions.get(varName).delete(callback);
            }
          };
          VariablesStore2.prototype.collectVariablesAndVarDep = function(ruleList) {
            var _this = this;
            ruleList.forEach(function(rules) {
              iterateCSSRules(rules, function(rule) {
                rule.style && iterateCSSDeclarations(
                  rule.style,
                  function(property, value) {
                    if (isVariable(property)) {
                      _this.inspectVariable(property, value);
                    }
                    if (isVarDependant(value)) {
                      _this.inspectVarDependant(property, value);
                    }
                  }
                );
              });
            });
          };
          VariablesStore2.prototype.collectRootVariables = function() {
            var _this = this;
            iterateCSSDeclarations(
              document.documentElement.style,
              function(property, value) {
                if (isVariable(property)) {
                  _this.inspectVariable(property, value);
                }
              }
            );
          };
          VariablesStore2.prototype.inspectVariable = function(varName, value) {
            this.unstableVarValues.set(varName, value);
            if (isVarDependant(value) && isConstructedColorVar(value)) {
              this.unknownColorVars.add(varName);
              this.definedVars.add(varName);
            }
            if (this.definedVars.has(varName)) {
              return;
            }
            this.definedVars.add(varName);
            var isColor = rawValueRegex.test(value) || parseColorWithCache(value);
            if (isColor) {
              this.unknownColorVars.add(varName);
            } else if (value.includes("url(") || value.includes("linear-gradient(") || value.includes("radial-gradient(")) {
              this.resolveVariableType(varName, VAR_TYPE_BGIMG);
            }
          };
          VariablesStore2.prototype.resolveVariableType = function(varName, typeNum) {
            var initialType = this.initialVarTypes.get(varName) || 0;
            var currentType = this.varTypes.get(varName) || 0;
            var newType = currentType | typeNum;
            this.varTypes.set(varName, newType);
            if (newType !== initialType || this.undefinedVars.has(varName)) {
              this.changedTypeVars.add(varName);
              this.undefinedVars.delete(varName);
            }
            this.unknownColorVars.delete(varName);
            this.unknownBgVars.delete(varName);
          };
          VariablesStore2.prototype.collectRootVarDependents = function() {
            var _this = this;
            iterateCSSDeclarations(
              document.documentElement.style,
              function(property, value) {
                if (isVarDependant(value)) {
                  _this.inspectVarDependant(property, value);
                }
              }
            );
          };
          VariablesStore2.prototype.inspectVarDependant = function(property, value) {
            var _this = this;
            if (isVariable(property)) {
              this.iterateVarDeps(value, function(ref) {
                if (!_this.varRefs.has(property)) {
                  _this.varRefs.set(property, /* @__PURE__ */ new Set());
                }
                _this.varRefs.get(property).add(ref);
              });
            } else if (property === "background-color" || property === "box-shadow") {
              this.iterateVarDeps(value, function(v) {
                return _this.resolveVariableType(v, VAR_TYPE_BGCOLOR);
              });
            } else if (isTextColorProperty(property)) {
              this.iterateVarDeps(value, function(v) {
                return _this.resolveVariableType(v, VAR_TYPE_TEXTCOLOR);
              });
            } else if (property.startsWith("border") || property.startsWith("outline")) {
              this.iterateVarDeps(value, function(v) {
                return _this.resolveVariableType(v, VAR_TYPE_BORDERCOLOR);
              });
            } else if (property === "background" || property === "background-image") {
              this.iterateVarDeps(value, function(v) {
                if (_this.isVarType(v, VAR_TYPE_BGCOLOR | VAR_TYPE_BGIMG)) {
                  return;
                }
                var isBgColor = _this.findVarRef(v, function(ref) {
                  return _this.unknownColorVars.has(ref) || _this.isVarType(
                    ref,
                    VAR_TYPE_TEXTCOLOR | VAR_TYPE_BORDERCOLOR
                  );
                }) != null;
                _this.iterateVarRefs(v, function(ref) {
                  if (isBgColor) {
                    _this.resolveVariableType(ref, VAR_TYPE_BGCOLOR);
                  } else {
                    _this.unknownBgVars.add(ref);
                  }
                });
              });
            }
          };
          VariablesStore2.prototype.iterateVarDeps = function(value, iterator) {
            var varDeps = /* @__PURE__ */ new Set();
            iterateVarDependencies(value, function(v) {
              return varDeps.add(v);
            });
            varDeps.forEach(function(v) {
              return iterator(v);
            });
          };
          VariablesStore2.prototype.findVarRef = function(varName, iterator, stack) {
            var e_1, _a;
            if (stack === void 0) {
              stack = /* @__PURE__ */ new Set();
            }
            if (stack.has(varName)) {
              return null;
            }
            stack.add(varName);
            var result = iterator(varName);
            if (result) {
              return varName;
            }
            var refs = this.varRefs.get(varName);
            if (!refs || refs.size === 0) {
              return null;
            }
            try {
              for (var refs_1 = __values(refs), refs_1_1 = refs_1.next(); !refs_1_1.done; refs_1_1 = refs_1.next()) {
                var ref = refs_1_1.value;
                var found = this.findVarRef(ref, iterator, stack);
                if (found) {
                  return found;
                }
              }
            } catch (e_1_1) {
              e_1 = { error: e_1_1 };
            } finally {
              try {
                if (refs_1_1 && !refs_1_1.done && (_a = refs_1.return))
                  _a.call(refs_1);
              } finally {
                if (e_1)
                  throw e_1.error;
              }
            }
            return null;
          };
          VariablesStore2.prototype.iterateVarRefs = function(varName, iterator) {
            this.findVarRef(varName, function(ref) {
              iterator(ref);
              return false;
            });
          };
          VariablesStore2.prototype.setOnRootVariableChange = function(callback) {
            this.onRootVariableDefined = callback;
          };
          VariablesStore2.prototype.putRootVars = function(styleElement, theme) {
            var e_2, _a;
            var _this = this;
            var sheet = styleElement.sheet;
            if (sheet.cssRules.length > 0) {
              sheet.deleteRule(0);
            }
            var declarations = /* @__PURE__ */ new Map();
            iterateCSSDeclarations(
              document.documentElement.style,
              function(property2, value2) {
                if (isVariable(property2)) {
                  if (_this.isVarType(property2, VAR_TYPE_BGCOLOR)) {
                    declarations.set(
                      wrapBgColorVariableName(property2),
                      tryModifyBgColor(value2, theme)
                    );
                  }
                  if (_this.isVarType(property2, VAR_TYPE_TEXTCOLOR)) {
                    declarations.set(
                      wrapTextColorVariableName(property2),
                      tryModifyTextColor(value2, theme)
                    );
                  }
                  if (_this.isVarType(property2, VAR_TYPE_BORDERCOLOR)) {
                    declarations.set(
                      wrapBorderColorVariableName(property2),
                      tryModifyBorderColor(value2, theme)
                    );
                  }
                  _this.subscribeForVarTypeChange(
                    property2,
                    _this.onRootVariableDefined
                  );
                }
              }
            );
            var cssLines = [];
            cssLines.push(":root {");
            try {
              for (var declarations_1 = __values(declarations), declarations_1_1 = declarations_1.next(); !declarations_1_1.done; declarations_1_1 = declarations_1.next()) {
                var _b = __read(declarations_1_1.value, 2), property = _b[0], value = _b[1];
                cssLines.push(
                  "    ".concat(property, ": ").concat(value, ";")
                );
              }
            } catch (e_2_1) {
              e_2 = { error: e_2_1 };
            } finally {
              try {
                if (declarations_1_1 && !declarations_1_1.done && (_a = declarations_1.return))
                  _a.call(declarations_1);
              } finally {
                if (e_2)
                  throw e_2.error;
              }
            }
            cssLines.push("}");
            var cssText = cssLines.join("\n");
            sheet.insertRule(cssText);
          };
          return VariablesStore2;
        }();
        var variablesStore = new VariablesStore();
        function getVariableRange(input, searchStart) {
          if (searchStart === void 0) {
            searchStart = 0;
          }
          var start = input.indexOf("var(", searchStart);
          if (start >= 0) {
            var range = getParenthesesRange(input, start + 3);
            if (range) {
              return { start, end: range.end };
            }
          }
          return null;
        }
        function getVariablesMatches(input) {
          var ranges = [];
          var i = 0;
          var range;
          while (range = getVariableRange(input, i)) {
            var start = range.start, end = range.end;
            ranges.push({
              start,
              end,
              value: input.substring(start, end)
            });
            i = range.end + 1;
          }
          return ranges;
        }
        function replaceVariablesMatches(input, replacer) {
          var matches = getVariablesMatches(input);
          var matchesCount = matches.length;
          if (matchesCount === 0) {
            return input;
          }
          var inputLength = input.length;
          var replacements = matches.map(function(m) {
            return replacer(m.value);
          });
          var parts = [];
          parts.push(input.substring(0, matches[0].start));
          for (var i = 0; i < matchesCount; i++) {
            parts.push(replacements[i]);
            var start = matches[i].end;
            var end = i < matchesCount - 1 ? matches[i + 1].start : inputLength;
            parts.push(input.substring(start, end));
          }
          return parts.join("");
        }
        function getVariableNameAndFallback(match) {
          var commaIndex = match.indexOf(",");
          var name;
          var fallback;
          if (commaIndex >= 0) {
            name = match.substring(4, commaIndex).trim();
            fallback = match.substring(commaIndex + 1, match.length - 1).trim();
          } else {
            name = match.substring(4, match.length - 1).trim();
            fallback = "";
          }
          return { name, fallback };
        }
        function replaceCSSVariablesNames(value, nameReplacer, fallbackReplacer) {
          var matchReplacer = function(match) {
            var _a = getVariableNameAndFallback(match), name = _a.name, fallback = _a.fallback;
            var newName = nameReplacer(name);
            if (!fallback) {
              return "var(".concat(newName, ")");
            }
            var newFallback;
            if (isVarDependant(fallback)) {
              newFallback = replaceCSSVariablesNames(
                fallback,
                nameReplacer,
                fallbackReplacer
              );
            } else if (fallbackReplacer) {
              newFallback = fallbackReplacer(fallback);
            } else {
              newFallback = fallback;
            }
            return "var(".concat(newName, ", ").concat(newFallback, ")");
          };
          return replaceVariablesMatches(value, matchReplacer);
        }
        function iterateVarDependencies(value, iterator) {
          replaceCSSVariablesNames(value, function(varName) {
            iterator(varName);
            return varName;
          });
        }
        function wrapBgColorVariableName(name) {
          return "--darkreader-bg".concat(name);
        }
        function wrapTextColorVariableName(name) {
          return "--darkreader-text".concat(name);
        }
        function wrapBorderColorVariableName(name) {
          return "--darkreader-border".concat(name);
        }
        function wrapBgImgVariableName(name) {
          return "--darkreader-bgimg".concat(name);
        }
        function isVariable(property) {
          return property.startsWith("--");
        }
        function isVarDependant(value) {
          return value.includes("var(");
        }
        function isConstructedColorVar(value) {
          return value.match(/^\s*(rgb|hsl)a?\(/);
        }
        function isTextColorProperty(property) {
          return property === "color" || property === "caret-color" || property === "-webkit-text-fill-color";
        }
        var rawValueRegex = /^\d{1,3}, ?\d{1,3}, ?\d{1,3}$/;
        function parseRawValue(color) {
          if (rawValueRegex.test(color)) {
            var splitted = color.split(",");
            var resultInRGB_1 = "rgb(";
            splitted.forEach(function(number) {
              resultInRGB_1 += "".concat(number.trim(), ", ");
            });
            resultInRGB_1 = resultInRGB_1.substring(
              0,
              resultInRGB_1.length - 2
            );
            resultInRGB_1 += ")";
            return { isRaw: true, color: resultInRGB_1 };
          }
          return { isRaw: false, color };
        }
        function handleRawValue(color, theme, modifyFunction) {
          var _a = parseRawValue(color), isRaw = _a.isRaw, newColor = _a.color;
          var rgb = parseColorWithCache(newColor);
          if (rgb) {
            var outputColor = modifyFunction(rgb, theme);
            if (isRaw) {
              var outputInRGB = parseColorWithCache(outputColor);
              return outputInRGB ? "".concat(outputInRGB.r, ", ").concat(outputInRGB.g, ", ").concat(outputInRGB.b) : outputColor;
            }
            return outputColor;
          }
          return newColor;
        }
        function tryModifyBgColor(color, theme) {
          return handleRawValue(color, theme, modifyBackgroundColor);
        }
        function tryModifyTextColor(color, theme) {
          return handleRawValue(color, theme, modifyForegroundColor);
        }
        function tryModifyBorderColor(color, theme) {
          return handleRawValue(color, theme, modifyBorderColor);
        }
        function insertVarValues(source, varValues, stack) {
          if (stack === void 0) {
            stack = /* @__PURE__ */ new Set();
          }
          var containsUnresolvedVar = false;
          var matchReplacer = function(match) {
            var _a = getVariableNameAndFallback(match), name = _a.name, fallback = _a.fallback;
            if (stack.has(name)) {
              containsUnresolvedVar = true;
              return null;
            }
            stack.add(name);
            var varValue = varValues.get(name) || fallback;
            var inserted = null;
            if (varValue) {
              if (isVarDependant(varValue)) {
                inserted = insertVarValues(varValue, varValues, stack);
              } else {
                inserted = varValue;
              }
            }
            if (!inserted) {
              containsUnresolvedVar = true;
              return null;
            }
            return inserted;
          };
          var replaced = replaceVariablesMatches(source, matchReplacer);
          if (containsUnresolvedVar) {
            return null;
          }
          return replaced;
        }
        var overrides = {
          "background-color": {
            customProp: "--darkreader-inline-bgcolor",
            cssProp: "background-color",
            dataAttr: "data-darkreader-inline-bgcolor"
          },
          "background-image": {
            customProp: "--darkreader-inline-bgimage",
            cssProp: "background-image",
            dataAttr: "data-darkreader-inline-bgimage"
          },
          "border-color": {
            customProp: "--darkreader-inline-border",
            cssProp: "border-color",
            dataAttr: "data-darkreader-inline-border"
          },
          "border-bottom-color": {
            customProp: "--darkreader-inline-border-bottom",
            cssProp: "border-bottom-color",
            dataAttr: "data-darkreader-inline-border-bottom"
          },
          "border-left-color": {
            customProp: "--darkreader-inline-border-left",
            cssProp: "border-left-color",
            dataAttr: "data-darkreader-inline-border-left"
          },
          "border-right-color": {
            customProp: "--darkreader-inline-border-right",
            cssProp: "border-right-color",
            dataAttr: "data-darkreader-inline-border-right"
          },
          "border-top-color": {
            customProp: "--darkreader-inline-border-top",
            cssProp: "border-top-color",
            dataAttr: "data-darkreader-inline-border-top"
          },
          "box-shadow": {
            customProp: "--darkreader-inline-boxshadow",
            cssProp: "box-shadow",
            dataAttr: "data-darkreader-inline-boxshadow"
          },
          "color": {
            customProp: "--darkreader-inline-color",
            cssProp: "color",
            dataAttr: "data-darkreader-inline-color"
          },
          "fill": {
            customProp: "--darkreader-inline-fill",
            cssProp: "fill",
            dataAttr: "data-darkreader-inline-fill"
          },
          "stroke": {
            customProp: "--darkreader-inline-stroke",
            cssProp: "stroke",
            dataAttr: "data-darkreader-inline-stroke"
          },
          "outline-color": {
            customProp: "--darkreader-inline-outline",
            cssProp: "outline-color",
            dataAttr: "data-darkreader-inline-outline"
          },
          "stop-color": {
            customProp: "--darkreader-inline-stopcolor",
            cssProp: "stop-color",
            dataAttr: "data-darkreader-inline-stopcolor"
          }
        };
        var overridesList = Object.values(overrides);
        var normalizedPropList = {};
        overridesList.forEach(function(_a) {
          var cssProp = _a.cssProp, customProp = _a.customProp;
          return normalizedPropList[customProp] = cssProp;
        });
        var INLINE_STYLE_ATTRS = [
          "style",
          "fill",
          "stop-color",
          "stroke",
          "bgcolor",
          "color"
        ];
        var INLINE_STYLE_SELECTOR = INLINE_STYLE_ATTRS.map(function(attr) {
          return "[".concat(attr, "]");
        }).join(", ");
        function getInlineOverrideStyle() {
          return overridesList.map(function(_a) {
            var dataAttr = _a.dataAttr, customProp = _a.customProp, cssProp = _a.cssProp;
            return [
              "[".concat(dataAttr, "] {"),
              "  ".concat(cssProp, ": var(").concat(customProp, ") !important;"),
              "}"
            ].join("\n");
          }).join("\n");
        }
        function getInlineStyleElements(root) {
          var results = [];
          if (root instanceof Element && root.matches(INLINE_STYLE_SELECTOR)) {
            results.push(root);
          }
          if (root instanceof Element || isShadowDomSupported && root instanceof ShadowRoot || root instanceof Document) {
            push(results, root.querySelectorAll(INLINE_STYLE_SELECTOR));
          }
          return results;
        }
        var treeObservers = /* @__PURE__ */ new Map();
        var attrObservers = /* @__PURE__ */ new Map();
        function watchForInlineStyles(elementStyleDidChange, shadowRootDiscovered) {
          deepWatchForInlineStyles(
            document,
            elementStyleDidChange,
            shadowRootDiscovered
          );
          iterateShadowHosts(document.documentElement, function(host) {
            deepWatchForInlineStyles(
              host.shadowRoot,
              elementStyleDidChange,
              shadowRootDiscovered
            );
          });
        }
        function deepWatchForInlineStyles(root, elementStyleDidChange, shadowRootDiscovered) {
          if (treeObservers.has(root)) {
            treeObservers.get(root).disconnect();
            attrObservers.get(root).disconnect();
          }
          var discoveredNodes = /* @__PURE__ */ new WeakSet();
          function discoverNodes(node) {
            getInlineStyleElements(node).forEach(function(el) {
              if (discoveredNodes.has(el)) {
                return;
              }
              discoveredNodes.add(el);
              elementStyleDidChange(el);
            });
            iterateShadowHosts(node, function(n) {
              if (discoveredNodes.has(node)) {
                return;
              }
              discoveredNodes.add(node);
              shadowRootDiscovered(n.shadowRoot);
              deepWatchForInlineStyles(
                n.shadowRoot,
                elementStyleDidChange,
                shadowRootDiscovered
              );
            });
          }
          var treeObserver = createOptimizedTreeObserver(root, {
            onMinorMutations: function(_a) {
              var additions = _a.additions;
              additions.forEach(function(added) {
                return discoverNodes(added);
              });
            },
            onHugeMutations: function() {
              discoverNodes(root);
            }
          });
          treeObservers.set(root, treeObserver);
          var attemptCount = 0;
          var start = null;
          var ATTEMPTS_INTERVAL = getDuration({ seconds: 10 });
          var RETRY_TIMEOUT = getDuration({ seconds: 2 });
          var MAX_ATTEMPTS_COUNT = 50;
          var cache = [];
          var timeoutId = null;
          var handleAttributeMutations = throttle(function(mutations) {
            var handledTargets = /* @__PURE__ */ new Set();
            mutations.forEach(function(m) {
              var target = m.target;
              if (handledTargets.has(target)) {
                return;
              }
              if (INLINE_STYLE_ATTRS.includes(m.attributeName)) {
                handledTargets.add(target);
                elementStyleDidChange(target);
              }
            });
          });
          var attrObserver = new MutationObserver(function(mutations) {
            if (timeoutId) {
              cache.push.apply(
                cache,
                __spreadArray([], __read(mutations), false)
              );
              return;
            }
            attemptCount++;
            var now = Date.now();
            if (start == null) {
              start = now;
            } else if (attemptCount >= MAX_ATTEMPTS_COUNT) {
              if (now - start < ATTEMPTS_INTERVAL) {
                timeoutId = setTimeout(function() {
                  start = null;
                  attemptCount = 0;
                  timeoutId = null;
                  var attributeCache = cache;
                  cache = [];
                  handleAttributeMutations(attributeCache);
                }, RETRY_TIMEOUT);
                cache.push.apply(
                  cache,
                  __spreadArray([], __read(mutations), false)
                );
                return;
              }
              start = now;
              attemptCount = 1;
            }
            handleAttributeMutations(mutations);
          });
          attrObserver.observe(root, {
            attributes: true,
            attributeFilter: INLINE_STYLE_ATTRS.concat(
              overridesList.map(function(_a) {
                var dataAttr = _a.dataAttr;
                return dataAttr;
              })
            ),
            subtree: true
          });
          attrObservers.set(root, attrObserver);
        }
        function stopWatchingForInlineStyles() {
          treeObservers.forEach(function(o) {
            return o.disconnect();
          });
          attrObservers.forEach(function(o) {
            return o.disconnect();
          });
          treeObservers.clear();
          attrObservers.clear();
        }
        var inlineStyleCache = /* @__PURE__ */ new WeakMap();
        var filterProps = ["brightness", "contrast", "grayscale", "sepia", "mode"];
        function getInlineStyleCacheKey(el, theme) {
          return INLINE_STYLE_ATTRS.map(function(attr) {
            return "".concat(attr, '="').concat(el.getAttribute(attr), '"');
          }).concat(
            filterProps.map(function(prop) {
              return "".concat(prop, '="').concat(theme[prop], '"');
            })
          ).join(" ");
        }
        function shouldIgnoreInlineStyle(element, selectors) {
          for (var i = 0, len = selectors.length; i < len; i++) {
            var ingnoredSelector = selectors[i];
            if (element.matches(ingnoredSelector)) {
              return true;
            }
          }
          return false;
        }
        function overrideInlineStyle(element, theme, ignoreInlineSelectors, ignoreImageSelectors) {
          var cacheKey = getInlineStyleCacheKey(element, theme);
          if (cacheKey === inlineStyleCache.get(element)) {
            return;
          }
          var unsetProps = new Set(Object.keys(overrides));
          function setCustomProp(targetCSSProp, modifierCSSProp, cssVal) {
            var isPropertyVariable = targetCSSProp.startsWith("--");
            var _a = isPropertyVariable ? {} : overrides[targetCSSProp], customProp = _a.customProp, dataAttr = _a.dataAttr;
            var mod = getModifiableCSSDeclaration(
              modifierCSSProp,
              cssVal,
              { style: element.style },
              variablesStore,
              ignoreImageSelectors,
              null
            );
            if (!mod) {
              return;
            }
            var value2 = mod.value;
            if (typeof value2 === "function") {
              value2 = value2(theme);
            }
            if (isPropertyVariable && typeof value2 === "object") {
              var typedValue = value2;
              typedValue.declarations.forEach(function(_a2) {
                var property = _a2.property, value3 = _a2.value;
                !(value3 instanceof Promise) && element.style.setProperty(property, value3);
              });
            } else {
              element.style.setProperty(customProp, value2);
              if (!element.hasAttribute(dataAttr)) {
                element.setAttribute(dataAttr, "");
              }
              unsetProps.delete(targetCSSProp);
            }
          }
          if (ignoreInlineSelectors.length > 0) {
            if (shouldIgnoreInlineStyle(element, ignoreInlineSelectors)) {
              unsetProps.forEach(function(cssProp) {
                element.removeAttribute(overrides[cssProp].dataAttr);
              });
              return;
            }
          }
          if (element.hasAttribute("bgcolor")) {
            var value = element.getAttribute("bgcolor");
            if (value.match(/^[0-9a-f]{3}$/i) || value.match(/^[0-9a-f]{6}$/i)) {
              value = "#".concat(value);
            }
            setCustomProp("background-color", "background-color", value);
          }
          if (element.hasAttribute("color") && element.rel !== "mask-icon") {
            var value = element.getAttribute("color");
            if (value.match(/^[0-9a-f]{3}$/i) || value.match(/^[0-9a-f]{6}$/i)) {
              value = "#".concat(value);
            }
            setCustomProp("color", "color", value);
          }
          if (element instanceof SVGElement) {
            if (element.hasAttribute("fill")) {
              var SMALL_SVG_LIMIT_1 = 32;
              var value_1 = element.getAttribute("fill");
              if (value_1 !== "none") {
                if (!(element instanceof SVGTextElement)) {
                  var handleSVGElement = function() {
                    var _a = element.getBoundingClientRect(), width = _a.width, height = _a.height;
                    var isBg = width > SMALL_SVG_LIMIT_1 || height > SMALL_SVG_LIMIT_1;
                    setCustomProp(
                      "fill",
                      isBg ? "background-color" : "color",
                      value_1
                    );
                  };
                  if (isReadyStateComplete()) {
                    handleSVGElement();
                  } else {
                    addReadyStateCompleteListener(handleSVGElement);
                  }
                } else {
                  setCustomProp("fill", "color", value_1);
                }
              }
            }
            if (element.hasAttribute("stop-color")) {
              setCustomProp(
                "stop-color",
                "background-color",
                element.getAttribute("stop-color")
              );
            }
          }
          if (element.hasAttribute("stroke")) {
            var value = element.getAttribute("stroke");
            setCustomProp(
              "stroke",
              element instanceof SVGLineElement || element instanceof SVGTextElement ? "border-color" : "color",
              value
            );
          }
          element.style && iterateCSSDeclarations(element.style, function(property, value2) {
            if (property === "background-image" && value2.includes("url")) {
              return;
            }
            if (overrides.hasOwnProperty(property) || property.startsWith("--") && !normalizedPropList[property]) {
              setCustomProp(property, property, value2);
            } else {
              var overridenProp = normalizedPropList[property];
              if (overridenProp && !element.style.getPropertyValue(overridenProp) && !element.hasAttribute(overridenProp)) {
                if (overridenProp === "background-color" && element.hasAttribute("bgcolor")) {
                  return;
                }
                element.style.setProperty(property, "");
              }
            }
          });
          if (element.style && element instanceof SVGTextElement && element.style.fill) {
            setCustomProp(
              "fill",
              "color",
              element.style.getPropertyValue("fill")
            );
          }
          forEach(unsetProps, function(cssProp) {
            element.removeAttribute(overrides[cssProp].dataAttr);
          });
          inlineStyleCache.set(element, getInlineStyleCacheKey(element, theme));
        }
        var metaThemeColorName = "theme-color";
        var metaThemeColorSelector = 'meta[name="'.concat(metaThemeColorName, '"]');
        var srcMetaThemeColor = null;
        var observer = null;
        function changeMetaThemeColor(meta, theme) {
          srcMetaThemeColor = srcMetaThemeColor || meta.content;
          var color = parseColorWithCache(srcMetaThemeColor);
          if (!color) {
            return;
          }
          meta.content = modifyBackgroundColor(color, theme);
        }
        function changeMetaThemeColorWhenAvailable(theme) {
          var meta = document.querySelector(metaThemeColorSelector);
          if (meta) {
            changeMetaThemeColor(meta, theme);
          } else {
            if (observer) {
              observer.disconnect();
            }
            observer = new MutationObserver(function(mutations) {
              loop:
                for (var i = 0; i < mutations.length; i++) {
                  var addedNodes = mutations[i].addedNodes;
                  for (var j = 0; j < addedNodes.length; j++) {
                    var node = addedNodes[j];
                    if (node instanceof HTMLMetaElement && node.name === metaThemeColorName) {
                      observer.disconnect();
                      observer = null;
                      changeMetaThemeColor(node, theme);
                      break loop;
                    }
                  }
                }
            });
            observer.observe(document.head, { childList: true });
          }
        }
        function restoreMetaThemeColor() {
          if (observer) {
            observer.disconnect();
            observer = null;
          }
          var meta = document.querySelector(metaThemeColorSelector);
          if (meta && srcMetaThemeColor) {
            meta.content = srcMetaThemeColor;
          }
        }
        var themeCacheKeys = [
          "mode",
          "brightness",
          "contrast",
          "grayscale",
          "sepia",
          "darkSchemeBackgroundColor",
          "darkSchemeTextColor",
          "lightSchemeBackgroundColor",
          "lightSchemeTextColor"
        ];
        function getThemeKey(theme) {
          var resultKey = "";
          themeCacheKeys.forEach(function(key) {
            resultKey += "".concat(key, ":").concat(theme[key], ";");
          });
          return resultKey;
        }
        var asyncQueue = createAsyncTasksQueue();
        function createStyleSheetModifier() {
          var renderId = 0;
          var rulesTextCache = /* @__PURE__ */ new Set();
          var rulesModCache = /* @__PURE__ */ new Map();
          var varTypeChangeCleaners = /* @__PURE__ */ new Set();
          var prevFilterKey = null;
          var hasNonLoadedLink = false;
          var wasRebuilt = false;
          function shouldRebuildStyle() {
            return hasNonLoadedLink && !wasRebuilt;
          }
          function modifySheet(options) {
            var rules = options.sourceCSSRules;
            var theme = options.theme, ignoreImageAnalysis = options.ignoreImageAnalysis, force = options.force, prepareSheet = options.prepareSheet, isAsyncCancelled = options.isAsyncCancelled;
            var rulesChanged = rulesModCache.size === 0;
            var notFoundCacheKeys = new Set(rulesModCache.keys());
            var themeKey = getThemeKey(theme);
            var themeChanged = themeKey !== prevFilterKey;
            if (hasNonLoadedLink) {
              wasRebuilt = true;
            }
            var modRules = [];
            iterateCSSRules(
              rules,
              function(rule) {
                var cssText = rule.cssText;
                var textDiffersFromPrev = false;
                notFoundCacheKeys.delete(cssText);
                if (rule.parentRule instanceof CSSMediaRule) {
                  cssText += ";".concat(rule.parentRule.media.mediaText);
                }
                if (!rulesTextCache.has(cssText)) {
                  rulesTextCache.add(cssText);
                  textDiffersFromPrev = true;
                }
                if (textDiffersFromPrev) {
                  rulesChanged = true;
                } else {
                  modRules.push(rulesModCache.get(cssText));
                  return;
                }
                if (rule.style.all === "revert") {
                  return;
                }
                var modDecs = [];
                rule.style && iterateCSSDeclarations(
                  rule.style,
                  function(property, value) {
                    var mod = getModifiableCSSDeclaration(
                      property,
                      value,
                      rule,
                      variablesStore,
                      ignoreImageAnalysis,
                      isAsyncCancelled
                    );
                    if (mod) {
                      modDecs.push(mod);
                    }
                  }
                );
                var modRule = null;
                if (modDecs.length > 0) {
                  var parentRule = rule.parentRule;
                  modRule = {
                    selector: rule.selectorText,
                    declarations: modDecs,
                    parentRule
                  };
                  modRules.push(modRule);
                }
                rulesModCache.set(cssText, modRule);
              },
              function() {
                hasNonLoadedLink = true;
              }
            );
            notFoundCacheKeys.forEach(function(key) {
              rulesTextCache.delete(key);
              rulesModCache.delete(key);
            });
            prevFilterKey = themeKey;
            if (!force && !rulesChanged && !themeChanged) {
              return;
            }
            renderId++;
            function setRule(target, index, rule) {
              var selector = rule.selector, declarations = rule.declarations;
              var getDeclarationText = function(dec) {
                var property = dec.property, value = dec.value, important = dec.important, sourceValue = dec.sourceValue;
                return "".concat(property, ": ").concat(value == null ? sourceValue : value).concat(important ? " !important" : "", ";");
              };
              var cssRulesText = "";
              declarations.forEach(function(declarations2) {
                cssRulesText += "".concat(
                  getDeclarationText(declarations2),
                  " "
                );
              });
              var selectorText = selector;
              if (isChromium && selector.startsWith(":is(") && (selector.includes(":is()") || selector.includes(":where()") || selector.includes(":where(") && selector.includes(":-moz"))) {
                selectorText = ".darkreader-unsupported-selector";
              }
              var ruleText = "".concat(selectorText, " { ").concat(cssRulesText, " }");
              target.insertRule(ruleText, index);
            }
            var asyncDeclarations = /* @__PURE__ */ new Map();
            var varDeclarations = /* @__PURE__ */ new Map();
            var asyncDeclarationCounter = 0;
            var varDeclarationCounter = 0;
            var rootReadyGroup = { rule: null, rules: [], isGroup: true };
            var groupRefs = /* @__PURE__ */ new WeakMap();
            function getGroup(rule) {
              if (rule == null) {
                return rootReadyGroup;
              }
              if (groupRefs.has(rule)) {
                return groupRefs.get(rule);
              }
              var group = { rule, rules: [], isGroup: true };
              groupRefs.set(rule, group);
              var parentGroup = getGroup(rule.parentRule);
              parentGroup.rules.push(group);
              return group;
            }
            varTypeChangeCleaners.forEach(function(clear) {
              return clear();
            });
            varTypeChangeCleaners.clear();
            modRules.filter(function(r) {
              return r;
            }).forEach(function(_a) {
              var selector = _a.selector, declarations = _a.declarations, parentRule = _a.parentRule;
              var group = getGroup(parentRule);
              var readyStyleRule = {
                selector,
                declarations: [],
                isGroup: false
              };
              var readyDeclarations = readyStyleRule.declarations;
              group.rules.push(readyStyleRule);
              function handleAsyncDeclaration(property, modified, important, sourceValue) {
                var asyncKey = ++asyncDeclarationCounter;
                var asyncDeclaration = {
                  property,
                  value: null,
                  important,
                  asyncKey,
                  sourceValue
                };
                readyDeclarations.push(asyncDeclaration);
                var currentRenderId = renderId;
                modified.then(function(asyncValue) {
                  if (!asyncValue || isAsyncCancelled() || currentRenderId !== renderId) {
                    return;
                  }
                  asyncDeclaration.value = asyncValue;
                  asyncQueue.add(function() {
                    if (isAsyncCancelled() || currentRenderId !== renderId) {
                      return;
                    }
                    rebuildAsyncRule(asyncKey);
                  });
                });
              }
              function handleVarDeclarations(property, modified, important, sourceValue) {
                var varDecs = modified.declarations, onTypeChange = modified.onTypeChange;
                var varKey = ++varDeclarationCounter;
                var currentRenderId = renderId;
                var initialIndex = readyDeclarations.length;
                var oldDecs = [];
                if (varDecs.length === 0) {
                  var tempDec = {
                    property,
                    value: sourceValue,
                    important,
                    sourceValue,
                    varKey
                  };
                  readyDeclarations.push(tempDec);
                  oldDecs = [tempDec];
                }
                varDecs.forEach(function(mod) {
                  if (mod.value instanceof Promise) {
                    handleAsyncDeclaration(
                      mod.property,
                      mod.value,
                      important,
                      sourceValue
                    );
                  } else {
                    var readyDec = {
                      property: mod.property,
                      value: mod.value,
                      important,
                      sourceValue,
                      varKey
                    };
                    readyDeclarations.push(readyDec);
                    oldDecs.push(readyDec);
                  }
                });
                onTypeChange.addListener(function(newDecs) {
                  if (isAsyncCancelled() || currentRenderId !== renderId) {
                    return;
                  }
                  var readyVarDecs = newDecs.map(function(mod) {
                    return {
                      property: mod.property,
                      value: mod.value,
                      important,
                      sourceValue,
                      varKey
                    };
                  });
                  var index = readyDeclarations.indexOf(
                    oldDecs[0],
                    initialIndex
                  );
                  readyDeclarations.splice.apply(
                    readyDeclarations,
                    __spreadArray(
                      [index, oldDecs.length],
                      __read(readyVarDecs),
                      false
                    )
                  );
                  oldDecs = readyVarDecs;
                  rebuildVarRule(varKey);
                });
                varTypeChangeCleaners.add(function() {
                  return onTypeChange.removeListeners();
                });
              }
              declarations.forEach(function(_a2) {
                var property = _a2.property, value = _a2.value, important = _a2.important, sourceValue = _a2.sourceValue;
                if (typeof value === "function") {
                  var modified = value(theme);
                  if (modified instanceof Promise) {
                    handleAsyncDeclaration(
                      property,
                      modified,
                      important,
                      sourceValue
                    );
                  } else if (property.startsWith("--")) {
                    handleVarDeclarations(
                      property,
                      modified,
                      important,
                      sourceValue
                    );
                  } else {
                    readyDeclarations.push({
                      property,
                      value: modified,
                      important,
                      sourceValue
                    });
                  }
                } else {
                  readyDeclarations.push({
                    property,
                    value,
                    important,
                    sourceValue
                  });
                }
              });
            });
            var sheet = prepareSheet();
            function buildStyleSheet() {
              function createTarget(group, parent) {
                var rule = group.rule;
                if (rule instanceof CSSMediaRule) {
                  var media = rule.media;
                  var index = parent.cssRules.length;
                  parent.insertRule(
                    "@media ".concat(media.mediaText, " {}"),
                    index
                  );
                  return parent.cssRules[index];
                }
                return parent;
              }
              function iterateReadyRules(group, target, styleIterator) {
                group.rules.forEach(function(r) {
                  if (r.isGroup) {
                    var t = createTarget(r, target);
                    iterateReadyRules(r, t, styleIterator);
                  } else {
                    styleIterator(r, target);
                  }
                });
              }
              iterateReadyRules(
                rootReadyGroup,
                sheet,
                function(rule, target) {
                  var index = target.cssRules.length;
                  rule.declarations.forEach(function(_a) {
                    var asyncKey = _a.asyncKey, varKey = _a.varKey;
                    if (asyncKey != null) {
                      asyncDeclarations.set(asyncKey, {
                        rule,
                        target,
                        index
                      });
                    }
                    if (varKey != null) {
                      varDeclarations.set(varKey, {
                        rule,
                        target,
                        index
                      });
                    }
                  });
                  setRule(target, index, rule);
                }
              );
            }
            function rebuildAsyncRule(key) {
              var _a = asyncDeclarations.get(key), rule = _a.rule, target = _a.target, index = _a.index;
              target.deleteRule(index);
              setRule(target, index, rule);
              asyncDeclarations.delete(key);
            }
            function rebuildVarRule(key) {
              var _a = varDeclarations.get(key), rule = _a.rule, target = _a.target, index = _a.index;
              target.deleteRule(index);
              setRule(target, index, rule);
            }
            buildStyleSheet();
          }
          return {
            modifySheet,
            shouldRebuildStyle
          };
        }
        var STYLE_SELECTOR = 'style, link[rel*="stylesheet" i]:not([disabled])';
        function isFontsGoogleApiStyle(element) {
          if (!element.href) {
            return false;
          }
          try {
            var elementURL = new URL(element.href);
            return elementURL.hostname === "fonts.googleapis.com";
          } catch (err) {
            logInfo("Couldn't construct ".concat(element.href, " as URL"));
            return false;
          }
        }
        function shouldManageStyle(element) {
          return (element instanceof HTMLStyleElement || element instanceof SVGStyleElement || element instanceof HTMLLinkElement && Boolean(element.rel) && element.rel.toLowerCase().includes("stylesheet") && Boolean(element.href) && !element.disabled && (isFirefox ? !element.href.startsWith("moz-extension://") : true) && !isFontsGoogleApiStyle(element)) && !element.classList.contains("darkreader") && element.media.toLowerCase() !== "print" && !element.classList.contains("stylus");
        }
        function getManageableStyles(node, results, deep) {
          if (results === void 0) {
            results = [];
          }
          if (deep === void 0) {
            deep = true;
          }
          if (shouldManageStyle(node)) {
            results.push(node);
          } else if (node instanceof Element || isShadowDomSupported && node instanceof ShadowRoot || node === document) {
            forEach(node.querySelectorAll(STYLE_SELECTOR), function(style) {
              return getManageableStyles(style, results, false);
            });
            if (deep) {
              iterateShadowHosts(node, function(host) {
                return getManageableStyles(host.shadowRoot, results, false);
              });
            }
          }
          return results;
        }
        var syncStyleSet = /* @__PURE__ */ new WeakSet();
        var corsStyleSet = /* @__PURE__ */ new WeakSet();
        var canOptimizeUsingProxy$1 = false;
        document.addEventListener(
          "__darkreader__inlineScriptsAllowed",
          function() {
            canOptimizeUsingProxy$1 = true;
          },
          { once: true, passive: true }
        );
        var loadingLinkCounter = 0;
        var rejectorsForLoadingLinks = /* @__PURE__ */ new Map();
        function cleanLoadingLinks() {
          rejectorsForLoadingLinks.clear();
        }
        function manageStyle(element, _a) {
          var update = _a.update, loadingStart = _a.loadingStart, loadingEnd = _a.loadingEnd;
          var prevStyles = [];
          var next = element;
          while ((next = next.nextElementSibling) && next.matches(".darkreader")) {
            prevStyles.push(next);
          }
          var corsCopy = prevStyles.find(function(el) {
            return el.matches(".darkreader--cors") && !corsStyleSet.has(el);
          }) || null;
          var syncStyle = prevStyles.find(function(el) {
            return el.matches(".darkreader--sync") && !syncStyleSet.has(el);
          }) || null;
          var corsCopyPositionWatcher = null;
          var syncStylePositionWatcher = null;
          var cancelAsyncOperations = false;
          var isOverrideEmpty = true;
          var sheetModifier = createStyleSheetModifier();
          var observer2 = new MutationObserver(function() {
            update();
          });
          var observerOptions = {
            attributes: true,
            childList: true,
            subtree: true,
            characterData: true
          };
          function containsCSSImport() {
            var _a2;
            if (!(element instanceof HTMLStyleElement)) {
              return false;
            }
            var cssText = removeCSSComments(
              (_a2 = element.textContent) !== null && _a2 !== void 0 ? _a2 : ""
            ).trim();
            return cssText.match(cssImportRegex);
          }
          function hasImports(cssRules, checkCrossOrigin) {
            var result = false;
            if (cssRules) {
              var rule = void 0;
              cssRulesLoop:
                for (var i = 0, len = cssRules.length; i < len; i++) {
                  rule = cssRules[i];
                  if (rule.href) {
                    if (checkCrossOrigin) {
                      if (!rule.href.startsWith(
                        "https://fonts.googleapis.com/"
                      ) && rule.href.startsWith("http") && !rule.href.startsWith(location.origin)) {
                        result = true;
                        break cssRulesLoop;
                      }
                    } else {
                      result = true;
                      break cssRulesLoop;
                    }
                  }
                }
            }
            return result;
          }
          function getRulesSync() {
            if (corsCopy) {
              return corsCopy.sheet.cssRules;
            }
            if (containsCSSImport()) {
              return null;
            }
            var cssRules = safeGetSheetRules();
            if (element instanceof HTMLLinkElement && !isRelativeHrefOnAbsolutePath(element.href) && hasImports(cssRules, false)) {
              return null;
            }
            if (hasImports(cssRules, true)) {
              return null;
            }
            return cssRules;
          }
          function insertStyle() {
            if (corsCopy) {
              if (element.nextSibling !== corsCopy) {
                element.parentNode.insertBefore(
                  corsCopy,
                  element.nextSibling
                );
              }
              if (corsCopy.nextSibling !== syncStyle) {
                element.parentNode.insertBefore(
                  syncStyle,
                  corsCopy.nextSibling
                );
              }
            } else if (element.nextSibling !== syncStyle) {
              element.parentNode.insertBefore(syncStyle, element.nextSibling);
            }
          }
          function createSyncStyle() {
            syncStyle = element instanceof SVGStyleElement ? document.createElementNS(
              "http://www.w3.org/2000/svg",
              "style"
            ) : document.createElement("style");
            syncStyle.classList.add("darkreader");
            syncStyle.classList.add("darkreader--sync");
            syncStyle.media = "screen";
            if (element.title) {
              syncStyle.title = element.title;
            }
            syncStyleSet.add(syncStyle);
          }
          var isLoadingRules = false;
          var wasLoadingError = false;
          var loadingLinkId = ++loadingLinkCounter;
          function getRulesAsync() {
            return __awaiter(this, void 0, void 0, function() {
              var cssText, cssBasePath, _a2, cssRules, accessError, fullCSSText;
              var _b;
              return __generator(this, function(_c) {
                switch (_c.label) {
                  case 0:
                    if (!(element instanceof HTMLLinkElement))
                      return [3, 7];
                    _a2 = __read(getRulesOrError(), 2), cssRules = _a2[0], accessError = _a2[1];
                    if (!(isSafari && !element.sheet || !isSafari && !cssRules && !accessError || isStillLoadingError(accessError)))
                      return [3, 5];
                    _c.label = 1;
                  case 1:
                    _c.trys.push([1, 3, , 4]);
                    return [4, linkLoading(element, loadingLinkId)];
                  case 2:
                    _c.sent();
                    return [3, 4];
                  case 3:
                    _c.sent();
                    wasLoadingError = true;
                    return [3, 4];
                  case 4:
                    if (cancelAsyncOperations) {
                      return [2, null];
                    }
                    _b = __read(getRulesOrError(), 2), cssRules = _b[0], accessError = _b[1];
                    _c.label = 5;
                  case 5:
                    if (cssRules) {
                      if (!hasImports(cssRules, false)) {
                        return [2, cssRules];
                      }
                    }
                    return [4, loadText(element.href)];
                  case 6:
                    cssText = _c.sent();
                    cssBasePath = getCSSBaseBath(element.href);
                    if (cancelAsyncOperations) {
                      return [2, null];
                    }
                    return [3, 8];
                  case 7:
                    if (containsCSSImport()) {
                      cssText = element.textContent.trim();
                      cssBasePath = getCSSBaseBath(location.href);
                    } else {
                      return [2, null];
                    }
                    _c.label = 8;
                  case 8:
                    if (!cssText)
                      return [3, 13];
                    _c.label = 9;
                  case 9:
                    _c.trys.push([9, 11, , 12]);
                    return [4, replaceCSSImports(cssText, cssBasePath)];
                  case 10:
                    fullCSSText = _c.sent();
                    corsCopy = createCORSCopy(element, fullCSSText);
                    return [3, 12];
                  case 11:
                    _c.sent();
                    return [3, 12];
                  case 12:
                    if (corsCopy) {
                      corsCopyPositionWatcher = watchForNodePosition(
                        corsCopy,
                        "prev-sibling"
                      );
                      return [2, corsCopy.sheet.cssRules];
                    }
                    _c.label = 13;
                  case 13:
                    return [2, null];
                }
              });
            });
          }
          function details(options) {
            var rules = getRulesSync();
            if (!rules) {
              if (options.secondRound) {
                return null;
              }
              if (isLoadingRules || wasLoadingError) {
                return null;
              }
              isLoadingRules = true;
              loadingStart();
              getRulesAsync().then(function(results) {
                isLoadingRules = false;
                loadingEnd();
                if (results) {
                  update();
                }
              }).catch(function(err) {
                isLoadingRules = false;
                loadingEnd();
              });
              return null;
            }
            return { rules };
          }
          var forceRenderStyle = false;
          function render(theme, ignoreImageAnalysis) {
            var rules = getRulesSync();
            if (!rules) {
              return;
            }
            cancelAsyncOperations = false;
            function removeCSSRulesFromSheet(sheet) {
              if (!sheet) {
                return;
              }
              for (var i = sheet.cssRules.length - 1; i >= 0; i--) {
                sheet.deleteRule(i);
              }
            }
            function prepareOverridesSheet() {
              if (!syncStyle) {
                createSyncStyle();
              }
              syncStylePositionWatcher && syncStylePositionWatcher.stop();
              insertStyle();
              if (syncStyle.sheet == null) {
                syncStyle.textContent = "";
              }
              var sheet = syncStyle.sheet;
              removeCSSRulesFromSheet(sheet);
              if (syncStylePositionWatcher) {
                syncStylePositionWatcher.run();
              } else {
                syncStylePositionWatcher = watchForNodePosition(
                  syncStyle,
                  "prev-sibling",
                  function() {
                    forceRenderStyle = true;
                    buildOverrides();
                  }
                );
              }
              return syncStyle.sheet;
            }
            function buildOverrides() {
              var force = forceRenderStyle;
              forceRenderStyle = false;
              sheetModifier.modifySheet({
                prepareSheet: prepareOverridesSheet,
                sourceCSSRules: rules,
                theme,
                ignoreImageAnalysis,
                force,
                isAsyncCancelled: function() {
                  return cancelAsyncOperations;
                }
              });
              isOverrideEmpty = syncStyle.sheet.cssRules.length === 0;
              if (sheetModifier.shouldRebuildStyle()) {
                addReadyStateCompleteListener(function() {
                  return update();
                });
              }
            }
            buildOverrides();
          }
          function getRulesOrError() {
            try {
              if (element.sheet == null) {
                return [null, null];
              }
              return [element.sheet.cssRules, null];
            } catch (err) {
              return [null, err];
            }
          }
          function isStillLoadingError(error) {
            return error && error.message && error.message.includes("loading");
          }
          function safeGetSheetRules() {
            var _a2 = __read(getRulesOrError(), 2), cssRules = _a2[0], err = _a2[1];
            if (err) {
              return null;
            }
            return cssRules;
          }
          function watchForSheetChanges() {
            watchForSheetChangesUsingProxy();
            if (!(canOptimizeUsingProxy$1 && element.sheet)) {
              watchForSheetChangesUsingRAF();
            }
          }
          var rulesChangeKey = null;
          var rulesCheckFrameId = null;
          function getRulesChangeKey() {
            var rules = safeGetSheetRules();
            return rules ? rules.length : null;
          }
          function didRulesKeyChange() {
            return getRulesChangeKey() !== rulesChangeKey;
          }
          function watchForSheetChangesUsingRAF() {
            rulesChangeKey = getRulesChangeKey();
            stopWatchingForSheetChangesUsingRAF();
            var checkForUpdate = function() {
              if (didRulesKeyChange()) {
                rulesChangeKey = getRulesChangeKey();
                update();
              }
              if (canOptimizeUsingProxy$1 && element.sheet) {
                stopWatchingForSheetChangesUsingRAF();
                return;
              }
              rulesCheckFrameId = requestAnimationFrame(checkForUpdate);
            };
            checkForUpdate();
          }
          function stopWatchingForSheetChangesUsingRAF() {
            cancelAnimationFrame(rulesCheckFrameId);
          }
          var areSheetChangesPending = false;
          function onSheetChange() {
            canOptimizeUsingProxy$1 = true;
            stopWatchingForSheetChangesUsingRAF();
            if (areSheetChangesPending) {
              return;
            }
            function handleSheetChanges() {
              areSheetChangesPending = false;
              if (cancelAsyncOperations) {
                return;
              }
              update();
            }
            areSheetChangesPending = true;
            if (typeof queueMicrotask === "function") {
              queueMicrotask(handleSheetChanges);
            } else {
              requestAnimationFrame(handleSheetChanges);
            }
          }
          function watchForSheetChangesUsingProxy() {
            element.addEventListener(
              "__darkreader__updateSheet",
              onSheetChange,
              { passive: true }
            );
          }
          function stopWatchingForSheetChangesUsingProxy() {
            element.removeEventListener(
              "__darkreader__updateSheet",
              onSheetChange
            );
          }
          function stopWatchingForSheetChanges() {
            stopWatchingForSheetChangesUsingProxy();
            stopWatchingForSheetChangesUsingRAF();
          }
          function pause() {
            observer2.disconnect();
            cancelAsyncOperations = true;
            corsCopyPositionWatcher && corsCopyPositionWatcher.stop();
            syncStylePositionWatcher && syncStylePositionWatcher.stop();
            stopWatchingForSheetChanges();
          }
          function destroy() {
            pause();
            removeNode(corsCopy);
            removeNode(syncStyle);
            loadingEnd();
            if (rejectorsForLoadingLinks.has(loadingLinkId)) {
              var reject = rejectorsForLoadingLinks.get(loadingLinkId);
              rejectorsForLoadingLinks.delete(loadingLinkId);
              reject && reject();
            }
          }
          function watch() {
            observer2.observe(element, observerOptions);
            if (element instanceof HTMLStyleElement) {
              watchForSheetChanges();
            }
          }
          var maxMoveCount = 10;
          var moveCount = 0;
          function restore() {
            if (!syncStyle) {
              return;
            }
            moveCount++;
            if (moveCount > maxMoveCount) {
              return;
            }
            insertStyle();
            corsCopyPositionWatcher && corsCopyPositionWatcher.skip();
            syncStylePositionWatcher && syncStylePositionWatcher.skip();
            if (!isOverrideEmpty) {
              forceRenderStyle = true;
              update();
            }
          }
          return {
            details,
            render,
            pause,
            destroy,
            watch,
            restore
          };
        }
        function linkLoading(link, loadingId) {
          return __awaiter(this, void 0, void 0, function() {
            return __generator(this, function(_a) {
              return [
                2,
                new Promise(function(resolve, reject) {
                  var cleanUp = function() {
                    link.removeEventListener("load", onLoad);
                    link.removeEventListener("error", onError);
                    rejectorsForLoadingLinks.delete(loadingId);
                  };
                  var onLoad = function() {
                    cleanUp();
                    resolve();
                  };
                  var onError = function() {
                    cleanUp();
                    reject(
                      "Linkelement ".concat(loadingId, " couldn't be loaded. ").concat(link.href)
                    );
                  };
                  rejectorsForLoadingLinks.set(loadingId, function() {
                    cleanUp();
                    reject();
                  });
                  link.addEventListener("load", onLoad, { passive: true });
                  link.addEventListener("error", onError, {
                    passive: true
                  });
                  if (!link.href) {
                    onError();
                  }
                })
              ];
            });
          });
        }
        function getCSSImportURL(importDeclaration) {
          return getCSSURLValue(
            importDeclaration.substring(7).trim().replace(/;$/, "").replace(/screen$/, "")
          );
        }
        function loadText(url) {
          return __awaiter(this, void 0, void 0, function() {
            return __generator(this, function(_a) {
              switch (_a.label) {
                case 0:
                  if (!url.startsWith("data:"))
                    return [3, 3];
                  return [4, fetch(url)];
                case 1:
                  return [4, _a.sent().text()];
                case 2:
                  return [2, _a.sent()];
                case 3:
                  return [
                    4,
                    bgFetch({
                      url,
                      responseType: "text",
                      mimeType: "text/css",
                      origin: window.location.origin
                    })
                  ];
                case 4:
                  return [2, _a.sent()];
              }
            });
          });
        }
        function replaceCSSImports(cssText, basePath, cache) {
          if (cache === void 0) {
            cache = /* @__PURE__ */ new Map();
          }
          return __awaiter(this, void 0, void 0, function() {
            var importMatches, importMatches_1, importMatches_1_1, match, importURL, absoluteURL, importedCSS, e_1_1;
            var e_1, _a;
            return __generator(this, function(_b) {
              switch (_b.label) {
                case 0:
                  cssText = removeCSSComments(cssText);
                  cssText = replaceCSSFontFace(cssText);
                  cssText = replaceCSSRelativeURLsWithAbsolute(
                    cssText,
                    basePath
                  );
                  importMatches = getMatches(cssImportRegex, cssText);
                  _b.label = 1;
                case 1:
                  _b.trys.push([1, 10, 11, 12]);
                  importMatches_1 = __values(importMatches), importMatches_1_1 = importMatches_1.next();
                  _b.label = 2;
                case 2:
                  if (!!importMatches_1_1.done)
                    return [3, 9];
                  match = importMatches_1_1.value;
                  importURL = getCSSImportURL(match);
                  absoluteURL = getAbsoluteURL(basePath, importURL);
                  importedCSS = void 0;
                  if (!cache.has(absoluteURL))
                    return [3, 3];
                  importedCSS = cache.get(absoluteURL);
                  return [3, 7];
                case 3:
                  _b.trys.push([3, 6, , 7]);
                  return [4, loadText(absoluteURL)];
                case 4:
                  importedCSS = _b.sent();
                  cache.set(absoluteURL, importedCSS);
                  return [
                    4,
                    replaceCSSImports(
                      importedCSS,
                      getCSSBaseBath(absoluteURL),
                      cache
                    )
                  ];
                case 5:
                  importedCSS = _b.sent();
                  return [3, 7];
                case 6:
                  _b.sent();
                  importedCSS = "";
                  return [3, 7];
                case 7:
                  cssText = cssText.split(match).join(importedCSS);
                  _b.label = 8;
                case 8:
                  importMatches_1_1 = importMatches_1.next();
                  return [3, 2];
                case 9:
                  return [3, 12];
                case 10:
                  e_1_1 = _b.sent();
                  e_1 = { error: e_1_1 };
                  return [3, 12];
                case 11:
                  try {
                    if (importMatches_1_1 && !importMatches_1_1.done && (_a = importMatches_1.return))
                      _a.call(importMatches_1);
                  } finally {
                    if (e_1)
                      throw e_1.error;
                  }
                  return [7];
                case 12:
                  cssText = cssText.trim();
                  return [2, cssText];
              }
            });
          });
        }
        function createCORSCopy(srcElement, cssText) {
          if (!cssText) {
            return null;
          }
          var cors = document.createElement("style");
          cors.classList.add("darkreader");
          cors.classList.add("darkreader--cors");
          cors.media = "screen";
          cors.textContent = cssText;
          srcElement.parentNode.insertBefore(cors, srcElement.nextSibling);
          cors.sheet.disabled = true;
          corsStyleSet.add(cors);
          return cors;
        }
        var observers = [];
        var observedRoots;
        var definedCustomElements = /* @__PURE__ */ new Set();
        var undefinedGroups = /* @__PURE__ */ new Map();
        var elementsDefinitionCallback;
        function isCustomElement(element) {
          if (element.tagName.includes("-") || element.getAttribute("is")) {
            return true;
          }
          return false;
        }
        function recordUndefinedElement(element) {
          var tag = element.tagName.toLowerCase();
          if (!tag.includes("-")) {
            var extendedTag = element.getAttribute("is");
            if (extendedTag) {
              tag = extendedTag;
            } else {
              return;
            }
          }
          if (!undefinedGroups.has(tag)) {
            undefinedGroups.set(tag, /* @__PURE__ */ new Set());
            customElementsWhenDefined(tag).then(function() {
              if (elementsDefinitionCallback) {
                var elements = undefinedGroups.get(tag);
                undefinedGroups.delete(tag);
                elementsDefinitionCallback(Array.from(elements));
              }
            });
          }
          undefinedGroups.get(tag).add(element);
        }
        function collectUndefinedElements(root) {
          if (!isDefinedSelectorSupported) {
            return;
          }
          forEach(
            root.querySelectorAll(":not(:defined)"),
            recordUndefinedElement
          );
        }
        var canOptimizeUsingProxy = false;
        document.addEventListener(
          "__darkreader__inlineScriptsAllowed",
          function() {
            canOptimizeUsingProxy = true;
          },
          { once: true, passive: true }
        );
        var resolvers = /* @__PURE__ */ new Map();
        function handleIsDefined(e) {
          canOptimizeUsingProxy = true;
          var tag = e.detail.tag;
          definedCustomElements.add(tag);
          if (resolvers.has(tag)) {
            var r = resolvers.get(tag);
            resolvers.delete(tag);
            r.forEach(function(r2) {
              return r2();
            });
          }
        }
        function customElementsWhenDefined(tag) {
          return __awaiter(this, void 0, void 0, function() {
            return __generator(this, function(_a) {
              if (definedCustomElements.has(tag)) {
                return [2];
              }
              return [
                2,
                new Promise(function(resolve) {
                  if (window.customElements && typeof customElements.whenDefined === "function") {
                    customElements.whenDefined(tag).then(function() {
                      return resolve();
                    });
                  } else if (canOptimizeUsingProxy) {
                    if (resolvers.has(tag)) {
                      resolvers.get(tag).push(resolve);
                    } else {
                      resolvers.set(tag, [resolve]);
                    }
                    document.dispatchEvent(
                      new CustomEvent(
                        "__darkreader__addUndefinedResolver",
                        { detail: { tag } }
                      )
                    );
                  } else {
                    var checkIfDefined_1 = function() {
                      var elements = undefinedGroups.get(tag);
                      if (elements && elements.size > 0) {
                        if (elements.values().next().value.matches(":defined")) {
                          resolve();
                        } else {
                          requestAnimationFrame(checkIfDefined_1);
                        }
                      }
                    };
                    requestAnimationFrame(checkIfDefined_1);
                  }
                })
              ];
            });
          });
        }
        function watchWhenCustomElementsDefined(callback) {
          elementsDefinitionCallback = callback;
        }
        function unsubscribeFromDefineCustomElements() {
          elementsDefinitionCallback = null;
          undefinedGroups.clear();
          document.removeEventListener(
            "__darkreader__isDefined",
            handleIsDefined
          );
        }
        function watchForStyleChanges(currentStyles, update, shadowRootDiscovered) {
          stopWatchingForStyleChanges();
          var prevStyles = new Set(currentStyles);
          var prevStyleSiblings = /* @__PURE__ */ new WeakMap();
          var nextStyleSiblings = /* @__PURE__ */ new WeakMap();
          function saveStylePosition(style) {
            prevStyleSiblings.set(style, style.previousElementSibling);
            nextStyleSiblings.set(style, style.nextElementSibling);
          }
          function forgetStylePosition(style) {
            prevStyleSiblings.delete(style);
            nextStyleSiblings.delete(style);
          }
          function didStylePositionChange(style) {
            return style.previousElementSibling !== prevStyleSiblings.get(style) || style.nextElementSibling !== nextStyleSiblings.get(style);
          }
          currentStyles.forEach(saveStylePosition);
          function handleStyleOperations(operations) {
            var createdStyles = operations.createdStyles, removedStyles = operations.removedStyles, movedStyles = operations.movedStyles;
            createdStyles.forEach(function(s) {
              return saveStylePosition(s);
            });
            movedStyles.forEach(function(s) {
              return saveStylePosition(s);
            });
            removedStyles.forEach(function(s) {
              return forgetStylePosition(s);
            });
            createdStyles.forEach(function(s) {
              return prevStyles.add(s);
            });
            removedStyles.forEach(function(s) {
              return prevStyles.delete(s);
            });
            if (createdStyles.size + removedStyles.size + movedStyles.size > 0) {
              update({
                created: Array.from(createdStyles),
                removed: Array.from(removedStyles),
                moved: Array.from(movedStyles),
                updated: []
              });
            }
          }
          function handleMinorTreeMutations(_a) {
            var additions = _a.additions, moves = _a.moves, deletions = _a.deletions;
            var createdStyles = /* @__PURE__ */ new Set();
            var removedStyles = /* @__PURE__ */ new Set();
            var movedStyles = /* @__PURE__ */ new Set();
            additions.forEach(function(node) {
              return getManageableStyles(node).forEach(function(style) {
                return createdStyles.add(style);
              });
            });
            deletions.forEach(function(node) {
              return getManageableStyles(node).forEach(function(style) {
                return removedStyles.add(style);
              });
            });
            moves.forEach(function(node) {
              return getManageableStyles(node).forEach(function(style) {
                return movedStyles.add(style);
              });
            });
            handleStyleOperations({
              createdStyles,
              removedStyles,
              movedStyles
            });
            additions.forEach(function(n) {
              extendedIterateShadowHosts(n);
              collectUndefinedElements(n);
            });
            additions.forEach(function(node) {
              return isCustomElement(node) && recordUndefinedElement(node);
            });
          }
          function handleHugeTreeMutations(root) {
            var styles = new Set(getManageableStyles(root));
            var createdStyles = /* @__PURE__ */ new Set();
            var removedStyles = /* @__PURE__ */ new Set();
            var movedStyles = /* @__PURE__ */ new Set();
            styles.forEach(function(s) {
              if (!prevStyles.has(s)) {
                createdStyles.add(s);
              }
            });
            prevStyles.forEach(function(s) {
              if (!styles.has(s)) {
                removedStyles.add(s);
              }
            });
            styles.forEach(function(s) {
              if (!createdStyles.has(s) && !removedStyles.has(s) && didStylePositionChange(s)) {
                movedStyles.add(s);
              }
            });
            handleStyleOperations({
              createdStyles,
              removedStyles,
              movedStyles
            });
            extendedIterateShadowHosts(root);
            collectUndefinedElements(root);
          }
          function handleAttributeMutations(mutations) {
            var updatedStyles = /* @__PURE__ */ new Set();
            var removedStyles = /* @__PURE__ */ new Set();
            mutations.forEach(function(m) {
              var target = m.target;
              if (target.isConnected) {
                if (shouldManageStyle(target)) {
                  updatedStyles.add(target);
                } else if (target instanceof HTMLLinkElement && target.disabled) {
                  removedStyles.add(target);
                }
              }
            });
            if (updatedStyles.size + removedStyles.size > 0) {
              update({
                updated: Array.from(updatedStyles),
                created: [],
                removed: Array.from(removedStyles),
                moved: []
              });
            }
          }
          function observe(root) {
            if (observedRoots.has(root)) {
              return;
            }
            var treeObserver = createOptimizedTreeObserver(root, {
              onMinorMutations: handleMinorTreeMutations,
              onHugeMutations: handleHugeTreeMutations
            });
            var attrObserver = new MutationObserver(handleAttributeMutations);
            attrObserver.observe(root, {
              attributeFilter: ["rel", "disabled", "media", "href"],
              subtree: true
            });
            observers.push(treeObserver, attrObserver);
            observedRoots.add(root);
          }
          function subscribeForShadowRootChanges(node) {
            var shadowRoot = node.shadowRoot;
            if (shadowRoot == null || observedRoots.has(shadowRoot)) {
              return;
            }
            observe(shadowRoot);
            shadowRootDiscovered(shadowRoot);
          }
          function extendedIterateShadowHosts(node) {
            iterateShadowHosts(node, subscribeForShadowRootChanges);
          }
          observe(document);
          extendedIterateShadowHosts(document.documentElement);
          watchWhenCustomElementsDefined(function(hosts) {
            var newStyles = [];
            hosts.forEach(function(host) {
              return push(newStyles, getManageableStyles(host.shadowRoot));
            });
            update({ created: newStyles, updated: [], removed: [], moved: [] });
            hosts.forEach(function(host) {
              var shadowRoot = host.shadowRoot;
              if (shadowRoot == null) {
                return;
              }
              subscribeForShadowRootChanges(host);
              extendedIterateShadowHosts(shadowRoot);
              collectUndefinedElements(shadowRoot);
            });
          });
          document.addEventListener("__darkreader__isDefined", handleIsDefined, {
            passive: true
          });
          collectUndefinedElements(document);
        }
        function resetObservers() {
          observers.forEach(function(o) {
            return o.disconnect();
          });
          observers.splice(0, observers.length);
          observedRoots = /* @__PURE__ */ new WeakSet();
        }
        function stopWatchingForStyleChanges() {
          resetObservers();
          unsubscribeFromDefineCustomElements();
        }
        var adoptedStyleOverrides = /* @__PURE__ */ new WeakMap();
        var overrideList = /* @__PURE__ */ new WeakSet();
        function createAdoptedStyleSheetOverride(node) {
          var cancelAsyncOperations = false;
          function injectSheet(sheet, override) {
            var newSheets = __spreadArray(
              [],
              __read(node.adoptedStyleSheets),
              false
            );
            var sheetIndex = newSheets.indexOf(sheet);
            var existingIndex = newSheets.indexOf(override);
            if (sheetIndex === existingIndex - 1) {
              return;
            }
            if (existingIndex >= 0) {
              newSheets.splice(existingIndex, 1);
            }
            newSheets.splice(sheetIndex + 1, 0, override);
            node.adoptedStyleSheets = newSheets;
          }
          function destroy() {
            cancelAsyncOperations = true;
            var newSheets = __spreadArray(
              [],
              __read(node.adoptedStyleSheets),
              false
            );
            node.adoptedStyleSheets.forEach(function(adoptedStyleSheet) {
              if (overrideList.has(adoptedStyleSheet)) {
                var existingIndex = newSheets.indexOf(adoptedStyleSheet);
                if (existingIndex >= 0) {
                  newSheets.splice(existingIndex, 1);
                }
                adoptedStyleOverrides.delete(adoptedStyleSheet);
                overrideList.delete(adoptedStyleSheet);
              }
            });
            node.adoptedStyleSheets = newSheets;
          }
          function render(theme, ignoreImageAnalysis) {
            node.adoptedStyleSheets.forEach(function(sheet) {
              if (overrideList.has(sheet)) {
                return;
              }
              var rules = sheet.rules;
              var override = new CSSStyleSheet();
              function prepareOverridesSheet() {
                for (var i = override.cssRules.length - 1; i >= 0; i--) {
                  override.deleteRule(i);
                }
                injectSheet(sheet, override);
                adoptedStyleOverrides.set(sheet, override);
                overrideList.add(override);
                return override;
              }
              var sheetModifier = createStyleSheetModifier();
              sheetModifier.modifySheet({
                prepareSheet: prepareOverridesSheet,
                sourceCSSRules: rules,
                theme,
                ignoreImageAnalysis,
                force: false,
                isAsyncCancelled: function() {
                  return cancelAsyncOperations;
                }
              });
            });
          }
          return {
            render,
            destroy
          };
        }
        function injectProxy(enableStyleSheetsProxy, enableCustomElementRegistryProxy) {
          document.dispatchEvent(
            new CustomEvent("__darkreader__inlineScriptsAllowed")
          );
          var addRuleDescriptor = Object.getOwnPropertyDescriptor(
            CSSStyleSheet.prototype,
            "addRule"
          );
          var insertRuleDescriptor = Object.getOwnPropertyDescriptor(
            CSSStyleSheet.prototype,
            "insertRule"
          );
          var deleteRuleDescriptor = Object.getOwnPropertyDescriptor(
            CSSStyleSheet.prototype,
            "deleteRule"
          );
          var removeRuleDescriptor = Object.getOwnPropertyDescriptor(
            CSSStyleSheet.prototype,
            "removeRule"
          );
          var documentStyleSheetsDescriptor = enableStyleSheetsProxy ? Object.getOwnPropertyDescriptor(Document.prototype, "styleSheets") : null;
          var customElementRegistryDefineDescriptor = enableCustomElementRegistryProxy ? Object.getOwnPropertyDescriptor(
            CustomElementRegistry.prototype,
            "define"
          ) : null;
          var shouldWrapHTMLElement = [
            "baidu.com",
            "baike.baidu.com",
            "ditu.baidu.com",
            "map.baidu.com",
            "maps.baidu.com",
            "haokan.baidu.com",
            "pan.baidu.com",
            "passport.baidu.com",
            "tieba.baidu.com",
            "www.baidu.com"
          ].includes(location.hostname);
          var getElementsByTagNameDescriptor = shouldWrapHTMLElement ? Object.getOwnPropertyDescriptor(
            Element.prototype,
            "getElementsByTagName"
          ) : null;
          var shouldProxyChildNodes = location.hostname === "www.vy.no";
          var childNodesDescriptor = shouldProxyChildNodes ? Object.getOwnPropertyDescriptor(Node.prototype, "childNodes") : null;
          var cleanUp = function() {
            Object.defineProperty(
              CSSStyleSheet.prototype,
              "addRule",
              addRuleDescriptor
            );
            Object.defineProperty(
              CSSStyleSheet.prototype,
              "insertRule",
              insertRuleDescriptor
            );
            Object.defineProperty(
              CSSStyleSheet.prototype,
              "deleteRule",
              deleteRuleDescriptor
            );
            Object.defineProperty(
              CSSStyleSheet.prototype,
              "removeRule",
              removeRuleDescriptor
            );
            document.removeEventListener("__darkreader__cleanUp", cleanUp);
            document.removeEventListener(
              "__darkreader__addUndefinedResolver",
              addUndefinedResolver
            );
            if (enableStyleSheetsProxy) {
              Object.defineProperty(
                Document.prototype,
                "styleSheets",
                documentStyleSheetsDescriptor
              );
            }
            if (enableCustomElementRegistryProxy) {
              Object.defineProperty(
                CustomElementRegistry.prototype,
                "define",
                customElementRegistryDefineDescriptor
              );
            }
            if (shouldWrapHTMLElement) {
              Object.defineProperty(
                Element.prototype,
                "getElementsByTagName",
                getElementsByTagNameDescriptor
              );
            }
            if (shouldProxyChildNodes) {
              Object.defineProperty(
                Node.prototype,
                "childNodes",
                childNodesDescriptor
              );
            }
          };
          var addUndefinedResolverInner = function(tag) {
            customElements.whenDefined(tag).then(function() {
              document.dispatchEvent(
                new CustomEvent("__darkreader__isDefined", {
                  detail: { tag }
                })
              );
            });
          };
          var addUndefinedResolver = function(e) {
            return addUndefinedResolverInner(e.detail.tag);
          };
          document.addEventListener("__darkreader__cleanUp", cleanUp, {
            passive: true
          });
          document.addEventListener(
            "__darkreader__addUndefinedResolver",
            addUndefinedResolver,
            { passive: true }
          );
          var updateSheetEvent = new Event("__darkreader__updateSheet");
          function proxyAddRule(selector, style, index) {
            addRuleDescriptor.value.call(this, selector, style, index);
            if (this.ownerNode && !(this.ownerNode.classList && this.ownerNode.classList.contains("darkreader"))) {
              this.ownerNode.dispatchEvent(updateSheetEvent);
            }
            return -1;
          }
          function proxyInsertRule(rule, index) {
            var returnValue = insertRuleDescriptor.value.call(
              this,
              rule,
              index
            );
            if (this.ownerNode && !(this.ownerNode.classList && this.ownerNode.classList.contains("darkreader"))) {
              this.ownerNode.dispatchEvent(updateSheetEvent);
            }
            return returnValue;
          }
          function proxyDeleteRule(index) {
            deleteRuleDescriptor.value.call(this, index);
            if (this.ownerNode && !(this.ownerNode.classList && this.ownerNode.classList.contains("darkreader"))) {
              this.ownerNode.dispatchEvent(updateSheetEvent);
            }
          }
          function proxyRemoveRule(index) {
            removeRuleDescriptor.value.call(this, index);
            if (this.ownerNode && !(this.ownerNode.classList && this.ownerNode.classList.contains("darkreader"))) {
              this.ownerNode.dispatchEvent(updateSheetEvent);
            }
          }
          function proxyDocumentStyleSheets() {
            var _this = this;
            var getCurrentValue = function() {
              var docSheets = documentStyleSheetsDescriptor.get.call(_this);
              var filteredSheets = __spreadArray(
                [],
                __read(docSheets),
                false
              ).filter(function(styleSheet) {
                return styleSheet.ownerNode && !(styleSheet.ownerNode.classList && styleSheet.ownerNode.classList.contains(
                  "darkreader"
                ));
              });
              filteredSheets.item = function(item) {
                return filteredSheets[item];
              };
              return Object.setPrototypeOf(
                filteredSheets,
                StyleSheetList.prototype
              );
            };
            var elements = getCurrentValue();
            var styleSheetListBehavior = {
              get: function(_, property) {
                return getCurrentValue()[property];
              }
            };
            elements = new Proxy(elements, styleSheetListBehavior);
            return elements;
          }
          function proxyCustomElementRegistryDefine(name, constructor, options) {
            addUndefinedResolverInner(name);
            customElementRegistryDefineDescriptor.value.call(
              this,
              name,
              constructor,
              options
            );
          }
          function proxyGetElementsByTagName(tagName) {
            var _this = this;
            if (tagName !== "style") {
              return getElementsByTagNameDescriptor.value.call(this, tagName);
            }
            var getCurrentElementValue = function() {
              var elements2 = getElementsByTagNameDescriptor.value.call(
                _this,
                tagName
              );
              return Object.setPrototypeOf(
                __spreadArray([], __read(elements2), false).filter(
                  function(element) {
                    return element && !(element.classList && element.classList.contains("darkreader"));
                  }
                ),
                NodeList.prototype
              );
            };
            var elements = getCurrentElementValue();
            var nodeListBehavior = {
              get: function(_, property) {
                return getCurrentElementValue()[Number(property) || property];
              }
            };
            elements = new Proxy(elements, nodeListBehavior);
            return elements;
          }
          function proxyChildNodes() {
            var childNodes = childNodesDescriptor.get.call(this);
            return Object.setPrototypeOf(
              __spreadArray([], __read(childNodes), false).filter(
                function(element) {
                  return !element.classList || !element.classList.contains("darkreader");
                }
              ),
              NodeList.prototype
            );
          }
          Object.defineProperty(
            CSSStyleSheet.prototype,
            "addRule",
            Object.assign({}, addRuleDescriptor, { value: proxyAddRule })
          );
          Object.defineProperty(
            CSSStyleSheet.prototype,
            "insertRule",
            Object.assign({}, insertRuleDescriptor, { value: proxyInsertRule })
          );
          Object.defineProperty(
            CSSStyleSheet.prototype,
            "deleteRule",
            Object.assign({}, deleteRuleDescriptor, { value: proxyDeleteRule })
          );
          Object.defineProperty(
            CSSStyleSheet.prototype,
            "removeRule",
            Object.assign({}, removeRuleDescriptor, { value: proxyRemoveRule })
          );
          if (enableStyleSheetsProxy) {
            Object.defineProperty(
              Document.prototype,
              "styleSheets",
              Object.assign({}, documentStyleSheetsDescriptor, {
                get: proxyDocumentStyleSheets
              })
            );
          }
          if (enableCustomElementRegistryProxy) {
            Object.defineProperty(
              CustomElementRegistry.prototype,
              "define",
              Object.assign({}, customElementRegistryDefineDescriptor, {
                value: proxyCustomElementRegistryDefine
              })
            );
          }
          if (shouldWrapHTMLElement) {
            Object.defineProperty(
              Element.prototype,
              "getElementsByTagName",
              Object.assign({}, getElementsByTagNameDescriptor, {
                value: proxyGetElementsByTagName
              })
            );
          }
          if (shouldProxyChildNodes) {
            Object.defineProperty(
              Node.prototype,
              "childNodes",
              Object.assign({}, childNodesDescriptor, { get: proxyChildNodes })
            );
          }
        }
        var documentVisibilityListener = null;
        var documentIsVisible_ = !document.hidden;
        var listenerOptions = {
          capture: true,
          passive: true
        };
        function watchForDocumentVisibility() {
          document.addEventListener(
            "visibilitychange",
            documentVisibilityListener,
            listenerOptions
          );
          window.addEventListener(
            "pageshow",
            documentVisibilityListener,
            listenerOptions
          );
          window.addEventListener(
            "focus",
            documentVisibilityListener,
            listenerOptions
          );
        }
        function stopWatchingForDocumentVisibility() {
          document.removeEventListener(
            "visibilitychange",
            documentVisibilityListener,
            listenerOptions
          );
          window.removeEventListener(
            "pageshow",
            documentVisibilityListener,
            listenerOptions
          );
          window.removeEventListener(
            "focus",
            documentVisibilityListener,
            listenerOptions
          );
        }
        function setDocumentVisibilityListener(callback) {
          var alreadyWatching = Boolean(documentVisibilityListener);
          documentVisibilityListener = function() {
            if (!document.hidden) {
              removeDocumentVisibilityListener();
              callback();
              documentIsVisible_ = true;
            }
          };
          if (!alreadyWatching) {
            watchForDocumentVisibility();
          }
        }
        function removeDocumentVisibilityListener() {
          stopWatchingForDocumentVisibility();
          documentVisibilityListener = null;
        }
        function documentIsVisible() {
          return documentIsVisible_;
        }
        var INSTANCE_ID = generateUID();
        var styleManagers = /* @__PURE__ */ new Map();
        var adoptedStyleManagers = [];
        var filter = null;
        var fixes = null;
        var isIFrame$1 = null;
        var ignoredImageAnalysisSelectors = [];
        var ignoredInlineSelectors = [];
        function createOrUpdateStyle(className, root) {
          if (root === void 0) {
            root = document.head || document;
          }
          var element = root.querySelector(".".concat(className));
          if (!element) {
            element = document.createElement("style");
            element.classList.add("darkreader");
            element.classList.add(className);
            element.media = "screen";
            element.textContent = "";
          }
          return element;
        }
        function createOrUpdateScript(className, root) {
          if (root === void 0) {
            root = document.head || document;
          }
          var element = root.querySelector(".".concat(className));
          if (!element) {
            element = document.createElement("script");
            element.classList.add("darkreader");
            element.classList.add(className);
          }
          return element;
        }
        var nodePositionWatchers = /* @__PURE__ */ new Map();
        function setupNodePositionWatcher(node, alias) {
          nodePositionWatchers.has(alias) && nodePositionWatchers.get(alias).stop();
          nodePositionWatchers.set(alias, watchForNodePosition(node, "head"));
        }
        function stopStylePositionWatchers() {
          forEach(nodePositionWatchers.values(), function(watcher) {
            return watcher.stop();
          });
          nodePositionWatchers.clear();
        }
        function createStaticStyleOverrides() {
          var fallbackStyle = createOrUpdateStyle(
            "darkreader--fallback",
            document
          );
          fallbackStyle.textContent = getModifiedFallbackStyle(filter, {
            strict: true
          });
          document.head.insertBefore(fallbackStyle, document.head.firstChild);
          setupNodePositionWatcher(fallbackStyle, "fallback");
          var userAgentStyle = createOrUpdateStyle("darkreader--user-agent");
          userAgentStyle.textContent = getModifiedUserAgentStyle(
            filter,
            isIFrame$1,
            filter.styleSystemControls
          );
          document.head.insertBefore(userAgentStyle, fallbackStyle.nextSibling);
          setupNodePositionWatcher(userAgentStyle, "user-agent");
          var textStyle = createOrUpdateStyle("darkreader--text");
          if (filter.useFont || filter.textStroke > 0) {
            textStyle.textContent = createTextStyle(filter);
          } else {
            textStyle.textContent = "";
          }
          document.head.insertBefore(textStyle, fallbackStyle.nextSibling);
          setupNodePositionWatcher(textStyle, "text");
          var invertStyle = createOrUpdateStyle("darkreader--invert");
          if (fixes && Array.isArray(fixes.invert) && fixes.invert.length > 0) {
            invertStyle.textContent = [
              "".concat(fixes.invert.join(", "), " {"),
              "    filter: ".concat(
                getCSSFilterValue(
                  __assign(__assign({}, filter), {
                    contrast: filter.mode === 0 ? filter.contrast : clamp(filter.contrast - 10, 0, 100)
                  })
                ),
                " !important;"
              ),
              "}"
            ].join("\n");
          } else {
            invertStyle.textContent = "";
          }
          document.head.insertBefore(invertStyle, textStyle.nextSibling);
          setupNodePositionWatcher(invertStyle, "invert");
          var inlineStyle = createOrUpdateStyle("darkreader--inline");
          inlineStyle.textContent = getInlineOverrideStyle();
          document.head.insertBefore(inlineStyle, invertStyle.nextSibling);
          setupNodePositionWatcher(inlineStyle, "inline");
          var overrideStyle = createOrUpdateStyle("darkreader--override");
          overrideStyle.textContent = fixes && fixes.css ? replaceCSSTemplates(fixes.css) : "";
          document.head.appendChild(overrideStyle);
          setupNodePositionWatcher(overrideStyle, "override");
          var variableStyle = createOrUpdateStyle("darkreader--variables");
          var selectionColors = getSelectionColor(filter);
          var _a = filter, darkSchemeBackgroundColor = _a.darkSchemeBackgroundColor, darkSchemeTextColor = _a.darkSchemeTextColor, lightSchemeBackgroundColor = _a.lightSchemeBackgroundColor, lightSchemeTextColor = _a.lightSchemeTextColor, mode = _a.mode;
          var schemeBackgroundColor = mode === 0 ? lightSchemeBackgroundColor : darkSchemeBackgroundColor;
          var schemeTextColor = mode === 0 ? lightSchemeTextColor : darkSchemeTextColor;
          schemeBackgroundColor = modifyBackgroundColor(
            parseColorWithCache(schemeBackgroundColor),
            filter
          );
          schemeTextColor = modifyForegroundColor(
            parseColorWithCache(schemeTextColor),
            filter
          );
          variableStyle.textContent = [
            ":root {",
            "   --darkreader-neutral-background: ".concat(
              schemeBackgroundColor,
              ";"
            ),
            "   --darkreader-neutral-text: ".concat(schemeTextColor, ";"),
            "   --darkreader-selection-background: ".concat(
              selectionColors.backgroundColorSelection,
              ";"
            ),
            "   --darkreader-selection-text: ".concat(
              selectionColors.foregroundColorSelection,
              ";"
            ),
            "}"
          ].join("\n");
          document.head.insertBefore(variableStyle, inlineStyle.nextSibling);
          setupNodePositionWatcher(variableStyle, "variables");
          var rootVarsStyle = createOrUpdateStyle("darkreader--root-vars");
          document.head.insertBefore(rootVarsStyle, variableStyle.nextSibling);
          var enableStyleSheetsProxy = !(fixes && fixes.disableStyleSheetsProxy);
          var enableCustomElementRegistryProxy = !(fixes && fixes.disableCustomElementRegistryProxy);
          {
            var proxyScript = createOrUpdateScript("darkreader--proxy");
            proxyScript.append(
              "(".concat(injectProxy, ")(").concat(enableStyleSheetsProxy, ", ").concat(enableCustomElementRegistryProxy, ")")
            );
            document.head.insertBefore(proxyScript, rootVarsStyle.nextSibling);
            proxyScript.remove();
          }
        }
        var shadowRootsWithOverrides = /* @__PURE__ */ new Set();
        function createShadowStaticStyleOverridesInner(root) {
          var inlineStyle = createOrUpdateStyle("darkreader--inline", root);
          inlineStyle.textContent = getInlineOverrideStyle();
          root.insertBefore(inlineStyle, root.firstChild);
          var overrideStyle = createOrUpdateStyle("darkreader--override", root);
          overrideStyle.textContent = fixes && fixes.css ? replaceCSSTemplates(fixes.css) : "";
          root.insertBefore(overrideStyle, inlineStyle.nextSibling);
          var invertStyle = createOrUpdateStyle("darkreader--invert", root);
          if (fixes && Array.isArray(fixes.invert) && fixes.invert.length > 0) {
            invertStyle.textContent = [
              "".concat(fixes.invert.join(", "), " {"),
              "    filter: ".concat(
                getCSSFilterValue(
                  __assign(__assign({}, filter), {
                    contrast: filter.mode === 0 ? filter.contrast : clamp(filter.contrast - 10, 0, 100)
                  })
                ),
                " !important;"
              ),
              "}"
            ].join("\n");
          } else {
            invertStyle.textContent = "";
          }
          root.insertBefore(invertStyle, overrideStyle.nextSibling);
          shadowRootsWithOverrides.add(root);
        }
        function delayedCreateShadowStaticStyleOverrides(root) {
          var observer2 = new MutationObserver(function(mutations, observer3) {
            var e_1, _a, e_2, _b;
            observer3.disconnect();
            try {
              for (var mutations_1 = __values(mutations), mutations_1_1 = mutations_1.next(); !mutations_1_1.done; mutations_1_1 = mutations_1.next()) {
                var _c = mutations_1_1.value, type = _c.type, removedNodes = _c.removedNodes;
                if (type === "childList") {
                  try {
                    for (var _d = (e_2 = void 0, __values(removedNodes)), _e = _d.next(); !_e.done; _e = _d.next()) {
                      var _f = _e.value, nodeName = _f.nodeName, className = _f.className;
                      if (nodeName === "STYLE" && [
                        "darkreader darkreader--inline",
                        "darkreader darkreader--override",
                        "darkreader darkreader--invert"
                      ].includes(className)) {
                        createShadowStaticStyleOverridesInner(root);
                        return;
                      }
                    }
                  } catch (e_2_1) {
                    e_2 = { error: e_2_1 };
                  } finally {
                    try {
                      if (_e && !_e.done && (_b = _d.return))
                        _b.call(_d);
                    } finally {
                      if (e_2)
                        throw e_2.error;
                    }
                  }
                }
              }
            } catch (e_1_1) {
              e_1 = { error: e_1_1 };
            } finally {
              try {
                if (mutations_1_1 && !mutations_1_1.done && (_a = mutations_1.return))
                  _a.call(mutations_1);
              } finally {
                if (e_1)
                  throw e_1.error;
              }
            }
          });
          observer2.observe(root, { childList: true });
        }
        function createShadowStaticStyleOverrides(root) {
          var uninit = root.firstChild === null;
          createShadowStaticStyleOverridesInner(root);
          if (uninit) {
            delayedCreateShadowStaticStyleOverrides(root);
          }
        }
        function replaceCSSTemplates($cssText) {
          return $cssText.replace(/\${(.+?)}/g, function(_, $color) {
            var color = parseColorWithCache($color);
            if (color) {
              return modifyColor(color, filter);
            }
            return $color;
          });
        }
        function cleanFallbackStyle() {
          var fallback = document.querySelector(".darkreader--fallback");
          if (fallback) {
            fallback.textContent = "";
          }
        }
        function createDynamicStyleOverrides() {
          cancelRendering();
          var allStyles = getManageableStyles(document);
          var newManagers = allStyles.filter(function(style) {
            return !styleManagers.has(style);
          }).map(function(style) {
            return createManager(style);
          });
          newManagers.map(function(manager) {
            return manager.details({ secondRound: false });
          }).filter(function(detail) {
            return detail && detail.rules.length > 0;
          }).forEach(function(detail) {
            variablesStore.addRulesForMatching(detail.rules);
          });
          variablesStore.matchVariablesAndDependents();
          variablesStore.setOnRootVariableChange(function() {
            var rootVarsStyle2 = createOrUpdateStyle("darkreader--root-vars");
            variablesStore.putRootVars(rootVarsStyle2, filter);
          });
          var rootVarsStyle = createOrUpdateStyle("darkreader--root-vars");
          variablesStore.putRootVars(rootVarsStyle, filter);
          styleManagers.forEach(function(manager) {
            return manager.render(filter, ignoredImageAnalysisSelectors);
          });
          if (loadingStyles.size === 0) {
            cleanFallbackStyle();
          }
          newManagers.forEach(function(manager) {
            return manager.watch();
          });
          var inlineStyleElements = toArray(
            document.querySelectorAll(INLINE_STYLE_SELECTOR)
          );
          iterateShadowHosts(document.documentElement, function(host) {
            createShadowStaticStyleOverrides(host.shadowRoot);
            var elements = host.shadowRoot.querySelectorAll(
              INLINE_STYLE_SELECTOR
            );
            if (elements.length > 0) {
              push(inlineStyleElements, elements);
            }
          });
          inlineStyleElements.forEach(function(el) {
            return overrideInlineStyle(
              el,
              filter,
              ignoredInlineSelectors,
              ignoredImageAnalysisSelectors
            );
          });
          handleAdoptedStyleSheets(document);
        }
        var loadingStylesCounter = 0;
        var loadingStyles = /* @__PURE__ */ new Set();
        function createManager(element) {
          var loadingStyleId = ++loadingStylesCounter;
          function loadingStart() {
            if (!isDOMReady() || !documentIsVisible()) {
              loadingStyles.add(loadingStyleId);
              logInfo(
                "Current amount of styles loading: ".concat(
                  loadingStyles.size
                )
              );
              var fallbackStyle = document.querySelector(
                ".darkreader--fallback"
              );
              if (!fallbackStyle.textContent) {
                fallbackStyle.textContent = getModifiedFallbackStyle(
                  filter,
                  { strict: false }
                );
              }
            }
          }
          function loadingEnd() {
            loadingStyles.delete(loadingStyleId);
            logInfo(
              "Removed loadingStyle ".concat(loadingStyleId, ", now awaiting: ").concat(loadingStyles.size)
            );
            if (loadingStyles.size === 0 && isDOMReady()) {
              cleanFallbackStyle();
            }
          }
          function update() {
            var details = manager.details({ secondRound: true });
            if (!details) {
              return;
            }
            variablesStore.addRulesForMatching(details.rules);
            variablesStore.matchVariablesAndDependents();
            manager.render(filter, ignoredImageAnalysisSelectors);
          }
          var manager = manageStyle(element, {
            update,
            loadingStart,
            loadingEnd
          });
          styleManagers.set(element, manager);
          return manager;
        }
        function removeManager(element) {
          var manager = styleManagers.get(element);
          if (manager) {
            manager.destroy();
            styleManagers.delete(element);
          }
        }
        var throttledRenderAllStyles = throttle(function(callback) {
          styleManagers.forEach(function(manager) {
            return manager.render(filter, ignoredImageAnalysisSelectors);
          });
          adoptedStyleManagers.forEach(function(manager) {
            return manager.render(filter, ignoredImageAnalysisSelectors);
          });
          callback && callback();
        });
        var cancelRendering = function() {
          throttledRenderAllStyles.cancel();
        };
        function onDOMReady() {
          if (loadingStyles.size === 0) {
            cleanFallbackStyle();
            return;
          }
        }
        function runDynamicStyle() {
          createDynamicStyleOverrides();
          watchForUpdates();
        }
        function createThemeAndWatchForUpdates() {
          createStaticStyleOverrides();
          if (!documentIsVisible() && !filter.immediateModify) {
            setDocumentVisibilityListener(runDynamicStyle);
          } else {
            runDynamicStyle();
          }
          changeMetaThemeColorWhenAvailable(filter);
        }
        function handleAdoptedStyleSheets(node) {
          try {
            if (Array.isArray(node.adoptedStyleSheets)) {
              if (node.adoptedStyleSheets.length > 0) {
                var newManger = createAdoptedStyleSheetOverride(node);
                adoptedStyleManagers.push(newManger);
                newManger.render(filter, ignoredImageAnalysisSelectors);
              }
            }
          } catch (err) {
          }
        }
        function watchForUpdates() {
          var managedStyles = Array.from(styleManagers.keys());
          watchForStyleChanges(
            managedStyles,
            function(_a) {
              var created = _a.created, updated = _a.updated, removed = _a.removed, moved = _a.moved;
              var stylesToRemove = removed;
              var stylesToManage = created.concat(updated).concat(moved).filter(function(style) {
                return !styleManagers.has(style);
              });
              var stylesToRestore = moved.filter(function(style) {
                return styleManagers.has(style);
              });
              stylesToRemove.forEach(function(style) {
                return removeManager(style);
              });
              var newManagers = stylesToManage.map(function(style) {
                return createManager(style);
              });
              newManagers.map(function(manager) {
                return manager.details({ secondRound: false });
              }).filter(function(detail) {
                return detail && detail.rules.length > 0;
              }).forEach(function(detail) {
                variablesStore.addRulesForMatching(detail.rules);
              });
              variablesStore.matchVariablesAndDependents();
              newManagers.forEach(function(manager) {
                return manager.render(
                  filter,
                  ignoredImageAnalysisSelectors
                );
              });
              newManagers.forEach(function(manager) {
                return manager.watch();
              });
              stylesToRestore.forEach(function(style) {
                return styleManagers.get(style).restore();
              });
            },
            function(shadowRoot) {
              createShadowStaticStyleOverrides(shadowRoot);
              handleAdoptedStyleSheets(shadowRoot);
            }
          );
          watchForInlineStyles(
            function(element) {
              overrideInlineStyle(
                element,
                filter,
                ignoredInlineSelectors,
                ignoredImageAnalysisSelectors
              );
              if (element === document.documentElement) {
                var styleAttr = element.getAttribute("style") || "";
                if (styleAttr.includes("--")) {
                  variablesStore.matchVariablesAndDependents();
                  var rootVarsStyle = createOrUpdateStyle(
                    "darkreader--root-vars"
                  );
                  variablesStore.putRootVars(rootVarsStyle, filter);
                }
              }
            },
            function(root) {
              createShadowStaticStyleOverrides(root);
              var inlineStyleElements = root.querySelectorAll(
                INLINE_STYLE_SELECTOR
              );
              if (inlineStyleElements.length > 0) {
                forEach(inlineStyleElements, function(el) {
                  return overrideInlineStyle(
                    el,
                    filter,
                    ignoredInlineSelectors,
                    ignoredImageAnalysisSelectors
                  );
                });
              }
            }
          );
          addDOMReadyListener(onDOMReady);
        }
        function stopWatchingForUpdates() {
          styleManagers.forEach(function(manager) {
            return manager.pause();
          });
          stopStylePositionWatchers();
          stopWatchingForStyleChanges();
          stopWatchingForInlineStyles();
          removeDOMReadyListener(onDOMReady);
          cleanReadyStateCompleteListeners();
        }
        var metaObserver;
        function addMetaListener() {
          metaObserver = new MutationObserver(function() {
            if (document.querySelector('meta[name="darkreader-lock"]')) {
              metaObserver.disconnect();
              removeDynamicTheme();
            }
          });
          metaObserver.observe(document.head, { childList: true, subtree: true });
        }
        function createDarkReaderInstanceMarker() {
          var metaElement = document.createElement("meta");
          metaElement.name = "darkreader";
          metaElement.content = INSTANCE_ID;
          document.head.appendChild(metaElement);
        }
        function isAnotherDarkReaderInstanceActive() {
          if (document.querySelector('meta[name="darkreader-lock"]')) {
            return true;
          }
          var meta = document.querySelector('meta[name="darkreader"]');
          if (meta) {
            if (meta.content !== INSTANCE_ID) {
              return true;
            }
            return false;
          }
          createDarkReaderInstanceMarker();
          addMetaListener();
          return false;
        }
        function createOrUpdateDynamicThemeInternal(filterConfig, dynamicThemeFixes, iframe) {
          filter = filterConfig;
          fixes = dynamicThemeFixes;
          if (fixes) {
            ignoredImageAnalysisSelectors = Array.isArray(
              fixes.ignoreImageAnalysis
            ) ? fixes.ignoreImageAnalysis : [];
            ignoredInlineSelectors = Array.isArray(fixes.ignoreInlineStyle) ? fixes.ignoreInlineStyle : [];
          } else {
            ignoredImageAnalysisSelectors = [];
            ignoredInlineSelectors = [];
          }
          if (filter.immediateModify) {
            setIsDOMReady(function() {
              return true;
            });
          }
          isIFrame$1 = iframe;
          if (document.head) {
            if (isAnotherDarkReaderInstanceActive()) {
              removeDynamicTheme();
              return;
            }
            document.documentElement.setAttribute(
              "data-darkreader-mode",
              "dynamic"
            );
            document.documentElement.setAttribute(
              "data-darkreader-scheme",
              filter.mode ? "dark" : "dimmed"
            );
            createThemeAndWatchForUpdates();
          } else {
            if (!isFirefox) {
              var fallbackStyle = createOrUpdateStyle("darkreader--fallback");
              document.documentElement.appendChild(fallbackStyle);
              fallbackStyle.textContent = getModifiedFallbackStyle(filter, {
                strict: true
              });
            }
            var headObserver_1 = new MutationObserver(function() {
              if (document.head) {
                headObserver_1.disconnect();
                if (isAnotherDarkReaderInstanceActive()) {
                  removeDynamicTheme();
                  return;
                }
                createThemeAndWatchForUpdates();
              }
            });
            headObserver_1.observe(document, { childList: true, subtree: true });
          }
        }
        function removeProxy() {
          document.dispatchEvent(new CustomEvent("__darkreader__cleanUp"));
          removeNode(document.head.querySelector(".darkreader--proxy"));
        }
        function removeDynamicTheme() {
          document.documentElement.removeAttribute("data-darkreader-mode");
          document.documentElement.removeAttribute("data-darkreader-scheme");
          cleanDynamicThemeCache();
          removeNode(document.querySelector(".darkreader--fallback"));
          if (document.head) {
            restoreMetaThemeColor();
            removeNode(document.head.querySelector(".darkreader--user-agent"));
            removeNode(document.head.querySelector(".darkreader--text"));
            removeNode(document.head.querySelector(".darkreader--invert"));
            removeNode(document.head.querySelector(".darkreader--inline"));
            removeNode(document.head.querySelector(".darkreader--override"));
            removeNode(document.head.querySelector(".darkreader--variables"));
            removeNode(document.head.querySelector(".darkreader--root-vars"));
            removeNode(document.head.querySelector('meta[name="darkreader"]'));
            removeProxy();
          }
          shadowRootsWithOverrides.forEach(function(root) {
            removeNode(root.querySelector(".darkreader--inline"));
            removeNode(root.querySelector(".darkreader--override"));
          });
          shadowRootsWithOverrides.clear();
          forEach(styleManagers.keys(), function(el) {
            return removeManager(el);
          });
          loadingStyles.clear();
          cleanLoadingLinks();
          forEach(document.querySelectorAll(".darkreader"), removeNode);
          adoptedStyleManagers.forEach(function(manager) {
            manager.destroy();
          });
          adoptedStyleManagers.splice(0);
          metaObserver && metaObserver.disconnect();
        }
        function cleanDynamicThemeCache() {
          variablesStore.clear();
          parsedURLCache.clear();
          removeDocumentVisibilityListener();
          cancelRendering();
          stopWatchingForUpdates();
          cleanModificationCache();
          clearColorCache();
        }
        var blobRegex = /url\(\"(blob\:.*?)\"\)/g;
        function replaceBlobs(text) {
          return __awaiter(this, void 0, void 0, function() {
            var promises, data;
            return __generator(this, function(_a) {
              switch (_a.label) {
                case 0:
                  promises = [];
                  getMatches(blobRegex, text, 1).forEach(function(url) {
                    var promise = loadAsDataURL(url);
                    promises.push(promise);
                  });
                  return [4, Promise.all(promises)];
                case 1:
                  data = _a.sent();
                  return [
                    2,
                    text.replace(blobRegex, function() {
                      return 'url("'.concat(data.shift(), '")');
                    })
                  ];
              }
            });
          });
        }
        var banner = '/*\n                        _______\n                       /       \\\n                      .==.    .==.\n                     ((  ))==((  ))\n                    / "=="    "=="\\\n                   /____|| || ||___\\\n       ________     ____    ________  ___    ___\n       |  ___  \\   /    \\   |  ___  \\ |  |  /  /\n       |  |  \\  \\ /  /\\  \\  |  |  \\  \\|  |_/  /\n       |  |   )  /  /__\\  \\ |  |__/  /|  ___  \\\n       |  |__/  /  ______  \\|  ____  \\|  |  \\  \\\n_______|_______/__/ ____ \\__\\__|___\\__\\__|___\\__\\____\n|  ___  \\ |  ____/ /    \\   |  ___  \\ |  ____|  ___  \\\n|  |  \\  \\|  |___ /  /\\  \\  |  |  \\  \\|  |___|  |  \\  \\\n|  |__/  /|  ____/  /__\\  \\ |  |   )  |  ____|  |__/  /\n|  ____  \\|  |__/  ______  \\|  |__/  /|  |___|  ____  \\\n|__|   \\__\\____/__/      \\__\\_______/ |______|__|   \\__\\\n                https://darkreader.org\n*/\n\n/*! Dark reader generated CSS | Licensed under MIT https://github.com/darkreader/darkreader/blob/main/LICENSE */\n';
        function collectCSS() {
          return __awaiter(this, void 0, void 0, function() {
            function addStaticCSS(selector, comment) {
              var staticStyle = document.querySelector(selector);
              if (staticStyle && staticStyle.textContent) {
                css.push("/* ".concat(comment, " */"));
                css.push(staticStyle.textContent);
                css.push("");
              }
            }
            var css, modifiedCSS, formattedCSS, _a, _b;
            return __generator(this, function(_c) {
              switch (_c.label) {
                case 0:
                  css = [banner];
                  addStaticCSS(".darkreader--fallback", "Fallback Style");
                  addStaticCSS(
                    ".darkreader--user-agent",
                    "User-Agent Style"
                  );
                  addStaticCSS(".darkreader--text", "Text Style");
                  addStaticCSS(".darkreader--invert", "Invert Style");
                  addStaticCSS(
                    ".darkreader--variables",
                    "Variables Style"
                  );
                  modifiedCSS = [];
                  document.querySelectorAll(".darkreader--sync").forEach(function(element) {
                    forEach(
                      element.sheet.cssRules,
                      function(rule) {
                        rule && rule.cssText && modifiedCSS.push(rule.cssText);
                      }
                    );
                  });
                  if (!modifiedCSS.length)
                    return [3, 2];
                  formattedCSS = formatCSS(modifiedCSS.join("\n"));
                  css.push("/* Modified CSS */");
                  _b = (_a = css).push;
                  return [4, replaceBlobs(formattedCSS)];
                case 1:
                  _b.apply(_a, [_c.sent()]);
                  css.push("");
                  _c.label = 2;
                case 2:
                  addStaticCSS(".darkreader--override", "Override Style");
                  return [2, css.join("\n")];
              }
            });
          });
        }
        var isDarkReaderEnabled = false;
        var isIFrame = function() {
          try {
            return window.self !== window.top;
          } catch (err) {
            console.warn(err);
            return true;
          }
        }();
        function enable(themeOptions, fixes2) {
          if (themeOptions === void 0) {
            themeOptions = {};
          }
          if (fixes2 === void 0) {
            fixes2 = null;
          }
          var theme = __assign(__assign({}, DEFAULT_THEME), themeOptions);
          if (theme.engine !== ThemeEngine.dynamicTheme) {
            throw new Error("Theme engine is not supported.");
          }
          createOrUpdateDynamicThemeInternal(theme, fixes2, isIFrame);
          isDarkReaderEnabled = true;
        }
        function isEnabled() {
          return isDarkReaderEnabled;
        }
        function disable() {
          removeDynamicTheme();
          isDarkReaderEnabled = false;
        }
        var darkScheme = matchMedia("(prefers-color-scheme: dark)");
        var store = {
          themeOptions: null,
          fixes: null
        };
        function handleColorScheme() {
          if (darkScheme.matches) {
            enable(store.themeOptions, store.fixes);
          } else {
            disable();
          }
        }
        function auto(themeOptions, fixes2) {
          if (themeOptions === void 0) {
            themeOptions = {};
          }
          if (fixes2 === void 0) {
            fixes2 = null;
          }
          if (themeOptions) {
            store = { themeOptions, fixes: fixes2 };
            handleColorScheme();
            if (isMatchMediaChangeEventListenerSupported) {
              darkScheme.addEventListener("change", handleColorScheme);
            } else {
              darkScheme.addListener(handleColorScheme);
            }
          } else {
            if (isMatchMediaChangeEventListenerSupported) {
              darkScheme.removeEventListener("change", handleColorScheme);
            } else {
              darkScheme.removeListener(handleColorScheme);
            }
            disable();
          }
        }
        function exportGeneratedCSS() {
          return __awaiter(this, void 0, void 0, function() {
            return __generator(this, function(_a) {
              switch (_a.label) {
                case 0:
                  return [4, collectCSS()];
                case 1:
                  return [2, _a.sent()];
              }
            });
          });
        }
        var setFetchMethod = setFetchMethod$1;
        exports2.auto = auto;
        exports2.disable = disable;
        exports2.enable = enable;
        exports2.exportGeneratedCSS = exportGeneratedCSS;
        exports2.isEnabled = isEnabled;
        exports2.setFetchMethod = setFetchMethod;
        Object.defineProperty(exports2, "__esModule", { value: true });
      });
    }
  });

  // node_modules/fuse.js/dist/fuse.cjs
  var require_fuse = __commonJS({
    "node_modules/fuse.js/dist/fuse.cjs"(exports, module) {
      "use strict";
      function ownKeys(object, enumerableOnly) {
        var keys = Object.keys(object);
        if (Object.getOwnPropertySymbols) {
          var symbols = Object.getOwnPropertySymbols(object);
          enumerableOnly && (symbols = symbols.filter(function(sym) {
            return Object.getOwnPropertyDescriptor(object, sym).enumerable;
          })), keys.push.apply(keys, symbols);
        }
        return keys;
      }
      function _objectSpread2(target) {
        for (var i = 1; i < arguments.length; i++) {
          var source = null != arguments[i] ? arguments[i] : {};
          i % 2 ? ownKeys(Object(source), true).forEach(function(key) {
            _defineProperty(target, key, source[key]);
          }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {
            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
          });
        }
        return target;
      }
      function _typeof(obj) {
        "@babel/helpers - typeof";
        return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
          return typeof obj2;
        } : function(obj2) {
          return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
        }, _typeof(obj);
      }
      function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
          throw new TypeError("Cannot call a class as a function");
        }
      }
      function _defineProperties(target, props) {
        for (var i = 0; i < props.length; i++) {
          var descriptor = props[i];
          descriptor.enumerable = descriptor.enumerable || false;
          descriptor.configurable = true;
          if ("value" in descriptor)
            descriptor.writable = true;
          Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);
        }
      }
      function _createClass(Constructor, protoProps, staticProps) {
        if (protoProps)
          _defineProperties(Constructor.prototype, protoProps);
        if (staticProps)
          _defineProperties(Constructor, staticProps);
        Object.defineProperty(Constructor, "prototype", {
          writable: false
        });
        return Constructor;
      }
      function _defineProperty(obj, key, value) {
        key = _toPropertyKey(key);
        if (key in obj) {
          Object.defineProperty(obj, key, {
            value,
            enumerable: true,
            configurable: true,
            writable: true
          });
        } else {
          obj[key] = value;
        }
        return obj;
      }
      function _inherits(subClass, superClass) {
        if (typeof superClass !== "function" && superClass !== null) {
          throw new TypeError("Super expression must either be null or a function");
        }
        subClass.prototype = Object.create(superClass && superClass.prototype, {
          constructor: {
            value: subClass,
            writable: true,
            configurable: true
          }
        });
        Object.defineProperty(subClass, "prototype", {
          writable: false
        });
        if (superClass)
          _setPrototypeOf(subClass, superClass);
      }
      function _getPrototypeOf(o) {
        _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {
          return o2.__proto__ || Object.getPrototypeOf(o2);
        };
        return _getPrototypeOf(o);
      }
      function _setPrototypeOf(o, p) {
        _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {
          o2.__proto__ = p2;
          return o2;
        };
        return _setPrototypeOf(o, p);
      }
      function _isNativeReflectConstruct() {
        if (typeof Reflect === "undefined" || !Reflect.construct)
          return false;
        if (Reflect.construct.sham)
          return false;
        if (typeof Proxy === "function")
          return true;
        try {
          Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
          }));
          return true;
        } catch (e) {
          return false;
        }
      }
      function _assertThisInitialized(self2) {
        if (self2 === void 0) {
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }
        return self2;
      }
      function _possibleConstructorReturn(self2, call) {
        if (call && (typeof call === "object" || typeof call === "function")) {
          return call;
        } else if (call !== void 0) {
          throw new TypeError("Derived constructors may only return object or undefined");
        }
        return _assertThisInitialized(self2);
      }
      function _createSuper(Derived) {
        var hasNativeReflectConstruct = _isNativeReflectConstruct();
        return function _createSuperInternal() {
          var Super = _getPrototypeOf(Derived), result;
          if (hasNativeReflectConstruct) {
            var NewTarget = _getPrototypeOf(this).constructor;
            result = Reflect.construct(Super, arguments, NewTarget);
          } else {
            result = Super.apply(this, arguments);
          }
          return _possibleConstructorReturn(this, result);
        };
      }
      function _toConsumableArray(arr) {
        return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
      }
      function _arrayWithoutHoles(arr) {
        if (Array.isArray(arr))
          return _arrayLikeToArray(arr);
      }
      function _iterableToArray(iter) {
        if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
          return Array.from(iter);
      }
      function _unsupportedIterableToArray(o, minLen) {
        if (!o)
          return;
        if (typeof o === "string")
          return _arrayLikeToArray(o, minLen);
        var n = Object.prototype.toString.call(o).slice(8, -1);
        if (n === "Object" && o.constructor)
          n = o.constructor.name;
        if (n === "Map" || n === "Set")
          return Array.from(o);
        if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
          return _arrayLikeToArray(o, minLen);
      }
      function _arrayLikeToArray(arr, len) {
        if (len == null || len > arr.length)
          len = arr.length;
        for (var i = 0, arr2 = new Array(len); i < len; i++)
          arr2[i] = arr[i];
        return arr2;
      }
      function _nonIterableSpread() {
        throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
      }
      function _toPrimitive(input, hint) {
        if (typeof input !== "object" || input === null)
          return input;
        var prim = input[Symbol.toPrimitive];
        if (prim !== void 0) {
          var res = prim.call(input, hint || "default");
          if (typeof res !== "object")
            return res;
          throw new TypeError("@@toPrimitive must return a primitive value.");
        }
        return (hint === "string" ? String : Number)(input);
      }
      function _toPropertyKey(arg) {
        var key = _toPrimitive(arg, "string");
        return typeof key === "symbol" ? key : String(key);
      }
      function isArray(value) {
        return !Array.isArray ? getTag(value) === "[object Array]" : Array.isArray(value);
      }
      var INFINITY = 1 / 0;
      function baseToString(value) {
        if (typeof value == "string") {
          return value;
        }
        var result = value + "";
        return result == "0" && 1 / value == -INFINITY ? "-0" : result;
      }
      function toString(value) {
        return value == null ? "" : baseToString(value);
      }
      function isString(value) {
        return typeof value === "string";
      }
      function isNumber(value) {
        return typeof value === "number";
      }
      function isBoolean(value) {
        return value === true || value === false || isObjectLike(value) && getTag(value) == "[object Boolean]";
      }
      function isObject(value) {
        return _typeof(value) === "object";
      }
      function isObjectLike(value) {
        return isObject(value) && value !== null;
      }
      function isDefined(value) {
        return value !== void 0 && value !== null;
      }
      function isBlank(value) {
        return !value.trim().length;
      }
      function getTag(value) {
        return value == null ? value === void 0 ? "[object Undefined]" : "[object Null]" : Object.prototype.toString.call(value);
      }
      var INCORRECT_INDEX_TYPE = "Incorrect 'index' type";
      var LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = function LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY2(key) {
        return "Invalid value for key ".concat(key);
      };
      var PATTERN_LENGTH_TOO_LARGE = function PATTERN_LENGTH_TOO_LARGE2(max) {
        return "Pattern length exceeds max of ".concat(max, ".");
      };
      var MISSING_KEY_PROPERTY = function MISSING_KEY_PROPERTY2(name) {
        return "Missing ".concat(name, " property in key");
      };
      var INVALID_KEY_WEIGHT_VALUE = function INVALID_KEY_WEIGHT_VALUE2(key) {
        return "Property 'weight' in key '".concat(key, "' must be a positive integer");
      };
      var hasOwn = Object.prototype.hasOwnProperty;
      var KeyStore = /* @__PURE__ */ function() {
        function KeyStore2(keys) {
          var _this = this;
          _classCallCheck(this, KeyStore2);
          this._keys = [];
          this._keyMap = {};
          var totalWeight = 0;
          keys.forEach(function(key) {
            var obj = createKey(key);
            _this._keys.push(obj);
            _this._keyMap[obj.id] = obj;
            totalWeight += obj.weight;
          });
          this._keys.forEach(function(key) {
            key.weight /= totalWeight;
          });
        }
        _createClass(KeyStore2, [{
          key: "get",
          value: function get2(keyId) {
            return this._keyMap[keyId];
          }
        }, {
          key: "keys",
          value: function keys() {
            return this._keys;
          }
        }, {
          key: "toJSON",
          value: function toJSON() {
            return JSON.stringify(this._keys);
          }
        }]);
        return KeyStore2;
      }();
      function createKey(key) {
        var path = null;
        var id = null;
        var src = null;
        var weight = 1;
        var getFn = null;
        if (isString(key) || isArray(key)) {
          src = key;
          path = createKeyPath(key);
          id = createKeyId(key);
        } else {
          if (!hasOwn.call(key, "name")) {
            throw new Error(MISSING_KEY_PROPERTY("name"));
          }
          var name = key.name;
          src = name;
          if (hasOwn.call(key, "weight")) {
            weight = key.weight;
            if (weight <= 0) {
              throw new Error(INVALID_KEY_WEIGHT_VALUE(name));
            }
          }
          path = createKeyPath(name);
          id = createKeyId(name);
          getFn = key.getFn;
        }
        return {
          path,
          id,
          weight,
          src,
          getFn
        };
      }
      function createKeyPath(key) {
        return isArray(key) ? key : key.split(".");
      }
      function createKeyId(key) {
        return isArray(key) ? key.join(".") : key;
      }
      function get(obj, path) {
        var list = [];
        var arr = false;
        var deepGet = function deepGet2(obj2, path2, index) {
          if (!isDefined(obj2)) {
            return;
          }
          if (!path2[index]) {
            list.push(obj2);
          } else {
            var key = path2[index];
            var value = obj2[key];
            if (!isDefined(value)) {
              return;
            }
            if (index === path2.length - 1 && (isString(value) || isNumber(value) || isBoolean(value))) {
              list.push(toString(value));
            } else if (isArray(value)) {
              arr = true;
              for (var i = 0, len = value.length; i < len; i += 1) {
                deepGet2(value[i], path2, index + 1);
              }
            } else if (path2.length) {
              deepGet2(value, path2, index + 1);
            }
          }
        };
        deepGet(obj, isString(path) ? path.split(".") : path, 0);
        return arr ? list : list[0];
      }
      var MatchOptions = {
        // Whether the matches should be included in the result set. When `true`, each record in the result
        // set will include the indices of the matched characters.
        // These can consequently be used for highlighting purposes.
        includeMatches: false,
        // When `true`, the matching function will continue to the end of a search pattern even if
        // a perfect match has already been located in the string.
        findAllMatches: false,
        // Minimum number of characters that must be matched before a result is considered a match
        minMatchCharLength: 1
      };
      var BasicOptions = {
        // When `true`, the algorithm continues searching to the end of the input even if a perfect
        // match is found before the end of the same input.
        isCaseSensitive: false,
        // When true, the matching function will continue to the end of a search pattern even if
        includeScore: false,
        // List of properties that will be searched. This also supports nested properties.
        keys: [],
        // Whether to sort the result list, by score
        shouldSort: true,
        // Default sort function: sort by ascending score, ascending index
        sortFn: function sortFn(a, b) {
          return a.score === b.score ? a.idx < b.idx ? -1 : 1 : a.score < b.score ? -1 : 1;
        }
      };
      var FuzzyOptions = {
        // Approximately where in the text is the pattern expected to be found?
        location: 0,
        // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match
        // (of both letters and location), a threshold of '1.0' would match anything.
        threshold: 0.6,
        // Determines how close the match must be to the fuzzy location (specified above).
        // An exact letter match which is 'distance' characters away from the fuzzy location
        // would score as a complete mismatch. A distance of '0' requires the match be at
        // the exact location specified, a threshold of '1000' would require a perfect match
        // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.
        distance: 100
      };
      var AdvancedOptions = {
        // When `true`, it enables the use of unix-like search commands
        useExtendedSearch: false,
        // The get function to use when fetching an object's properties.
        // The default will search nested paths *ie foo.bar.baz*
        getFn: get,
        // When `true`, search will ignore `location` and `distance`, so it won't matter
        // where in the string the pattern appears.
        // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score
        ignoreLocation: false,
        // When `true`, the calculation for the relevance score (used for sorting) will
        // ignore the field-length norm.
        // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm
        ignoreFieldNorm: false,
        // The weight to determine how much field length norm effects scoring.
        fieldNormWeight: 1
      };
      var Config = _objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({}, BasicOptions), MatchOptions), FuzzyOptions), AdvancedOptions);
      var SPACE = /[^ ]+/g;
      function norm() {
        var weight = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 1;
        var mantissa = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 3;
        var cache = /* @__PURE__ */ new Map();
        var m = Math.pow(10, mantissa);
        return {
          get: function get2(value) {
            var numTokens = value.match(SPACE).length;
            if (cache.has(numTokens)) {
              return cache.get(numTokens);
            }
            var norm2 = 1 / Math.pow(numTokens, 0.5 * weight);
            var n = parseFloat(Math.round(norm2 * m) / m);
            cache.set(numTokens, n);
            return n;
          },
          clear: function clear() {
            cache.clear();
          }
        };
      }
      var FuseIndex = /* @__PURE__ */ function() {
        function FuseIndex2() {
          var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, _ref$getFn = _ref.getFn, getFn = _ref$getFn === void 0 ? Config.getFn : _ref$getFn, _ref$fieldNormWeight = _ref.fieldNormWeight, fieldNormWeight = _ref$fieldNormWeight === void 0 ? Config.fieldNormWeight : _ref$fieldNormWeight;
          _classCallCheck(this, FuseIndex2);
          this.norm = norm(fieldNormWeight, 3);
          this.getFn = getFn;
          this.isCreated = false;
          this.setIndexRecords();
        }
        _createClass(FuseIndex2, [{
          key: "setSources",
          value: function setSources() {
            var docs = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
            this.docs = docs;
          }
        }, {
          key: "setIndexRecords",
          value: function setIndexRecords() {
            var records = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
            this.records = records;
          }
        }, {
          key: "setKeys",
          value: function setKeys() {
            var _this = this;
            var keys = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
            this.keys = keys;
            this._keysMap = {};
            keys.forEach(function(key, idx) {
              _this._keysMap[key.id] = idx;
            });
          }
        }, {
          key: "create",
          value: function create() {
            var _this2 = this;
            if (this.isCreated || !this.docs.length) {
              return;
            }
            this.isCreated = true;
            if (isString(this.docs[0])) {
              this.docs.forEach(function(doc, docIndex) {
                _this2._addString(doc, docIndex);
              });
            } else {
              this.docs.forEach(function(doc, docIndex) {
                _this2._addObject(doc, docIndex);
              });
            }
            this.norm.clear();
          }
          // Adds a doc to the end of the index
        }, {
          key: "add",
          value: function add(doc) {
            var idx = this.size();
            if (isString(doc)) {
              this._addString(doc, idx);
            } else {
              this._addObject(doc, idx);
            }
          }
          // Removes the doc at the specified index of the index
        }, {
          key: "removeAt",
          value: function removeAt(idx) {
            this.records.splice(idx, 1);
            for (var i = idx, len = this.size(); i < len; i += 1) {
              this.records[i].i -= 1;
            }
          }
        }, {
          key: "getValueForItemAtKeyId",
          value: function getValueForItemAtKeyId(item, keyId) {
            return item[this._keysMap[keyId]];
          }
        }, {
          key: "size",
          value: function size() {
            return this.records.length;
          }
        }, {
          key: "_addString",
          value: function _addString(doc, docIndex) {
            if (!isDefined(doc) || isBlank(doc)) {
              return;
            }
            var record = {
              v: doc,
              i: docIndex,
              n: this.norm.get(doc)
            };
            this.records.push(record);
          }
        }, {
          key: "_addObject",
          value: function _addObject(doc, docIndex) {
            var _this3 = this;
            var record = {
              i: docIndex,
              $: {}
            };
            this.keys.forEach(function(key, keyIndex) {
              var value = key.getFn ? key.getFn(doc) : _this3.getFn(doc, key.path);
              if (!isDefined(value)) {
                return;
              }
              if (isArray(value)) {
                var subRecords = [];
                var stack = [{
                  nestedArrIndex: -1,
                  value
                }];
                while (stack.length) {
                  var _stack$pop = stack.pop(), nestedArrIndex = _stack$pop.nestedArrIndex, _value = _stack$pop.value;
                  if (!isDefined(_value)) {
                    continue;
                  }
                  if (isString(_value) && !isBlank(_value)) {
                    var subRecord = {
                      v: _value,
                      i: nestedArrIndex,
                      n: _this3.norm.get(_value)
                    };
                    subRecords.push(subRecord);
                  } else if (isArray(_value)) {
                    _value.forEach(function(item, k) {
                      stack.push({
                        nestedArrIndex: k,
                        value: item
                      });
                    });
                  } else
                    ;
                }
                record.$[keyIndex] = subRecords;
              } else if (isString(value) && !isBlank(value)) {
                var _subRecord = {
                  v: value,
                  n: _this3.norm.get(value)
                };
                record.$[keyIndex] = _subRecord;
              }
            });
            this.records.push(record);
          }
        }, {
          key: "toJSON",
          value: function toJSON() {
            return {
              keys: this.keys,
              records: this.records
            };
          }
        }]);
        return FuseIndex2;
      }();
      function createIndex(keys, docs) {
        var _ref2 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, _ref2$getFn = _ref2.getFn, getFn = _ref2$getFn === void 0 ? Config.getFn : _ref2$getFn, _ref2$fieldNormWeight = _ref2.fieldNormWeight, fieldNormWeight = _ref2$fieldNormWeight === void 0 ? Config.fieldNormWeight : _ref2$fieldNormWeight;
        var myIndex = new FuseIndex({
          getFn,
          fieldNormWeight
        });
        myIndex.setKeys(keys.map(createKey));
        myIndex.setSources(docs);
        myIndex.create();
        return myIndex;
      }
      function parseIndex(data) {
        var _ref3 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, _ref3$getFn = _ref3.getFn, getFn = _ref3$getFn === void 0 ? Config.getFn : _ref3$getFn, _ref3$fieldNormWeight = _ref3.fieldNormWeight, fieldNormWeight = _ref3$fieldNormWeight === void 0 ? Config.fieldNormWeight : _ref3$fieldNormWeight;
        var keys = data.keys, records = data.records;
        var myIndex = new FuseIndex({
          getFn,
          fieldNormWeight
        });
        myIndex.setKeys(keys);
        myIndex.setIndexRecords(records);
        return myIndex;
      }
      function computeScore$1(pattern) {
        var _ref = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, _ref$errors = _ref.errors, errors = _ref$errors === void 0 ? 0 : _ref$errors, _ref$currentLocation = _ref.currentLocation, currentLocation = _ref$currentLocation === void 0 ? 0 : _ref$currentLocation, _ref$expectedLocation = _ref.expectedLocation, expectedLocation = _ref$expectedLocation === void 0 ? 0 : _ref$expectedLocation, _ref$distance = _ref.distance, distance = _ref$distance === void 0 ? Config.distance : _ref$distance, _ref$ignoreLocation = _ref.ignoreLocation, ignoreLocation = _ref$ignoreLocation === void 0 ? Config.ignoreLocation : _ref$ignoreLocation;
        var accuracy = errors / pattern.length;
        if (ignoreLocation) {
          return accuracy;
        }
        var proximity = Math.abs(expectedLocation - currentLocation);
        if (!distance) {
          return proximity ? 1 : accuracy;
        }
        return accuracy + proximity / distance;
      }
      function convertMaskToIndices() {
        var matchmask = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
        var minMatchCharLength = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Config.minMatchCharLength;
        var indices = [];
        var start = -1;
        var end = -1;
        var i = 0;
        for (var len = matchmask.length; i < len; i += 1) {
          var match = matchmask[i];
          if (match && start === -1) {
            start = i;
          } else if (!match && start !== -1) {
            end = i - 1;
            if (end - start + 1 >= minMatchCharLength) {
              indices.push([start, end]);
            }
            start = -1;
          }
        }
        if (matchmask[i - 1] && i - start >= minMatchCharLength) {
          indices.push([start, i - 1]);
        }
        return indices;
      }
      var MAX_BITS = 32;
      function search(text, pattern, patternAlphabet) {
        var _ref = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : {}, _ref$location = _ref.location, location2 = _ref$location === void 0 ? Config.location : _ref$location, _ref$distance = _ref.distance, distance = _ref$distance === void 0 ? Config.distance : _ref$distance, _ref$threshold = _ref.threshold, threshold = _ref$threshold === void 0 ? Config.threshold : _ref$threshold, _ref$findAllMatches = _ref.findAllMatches, findAllMatches = _ref$findAllMatches === void 0 ? Config.findAllMatches : _ref$findAllMatches, _ref$minMatchCharLeng = _ref.minMatchCharLength, minMatchCharLength = _ref$minMatchCharLeng === void 0 ? Config.minMatchCharLength : _ref$minMatchCharLeng, _ref$includeMatches = _ref.includeMatches, includeMatches = _ref$includeMatches === void 0 ? Config.includeMatches : _ref$includeMatches, _ref$ignoreLocation = _ref.ignoreLocation, ignoreLocation = _ref$ignoreLocation === void 0 ? Config.ignoreLocation : _ref$ignoreLocation;
        if (pattern.length > MAX_BITS) {
          throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS));
        }
        var patternLen = pattern.length;
        var textLen = text.length;
        var expectedLocation = Math.max(0, Math.min(location2, textLen));
        var currentThreshold = threshold;
        var bestLocation = expectedLocation;
        var computeMatches = minMatchCharLength > 1 || includeMatches;
        var matchMask = computeMatches ? Array(textLen) : [];
        var index;
        while ((index = text.indexOf(pattern, bestLocation)) > -1) {
          var score = computeScore$1(pattern, {
            currentLocation: index,
            expectedLocation,
            distance,
            ignoreLocation
          });
          currentThreshold = Math.min(score, currentThreshold);
          bestLocation = index + patternLen;
          if (computeMatches) {
            var i = 0;
            while (i < patternLen) {
              matchMask[index + i] = 1;
              i += 1;
            }
          }
        }
        bestLocation = -1;
        var lastBitArr = [];
        var finalScore = 1;
        var binMax = patternLen + textLen;
        var mask = 1 << patternLen - 1;
        for (var _i = 0; _i < patternLen; _i += 1) {
          var binMin = 0;
          var binMid = binMax;
          while (binMin < binMid) {
            var _score = computeScore$1(pattern, {
              errors: _i,
              currentLocation: expectedLocation + binMid,
              expectedLocation,
              distance,
              ignoreLocation
            });
            if (_score <= currentThreshold) {
              binMin = binMid;
            } else {
              binMax = binMid;
            }
            binMid = Math.floor((binMax - binMin) / 2 + binMin);
          }
          binMax = binMid;
          var start = Math.max(1, expectedLocation - binMid + 1);
          var finish = findAllMatches ? textLen : Math.min(expectedLocation + binMid, textLen) + patternLen;
          var bitArr = Array(finish + 2);
          bitArr[finish + 1] = (1 << _i) - 1;
          for (var j = finish; j >= start; j -= 1) {
            var currentLocation = j - 1;
            var charMatch = patternAlphabet[text.charAt(currentLocation)];
            if (computeMatches) {
              matchMask[currentLocation] = +!!charMatch;
            }
            bitArr[j] = (bitArr[j + 1] << 1 | 1) & charMatch;
            if (_i) {
              bitArr[j] |= (lastBitArr[j + 1] | lastBitArr[j]) << 1 | 1 | lastBitArr[j + 1];
            }
            if (bitArr[j] & mask) {
              finalScore = computeScore$1(pattern, {
                errors: _i,
                currentLocation,
                expectedLocation,
                distance,
                ignoreLocation
              });
              if (finalScore <= currentThreshold) {
                currentThreshold = finalScore;
                bestLocation = currentLocation;
                if (bestLocation <= expectedLocation) {
                  break;
                }
                start = Math.max(1, 2 * expectedLocation - bestLocation);
              }
            }
          }
          var _score2 = computeScore$1(pattern, {
            errors: _i + 1,
            currentLocation: expectedLocation,
            expectedLocation,
            distance,
            ignoreLocation
          });
          if (_score2 > currentThreshold) {
            break;
          }
          lastBitArr = bitArr;
        }
        var result = {
          isMatch: bestLocation >= 0,
          // Count exact matches (those with a score of 0) to be "almost" exact
          score: Math.max(1e-3, finalScore)
        };
        if (computeMatches) {
          var indices = convertMaskToIndices(matchMask, minMatchCharLength);
          if (!indices.length) {
            result.isMatch = false;
          } else if (includeMatches) {
            result.indices = indices;
          }
        }
        return result;
      }
      function createPatternAlphabet(pattern) {
        var mask = {};
        for (var i = 0, len = pattern.length; i < len; i += 1) {
          var _char = pattern.charAt(i);
          mask[_char] = (mask[_char] || 0) | 1 << len - i - 1;
        }
        return mask;
      }
      var BitapSearch = /* @__PURE__ */ function() {
        function BitapSearch2(pattern) {
          var _this = this;
          var _ref = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, _ref$location = _ref.location, location2 = _ref$location === void 0 ? Config.location : _ref$location, _ref$threshold = _ref.threshold, threshold = _ref$threshold === void 0 ? Config.threshold : _ref$threshold, _ref$distance = _ref.distance, distance = _ref$distance === void 0 ? Config.distance : _ref$distance, _ref$includeMatches = _ref.includeMatches, includeMatches = _ref$includeMatches === void 0 ? Config.includeMatches : _ref$includeMatches, _ref$findAllMatches = _ref.findAllMatches, findAllMatches = _ref$findAllMatches === void 0 ? Config.findAllMatches : _ref$findAllMatches, _ref$minMatchCharLeng = _ref.minMatchCharLength, minMatchCharLength = _ref$minMatchCharLeng === void 0 ? Config.minMatchCharLength : _ref$minMatchCharLeng, _ref$isCaseSensitive = _ref.isCaseSensitive, isCaseSensitive = _ref$isCaseSensitive === void 0 ? Config.isCaseSensitive : _ref$isCaseSensitive, _ref$ignoreLocation = _ref.ignoreLocation, ignoreLocation = _ref$ignoreLocation === void 0 ? Config.ignoreLocation : _ref$ignoreLocation;
          _classCallCheck(this, BitapSearch2);
          this.options = {
            location: location2,
            threshold,
            distance,
            includeMatches,
            findAllMatches,
            minMatchCharLength,
            isCaseSensitive,
            ignoreLocation
          };
          this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();
          this.chunks = [];
          if (!this.pattern.length) {
            return;
          }
          var addChunk = function addChunk2(pattern2, startIndex2) {
            _this.chunks.push({
              pattern: pattern2,
              alphabet: createPatternAlphabet(pattern2),
              startIndex: startIndex2
            });
          };
          var len = this.pattern.length;
          if (len > MAX_BITS) {
            var i = 0;
            var remainder = len % MAX_BITS;
            var end = len - remainder;
            while (i < end) {
              addChunk(this.pattern.substr(i, MAX_BITS), i);
              i += MAX_BITS;
            }
            if (remainder) {
              var startIndex = len - MAX_BITS;
              addChunk(this.pattern.substr(startIndex), startIndex);
            }
          } else {
            addChunk(this.pattern, 0);
          }
        }
        _createClass(BitapSearch2, [{
          key: "searchIn",
          value: function searchIn(text) {
            var _this$options = this.options, isCaseSensitive = _this$options.isCaseSensitive, includeMatches = _this$options.includeMatches;
            if (!isCaseSensitive) {
              text = text.toLowerCase();
            }
            if (this.pattern === text) {
              var _result = {
                isMatch: true,
                score: 0
              };
              if (includeMatches) {
                _result.indices = [[0, text.length - 1]];
              }
              return _result;
            }
            var _this$options2 = this.options, location2 = _this$options2.location, distance = _this$options2.distance, threshold = _this$options2.threshold, findAllMatches = _this$options2.findAllMatches, minMatchCharLength = _this$options2.minMatchCharLength, ignoreLocation = _this$options2.ignoreLocation;
            var allIndices = [];
            var totalScore = 0;
            var hasMatches = false;
            this.chunks.forEach(function(_ref2) {
              var pattern = _ref2.pattern, alphabet = _ref2.alphabet, startIndex = _ref2.startIndex;
              var _search = search(text, pattern, alphabet, {
                location: location2 + startIndex,
                distance,
                threshold,
                findAllMatches,
                minMatchCharLength,
                includeMatches,
                ignoreLocation
              }), isMatch = _search.isMatch, score = _search.score, indices = _search.indices;
              if (isMatch) {
                hasMatches = true;
              }
              totalScore += score;
              if (isMatch && indices) {
                allIndices = [].concat(_toConsumableArray(allIndices), _toConsumableArray(indices));
              }
            });
            var result = {
              isMatch: hasMatches,
              score: hasMatches ? totalScore / this.chunks.length : 1
            };
            if (hasMatches && includeMatches) {
              result.indices = allIndices;
            }
            return result;
          }
        }]);
        return BitapSearch2;
      }();
      var BaseMatch = /* @__PURE__ */ function() {
        function BaseMatch2(pattern) {
          _classCallCheck(this, BaseMatch2);
          this.pattern = pattern;
        }
        _createClass(BaseMatch2, [{
          key: "search",
          value: function search2() {
          }
        }], [{
          key: "isMultiMatch",
          value: function isMultiMatch(pattern) {
            return getMatch(pattern, this.multiRegex);
          }
        }, {
          key: "isSingleMatch",
          value: function isSingleMatch(pattern) {
            return getMatch(pattern, this.singleRegex);
          }
        }]);
        return BaseMatch2;
      }();
      function getMatch(pattern, exp) {
        var matches = pattern.match(exp);
        return matches ? matches[1] : null;
      }
      var ExactMatch = /* @__PURE__ */ function(_BaseMatch) {
        _inherits(ExactMatch2, _BaseMatch);
        var _super = _createSuper(ExactMatch2);
        function ExactMatch2(pattern) {
          _classCallCheck(this, ExactMatch2);
          return _super.call(this, pattern);
        }
        _createClass(ExactMatch2, [{
          key: "search",
          value: function search2(text) {
            var isMatch = text === this.pattern;
            return {
              isMatch,
              score: isMatch ? 0 : 1,
              indices: [0, this.pattern.length - 1]
            };
          }
        }], [{
          key: "type",
          get: function get2() {
            return "exact";
          }
        }, {
          key: "multiRegex",
          get: function get2() {
            return /^="(.*)"$/;
          }
        }, {
          key: "singleRegex",
          get: function get2() {
            return /^=(.*)$/;
          }
        }]);
        return ExactMatch2;
      }(BaseMatch);
      var InverseExactMatch = /* @__PURE__ */ function(_BaseMatch) {
        _inherits(InverseExactMatch2, _BaseMatch);
        var _super = _createSuper(InverseExactMatch2);
        function InverseExactMatch2(pattern) {
          _classCallCheck(this, InverseExactMatch2);
          return _super.call(this, pattern);
        }
        _createClass(InverseExactMatch2, [{
          key: "search",
          value: function search2(text) {
            var index = text.indexOf(this.pattern);
            var isMatch = index === -1;
            return {
              isMatch,
              score: isMatch ? 0 : 1,
              indices: [0, text.length - 1]
            };
          }
        }], [{
          key: "type",
          get: function get2() {
            return "inverse-exact";
          }
        }, {
          key: "multiRegex",
          get: function get2() {
            return /^!"(.*)"$/;
          }
        }, {
          key: "singleRegex",
          get: function get2() {
            return /^!(.*)$/;
          }
        }]);
        return InverseExactMatch2;
      }(BaseMatch);
      var PrefixExactMatch = /* @__PURE__ */ function(_BaseMatch) {
        _inherits(PrefixExactMatch2, _BaseMatch);
        var _super = _createSuper(PrefixExactMatch2);
        function PrefixExactMatch2(pattern) {
          _classCallCheck(this, PrefixExactMatch2);
          return _super.call(this, pattern);
        }
        _createClass(PrefixExactMatch2, [{
          key: "search",
          value: function search2(text) {
            var isMatch = text.startsWith(this.pattern);
            return {
              isMatch,
              score: isMatch ? 0 : 1,
              indices: [0, this.pattern.length - 1]
            };
          }
        }], [{
          key: "type",
          get: function get2() {
            return "prefix-exact";
          }
        }, {
          key: "multiRegex",
          get: function get2() {
            return /^\^"(.*)"$/;
          }
        }, {
          key: "singleRegex",
          get: function get2() {
            return /^\^(.*)$/;
          }
        }]);
        return PrefixExactMatch2;
      }(BaseMatch);
      var InversePrefixExactMatch = /* @__PURE__ */ function(_BaseMatch) {
        _inherits(InversePrefixExactMatch2, _BaseMatch);
        var _super = _createSuper(InversePrefixExactMatch2);
        function InversePrefixExactMatch2(pattern) {
          _classCallCheck(this, InversePrefixExactMatch2);
          return _super.call(this, pattern);
        }
        _createClass(InversePrefixExactMatch2, [{
          key: "search",
          value: function search2(text) {
            var isMatch = !text.startsWith(this.pattern);
            return {
              isMatch,
              score: isMatch ? 0 : 1,
              indices: [0, text.length - 1]
            };
          }
        }], [{
          key: "type",
          get: function get2() {
            return "inverse-prefix-exact";
          }
        }, {
          key: "multiRegex",
          get: function get2() {
            return /^!\^"(.*)"$/;
          }
        }, {
          key: "singleRegex",
          get: function get2() {
            return /^!\^(.*)$/;
          }
        }]);
        return InversePrefixExactMatch2;
      }(BaseMatch);
      var SuffixExactMatch = /* @__PURE__ */ function(_BaseMatch) {
        _inherits(SuffixExactMatch2, _BaseMatch);
        var _super = _createSuper(SuffixExactMatch2);
        function SuffixExactMatch2(pattern) {
          _classCallCheck(this, SuffixExactMatch2);
          return _super.call(this, pattern);
        }
        _createClass(SuffixExactMatch2, [{
          key: "search",
          value: function search2(text) {
            var isMatch = text.endsWith(this.pattern);
            return {
              isMatch,
              score: isMatch ? 0 : 1,
              indices: [text.length - this.pattern.length, text.length - 1]
            };
          }
        }], [{
          key: "type",
          get: function get2() {
            return "suffix-exact";
          }
        }, {
          key: "multiRegex",
          get: function get2() {
            return /^"(.*)"\$$/;
          }
        }, {
          key: "singleRegex",
          get: function get2() {
            return /^(.*)\$$/;
          }
        }]);
        return SuffixExactMatch2;
      }(BaseMatch);
      var InverseSuffixExactMatch = /* @__PURE__ */ function(_BaseMatch) {
        _inherits(InverseSuffixExactMatch2, _BaseMatch);
        var _super = _createSuper(InverseSuffixExactMatch2);
        function InverseSuffixExactMatch2(pattern) {
          _classCallCheck(this, InverseSuffixExactMatch2);
          return _super.call(this, pattern);
        }
        _createClass(InverseSuffixExactMatch2, [{
          key: "search",
          value: function search2(text) {
            var isMatch = !text.endsWith(this.pattern);
            return {
              isMatch,
              score: isMatch ? 0 : 1,
              indices: [0, text.length - 1]
            };
          }
        }], [{
          key: "type",
          get: function get2() {
            return "inverse-suffix-exact";
          }
        }, {
          key: "multiRegex",
          get: function get2() {
            return /^!"(.*)"\$$/;
          }
        }, {
          key: "singleRegex",
          get: function get2() {
            return /^!(.*)\$$/;
          }
        }]);
        return InverseSuffixExactMatch2;
      }(BaseMatch);
      var FuzzyMatch = /* @__PURE__ */ function(_BaseMatch) {
        _inherits(FuzzyMatch2, _BaseMatch);
        var _super = _createSuper(FuzzyMatch2);
        function FuzzyMatch2(pattern) {
          var _this;
          var _ref = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, _ref$location = _ref.location, location2 = _ref$location === void 0 ? Config.location : _ref$location, _ref$threshold = _ref.threshold, threshold = _ref$threshold === void 0 ? Config.threshold : _ref$threshold, _ref$distance = _ref.distance, distance = _ref$distance === void 0 ? Config.distance : _ref$distance, _ref$includeMatches = _ref.includeMatches, includeMatches = _ref$includeMatches === void 0 ? Config.includeMatches : _ref$includeMatches, _ref$findAllMatches = _ref.findAllMatches, findAllMatches = _ref$findAllMatches === void 0 ? Config.findAllMatches : _ref$findAllMatches, _ref$minMatchCharLeng = _ref.minMatchCharLength, minMatchCharLength = _ref$minMatchCharLeng === void 0 ? Config.minMatchCharLength : _ref$minMatchCharLeng, _ref$isCaseSensitive = _ref.isCaseSensitive, isCaseSensitive = _ref$isCaseSensitive === void 0 ? Config.isCaseSensitive : _ref$isCaseSensitive, _ref$ignoreLocation = _ref.ignoreLocation, ignoreLocation = _ref$ignoreLocation === void 0 ? Config.ignoreLocation : _ref$ignoreLocation;
          _classCallCheck(this, FuzzyMatch2);
          _this = _super.call(this, pattern);
          _this._bitapSearch = new BitapSearch(pattern, {
            location: location2,
            threshold,
            distance,
            includeMatches,
            findAllMatches,
            minMatchCharLength,
            isCaseSensitive,
            ignoreLocation
          });
          return _this;
        }
        _createClass(FuzzyMatch2, [{
          key: "search",
          value: function search2(text) {
            return this._bitapSearch.searchIn(text);
          }
        }], [{
          key: "type",
          get: function get2() {
            return "fuzzy";
          }
        }, {
          key: "multiRegex",
          get: function get2() {
            return /^"(.*)"$/;
          }
        }, {
          key: "singleRegex",
          get: function get2() {
            return /^(.*)$/;
          }
        }]);
        return FuzzyMatch2;
      }(BaseMatch);
      var IncludeMatch = /* @__PURE__ */ function(_BaseMatch) {
        _inherits(IncludeMatch2, _BaseMatch);
        var _super = _createSuper(IncludeMatch2);
        function IncludeMatch2(pattern) {
          _classCallCheck(this, IncludeMatch2);
          return _super.call(this, pattern);
        }
        _createClass(IncludeMatch2, [{
          key: "search",
          value: function search2(text) {
            var location2 = 0;
            var index;
            var indices = [];
            var patternLen = this.pattern.length;
            while ((index = text.indexOf(this.pattern, location2)) > -1) {
              location2 = index + patternLen;
              indices.push([index, location2 - 1]);
            }
            var isMatch = !!indices.length;
            return {
              isMatch,
              score: isMatch ? 0 : 1,
              indices
            };
          }
        }], [{
          key: "type",
          get: function get2() {
            return "include";
          }
        }, {
          key: "multiRegex",
          get: function get2() {
            return /^'"(.*)"$/;
          }
        }, {
          key: "singleRegex",
          get: function get2() {
            return /^'(.*)$/;
          }
        }]);
        return IncludeMatch2;
      }(BaseMatch);
      var searchers = [ExactMatch, IncludeMatch, PrefixExactMatch, InversePrefixExactMatch, InverseSuffixExactMatch, SuffixExactMatch, InverseExactMatch, FuzzyMatch];
      var searchersLen = searchers.length;
      var SPACE_RE = / +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;
      var OR_TOKEN = "|";
      function parseQuery(pattern) {
        var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
        return pattern.split(OR_TOKEN).map(function(item) {
          var query = item.trim().split(SPACE_RE).filter(function(item2) {
            return item2 && !!item2.trim();
          });
          var results = [];
          for (var i = 0, len = query.length; i < len; i += 1) {
            var queryItem = query[i];
            var found = false;
            var idx = -1;
            while (!found && ++idx < searchersLen) {
              var searcher = searchers[idx];
              var token = searcher.isMultiMatch(queryItem);
              if (token) {
                results.push(new searcher(token, options));
                found = true;
              }
            }
            if (found) {
              continue;
            }
            idx = -1;
            while (++idx < searchersLen) {
              var _searcher = searchers[idx];
              var _token = _searcher.isSingleMatch(queryItem);
              if (_token) {
                results.push(new _searcher(_token, options));
                break;
              }
            }
          }
          return results;
        });
      }
      var MultiMatchSet = /* @__PURE__ */ new Set([FuzzyMatch.type, IncludeMatch.type]);
      var ExtendedSearch = /* @__PURE__ */ function() {
        function ExtendedSearch2(pattern) {
          var _ref = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, _ref$isCaseSensitive = _ref.isCaseSensitive, isCaseSensitive = _ref$isCaseSensitive === void 0 ? Config.isCaseSensitive : _ref$isCaseSensitive, _ref$includeMatches = _ref.includeMatches, includeMatches = _ref$includeMatches === void 0 ? Config.includeMatches : _ref$includeMatches, _ref$minMatchCharLeng = _ref.minMatchCharLength, minMatchCharLength = _ref$minMatchCharLeng === void 0 ? Config.minMatchCharLength : _ref$minMatchCharLeng, _ref$ignoreLocation = _ref.ignoreLocation, ignoreLocation = _ref$ignoreLocation === void 0 ? Config.ignoreLocation : _ref$ignoreLocation, _ref$findAllMatches = _ref.findAllMatches, findAllMatches = _ref$findAllMatches === void 0 ? Config.findAllMatches : _ref$findAllMatches, _ref$location = _ref.location, location2 = _ref$location === void 0 ? Config.location : _ref$location, _ref$threshold = _ref.threshold, threshold = _ref$threshold === void 0 ? Config.threshold : _ref$threshold, _ref$distance = _ref.distance, distance = _ref$distance === void 0 ? Config.distance : _ref$distance;
          _classCallCheck(this, ExtendedSearch2);
          this.query = null;
          this.options = {
            isCaseSensitive,
            includeMatches,
            minMatchCharLength,
            findAllMatches,
            ignoreLocation,
            location: location2,
            threshold,
            distance
          };
          this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();
          this.query = parseQuery(this.pattern, this.options);
        }
        _createClass(ExtendedSearch2, [{
          key: "searchIn",
          value: function searchIn(text) {
            var query = this.query;
            if (!query) {
              return {
                isMatch: false,
                score: 1
              };
            }
            var _this$options = this.options, includeMatches = _this$options.includeMatches, isCaseSensitive = _this$options.isCaseSensitive;
            text = isCaseSensitive ? text : text.toLowerCase();
            var numMatches = 0;
            var allIndices = [];
            var totalScore = 0;
            for (var i = 0, qLen = query.length; i < qLen; i += 1) {
              var searchers2 = query[i];
              allIndices.length = 0;
              numMatches = 0;
              for (var j = 0, pLen = searchers2.length; j < pLen; j += 1) {
                var searcher = searchers2[j];
                var _searcher$search = searcher.search(text), isMatch = _searcher$search.isMatch, indices = _searcher$search.indices, score = _searcher$search.score;
                if (isMatch) {
                  numMatches += 1;
                  totalScore += score;
                  if (includeMatches) {
                    var type = searcher.constructor.type;
                    if (MultiMatchSet.has(type)) {
                      allIndices = [].concat(_toConsumableArray(allIndices), _toConsumableArray(indices));
                    } else {
                      allIndices.push(indices);
                    }
                  }
                } else {
                  totalScore = 0;
                  numMatches = 0;
                  allIndices.length = 0;
                  break;
                }
              }
              if (numMatches) {
                var result = {
                  isMatch: true,
                  score: totalScore / numMatches
                };
                if (includeMatches) {
                  result.indices = allIndices;
                }
                return result;
              }
            }
            return {
              isMatch: false,
              score: 1
            };
          }
        }], [{
          key: "condition",
          value: function condition(_, options) {
            return options.useExtendedSearch;
          }
        }]);
        return ExtendedSearch2;
      }();
      var registeredSearchers = [];
      function register() {
        registeredSearchers.push.apply(registeredSearchers, arguments);
      }
      function createSearcher(pattern, options) {
        for (var i = 0, len = registeredSearchers.length; i < len; i += 1) {
          var searcherClass = registeredSearchers[i];
          if (searcherClass.condition(pattern, options)) {
            return new searcherClass(pattern, options);
          }
        }
        return new BitapSearch(pattern, options);
      }
      var LogicalOperator = {
        AND: "$and",
        OR: "$or"
      };
      var KeyType = {
        PATH: "$path",
        PATTERN: "$val"
      };
      var isExpression = function isExpression2(query) {
        return !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);
      };
      var isPath = function isPath2(query) {
        return !!query[KeyType.PATH];
      };
      var isLeaf = function isLeaf2(query) {
        return !isArray(query) && isObject(query) && !isExpression(query);
      };
      var convertToExplicit = function convertToExplicit2(query) {
        return _defineProperty({}, LogicalOperator.AND, Object.keys(query).map(function(key) {
          return _defineProperty({}, key, query[key]);
        }));
      };
      function parse(query, options) {
        var _ref3 = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, _ref3$auto = _ref3.auto, auto = _ref3$auto === void 0 ? true : _ref3$auto;
        var next = function next2(query2) {
          var keys = Object.keys(query2);
          var isQueryPath = isPath(query2);
          if (!isQueryPath && keys.length > 1 && !isExpression(query2)) {
            return next2(convertToExplicit(query2));
          }
          if (isLeaf(query2)) {
            var key = isQueryPath ? query2[KeyType.PATH] : keys[0];
            var pattern = isQueryPath ? query2[KeyType.PATTERN] : query2[key];
            if (!isString(pattern)) {
              throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key));
            }
            var obj = {
              keyId: createKeyId(key),
              pattern
            };
            if (auto) {
              obj.searcher = createSearcher(pattern, options);
            }
            return obj;
          }
          var node = {
            children: [],
            operator: keys[0]
          };
          keys.forEach(function(key2) {
            var value = query2[key2];
            if (isArray(value)) {
              value.forEach(function(item) {
                node.children.push(next2(item));
              });
            }
          });
          return node;
        };
        if (!isExpression(query)) {
          query = convertToExplicit(query);
        }
        return next(query);
      }
      function computeScore(results, _ref) {
        var _ref$ignoreFieldNorm = _ref.ignoreFieldNorm, ignoreFieldNorm = _ref$ignoreFieldNorm === void 0 ? Config.ignoreFieldNorm : _ref$ignoreFieldNorm;
        results.forEach(function(result) {
          var totalScore = 1;
          result.matches.forEach(function(_ref2) {
            var key = _ref2.key, norm2 = _ref2.norm, score = _ref2.score;
            var weight = key ? key.weight : null;
            totalScore *= Math.pow(score === 0 && weight ? Number.EPSILON : score, (weight || 1) * (ignoreFieldNorm ? 1 : norm2));
          });
          result.score = totalScore;
        });
      }
      function transformMatches(result, data) {
        var matches = result.matches;
        data.matches = [];
        if (!isDefined(matches)) {
          return;
        }
        matches.forEach(function(match) {
          if (!isDefined(match.indices) || !match.indices.length) {
            return;
          }
          var indices = match.indices, value = match.value;
          var obj = {
            indices,
            value
          };
          if (match.key) {
            obj.key = match.key.src;
          }
          if (match.idx > -1) {
            obj.refIndex = match.idx;
          }
          data.matches.push(obj);
        });
      }
      function transformScore(result, data) {
        data.score = result.score;
      }
      function format(results, docs) {
        var _ref = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, _ref$includeMatches = _ref.includeMatches, includeMatches = _ref$includeMatches === void 0 ? Config.includeMatches : _ref$includeMatches, _ref$includeScore = _ref.includeScore, includeScore = _ref$includeScore === void 0 ? Config.includeScore : _ref$includeScore;
        var transformers = [];
        if (includeMatches)
          transformers.push(transformMatches);
        if (includeScore)
          transformers.push(transformScore);
        return results.map(function(result) {
          var idx = result.idx;
          var data = {
            item: docs[idx],
            refIndex: idx
          };
          if (transformers.length) {
            transformers.forEach(function(transformer) {
              transformer(result, data);
            });
          }
          return data;
        });
      }
      var Fuse$1 = /* @__PURE__ */ function() {
        function Fuse3(docs) {
          var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
          var index = arguments.length > 2 ? arguments[2] : void 0;
          _classCallCheck(this, Fuse3);
          this.options = _objectSpread2(_objectSpread2({}, Config), options);
          if (this.options.useExtendedSearch && false) {
            throw new Error(EXTENDED_SEARCH_UNAVAILABLE);
          }
          this._keyStore = new KeyStore(this.options.keys);
          this.setCollection(docs, index);
        }
        _createClass(Fuse3, [{
          key: "setCollection",
          value: function setCollection(docs, index) {
            this._docs = docs;
            if (index && !(index instanceof FuseIndex)) {
              throw new Error(INCORRECT_INDEX_TYPE);
            }
            this._myIndex = index || createIndex(this.options.keys, this._docs, {
              getFn: this.options.getFn,
              fieldNormWeight: this.options.fieldNormWeight
            });
          }
        }, {
          key: "add",
          value: function add(doc) {
            if (!isDefined(doc)) {
              return;
            }
            this._docs.push(doc);
            this._myIndex.add(doc);
          }
        }, {
          key: "remove",
          value: function remove() {
            var predicate = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : function() {
              return false;
            };
            var results = [];
            for (var i = 0, len = this._docs.length; i < len; i += 1) {
              var doc = this._docs[i];
              if (predicate(doc, i)) {
                this.removeAt(i);
                i -= 1;
                len -= 1;
                results.push(doc);
              }
            }
            return results;
          }
        }, {
          key: "removeAt",
          value: function removeAt(idx) {
            this._docs.splice(idx, 1);
            this._myIndex.removeAt(idx);
          }
        }, {
          key: "getIndex",
          value: function getIndex() {
            return this._myIndex;
          }
        }, {
          key: "search",
          value: function search2(query) {
            var _ref = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, _ref$limit = _ref.limit, limit = _ref$limit === void 0 ? -1 : _ref$limit;
            var _this$options = this.options, includeMatches = _this$options.includeMatches, includeScore = _this$options.includeScore, shouldSort = _this$options.shouldSort, sortFn = _this$options.sortFn, ignoreFieldNorm = _this$options.ignoreFieldNorm;
            var results = isString(query) ? isString(this._docs[0]) ? this._searchStringList(query) : this._searchObjectList(query) : this._searchLogical(query);
            computeScore(results, {
              ignoreFieldNorm
            });
            if (shouldSort) {
              results.sort(sortFn);
            }
            if (isNumber(limit) && limit > -1) {
              results = results.slice(0, limit);
            }
            return format(results, this._docs, {
              includeMatches,
              includeScore
            });
          }
        }, {
          key: "_searchStringList",
          value: function _searchStringList(query) {
            var searcher = createSearcher(query, this.options);
            var records = this._myIndex.records;
            var results = [];
            records.forEach(function(_ref2) {
              var text = _ref2.v, idx = _ref2.i, norm2 = _ref2.n;
              if (!isDefined(text)) {
                return;
              }
              var _searcher$searchIn = searcher.searchIn(text), isMatch = _searcher$searchIn.isMatch, score = _searcher$searchIn.score, indices = _searcher$searchIn.indices;
              if (isMatch) {
                results.push({
                  item: text,
                  idx,
                  matches: [{
                    score,
                    value: text,
                    norm: norm2,
                    indices
                  }]
                });
              }
            });
            return results;
          }
        }, {
          key: "_searchLogical",
          value: function _searchLogical(query) {
            var _this = this;
            var expression = parse(query, this.options);
            var evaluate = function evaluate2(node, item, idx) {
              if (!node.children) {
                var keyId = node.keyId, searcher = node.searcher;
                var matches = _this._findMatches({
                  key: _this._keyStore.get(keyId),
                  value: _this._myIndex.getValueForItemAtKeyId(item, keyId),
                  searcher
                });
                if (matches && matches.length) {
                  return [{
                    idx,
                    item,
                    matches
                  }];
                }
                return [];
              }
              var res = [];
              for (var i = 0, len = node.children.length; i < len; i += 1) {
                var child = node.children[i];
                var result = evaluate2(child, item, idx);
                if (result.length) {
                  res.push.apply(res, _toConsumableArray(result));
                } else if (node.operator === LogicalOperator.AND) {
                  return [];
                }
              }
              return res;
            };
            var records = this._myIndex.records;
            var resultMap = {};
            var results = [];
            records.forEach(function(_ref3) {
              var item = _ref3.$, idx = _ref3.i;
              if (isDefined(item)) {
                var expResults = evaluate(expression, item, idx);
                if (expResults.length) {
                  if (!resultMap[idx]) {
                    resultMap[idx] = {
                      idx,
                      item,
                      matches: []
                    };
                    results.push(resultMap[idx]);
                  }
                  expResults.forEach(function(_ref4) {
                    var _resultMap$idx$matche;
                    var matches = _ref4.matches;
                    (_resultMap$idx$matche = resultMap[idx].matches).push.apply(_resultMap$idx$matche, _toConsumableArray(matches));
                  });
                }
              }
            });
            return results;
          }
        }, {
          key: "_searchObjectList",
          value: function _searchObjectList(query) {
            var _this2 = this;
            var searcher = createSearcher(query, this.options);
            var _this$_myIndex = this._myIndex, keys = _this$_myIndex.keys, records = _this$_myIndex.records;
            var results = [];
            records.forEach(function(_ref5) {
              var item = _ref5.$, idx = _ref5.i;
              if (!isDefined(item)) {
                return;
              }
              var matches = [];
              keys.forEach(function(key, keyIndex) {
                matches.push.apply(matches, _toConsumableArray(_this2._findMatches({
                  key,
                  value: item[keyIndex],
                  searcher
                })));
              });
              if (matches.length) {
                results.push({
                  idx,
                  item,
                  matches
                });
              }
            });
            return results;
          }
        }, {
          key: "_findMatches",
          value: function _findMatches(_ref6) {
            var key = _ref6.key, value = _ref6.value, searcher = _ref6.searcher;
            if (!isDefined(value)) {
              return [];
            }
            var matches = [];
            if (isArray(value)) {
              value.forEach(function(_ref7) {
                var text2 = _ref7.v, idx = _ref7.i, norm3 = _ref7.n;
                if (!isDefined(text2)) {
                  return;
                }
                var _searcher$searchIn2 = searcher.searchIn(text2), isMatch2 = _searcher$searchIn2.isMatch, score2 = _searcher$searchIn2.score, indices2 = _searcher$searchIn2.indices;
                if (isMatch2) {
                  matches.push({
                    score: score2,
                    key,
                    value: text2,
                    idx,
                    norm: norm3,
                    indices: indices2
                  });
                }
              });
            } else {
              var text = value.v, norm2 = value.n;
              var _searcher$searchIn3 = searcher.searchIn(text), isMatch = _searcher$searchIn3.isMatch, score = _searcher$searchIn3.score, indices = _searcher$searchIn3.indices;
              if (isMatch) {
                matches.push({
                  score,
                  key,
                  value: text,
                  norm: norm2,
                  indices
                });
              }
            }
            return matches;
          }
        }]);
        return Fuse3;
      }();
      Fuse$1.version = "7.0.0";
      Fuse$1.createIndex = createIndex;
      Fuse$1.parseIndex = parseIndex;
      Fuse$1.config = Config;
      {
        Fuse$1.parseQuery = parse;
      }
      {
        register(ExtendedSearch);
      }
      var Fuse2 = Fuse$1;
      module.exports = Fuse2;
    }
  });

  // public/javascripts/viewBookings.js
  var DarkReader = require_darkreader();
  DarkReader.setFetchMethod(window.fetch);
  DarkReader.auto();
  var Fuse = require_fuse();
  function AllbookingData() {
    var rows = document.querySelectorAll(".tr-hover");
    var all_boookings = [];
    var bookingInfo;
    rows.forEach((r) => {
      bookingInfo = {
        id: r.cells[0].innerText,
        whenBooked: r.cells[1].innerText,
        name: r.cells[2].innerText,
        email: r.cells[3].innerText,
        cardNumber: r.cells[4].innerText,
        expiryDate: r.cells[5].innerText,
        cvv: r.cells[6].innerText,
        time: r.cells[7].innerText,
        date: r.cells[8].innerText,
        skillLevel: r.cells[9].innerText
      };
      all_boookings.push(bookingInfo);
    });
    return all_boookings;
  }
  function rowSelectionStyle(style, index) {
    var table = document.getElementById("booking_details");
    if (index != void 0) {
      if (style == "modify") {
        var rows = document.querySelectorAll(".tr-hover");
        rows.forEach((r) => r.classList.add("modify"));
        rows.forEach((r) => r.classList.remove("modify_selected"));
        table.rows[index].classList.toggle(style);
        table.rows[index].classList.toggle("".concat(style, "_selected"));
      } else {
        table.rows[index].classList.toggle(style);
        table.rows[index].classList.toggle("".concat(style, "_selected"));
      }
    }
  }
  function getID(selected_row2) {
    let table = document.getElementById("booking_details");
    let rowElement = table.rows[selected_row2];
    return rowElement.cells[0].innerText;
  }
  function toggleButtonStyle(styleName) {
    var rows = document.querySelectorAll(".tr-hover");
    var styles = ["modify", "deleteSome", "deleteAll", "sync"];
    for (let i = 0; i < styles.length; i++) {
      rows.forEach((r) => r.classList.remove(styles[i]));
      rows.forEach((r) => r.classList.remove("".concat(styles[i], "_active")));
    }
    if (AllbookingData() != void 0) {
      rows.forEach((r) => r.classList.toggle(styleName));
      document.getElementById(styleName).classList.toggle("".concat(styleName, "_active"));
    }
  }
  function hideButtonStyle(styleName) {
    document.getElementById(styleName).classList.remove("".concat(styleName, "_active"));
  }
  var collected_bookings = [];
  var button_pressed;
  var marked_ids = [];
  var selected_row;
  var modify_pressed = false;
  var deleteSome_pressed = false;
  var deleteAll_pressed = false;
  function selectBooking(rowElement) {
    var bookingInfo = {
      id: rowElement.cells[0].innerText,
      whenBooked: rowElement.cells[1].innerText,
      name: rowElement.cells[2].innerText,
      email: rowElement.cells[3].innerText,
      cardNumber: rowElement.cells[4].innerText,
      expiryDate: rowElement.cells[5].innerText,
      cvv: rowElement.cells[6].innerText,
      time: rowElement.cells[7].innerText,
      date: rowElement.cells[8].innerText,
      skillLevel: rowElement.cells[9].innerText
    };
    bookingInfo = JSON.stringify(bookingInfo);
    selected_row = rowElement.rowIndex;
    let current_id = getID(selected_row);
    if (modify_pressed) {
      rowSelectionStyle("modify", selected_row);
    }
    if (deleteSome_pressed) {
      rowSelectionStyle("deleteSome", selected_row);
    }
    if (deleteAll_pressed) {
      rowSelectionStyle("deleteAll", selected_row);
    }
    button_pressed = modify_pressed || deleteSome_pressed || deleteAll_pressed;
    if (button_pressed) {
      let rowID = getID(selected_row);
      if (!marked_ids.includes(current_id) && !collected_bookings.includes(bookingInfo)) {
        if (modify_pressed) {
          collected_bookings = [bookingInfo];
          marked_ids = [rowID];
        } else {
          collected_bookings.push(bookingInfo);
          marked_ids.push(rowID);
        }
      } else if (marked_ids.includes(current_id)) {
        marked_ids = marked_ids.filter((id) => {
          return current_id != id;
        });
        collected_bookings = collected_bookings.filter((booking) => {
          return booking != bookingInfo;
        });
      }
    }
  }
  function syncPulse() {
    document.getElementById("sync").classList.add("sync_pulse");
  }
  document.getElementById("sync").addEventListener("click", async () => {
    if (modify_pressed) {
      await fetch("http://localhost:3000/modify", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: collected_bookings
      });
      location.replace("http://localhost:3000/modify");
    }
    if (deleteSome_pressed) {
      await fetch("http://localhost:3000/deleteSome", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify(marked_ids)
      });
    }
    if (deleteAll_pressed) {
      await fetch("http://localhost:3000/deleteAll", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        }
      });
    }
    if (deleteSome_pressed || deleteAll_pressed) {
      location.reload(true);
    }
  });
  var modify_button = document.getElementById("modify");
  modify_button.addEventListener("click", async () => {
    toggleButtonStyle("modify");
    hideButtonStyle("deleteSome");
    hideButtonStyle("deleteAll");
    modify_pressed = true;
    deleteSome_pressed = false;
    deleteAll_pressed = false;
    syncPulse();
  });
  document.getElementById("deleteSome").addEventListener("click", async () => {
    hideButtonStyle("modify");
    toggleButtonStyle("deleteSome");
    hideButtonStyle("deleteAll");
    deleteSome_pressed = true;
    deleteAll_pressed = false;
    modify_pressed = false;
    syncPulse();
  });
  document.getElementById("deleteAll").addEventListener("click", async () => {
    hideButtonStyle("modify");
    hideButtonStyle("deleteSome");
    toggleButtonStyle("deleteAll");
    deleteAll_pressed = true;
    modify_pressed = false;
    deleteSome_pressed = false;
    syncPulse();
  });
  function clearTable() {
    var table = document.getElementById("booking_details");
    for (var i = table.rows.length - 1; i > 0; i--) {
      table.deleteRow(i);
    }
  }
  function clickListner() {
    var tableRows = document.querySelectorAll(".tr-hover");
    tableRows.forEach((row) => {
      row.addEventListener("click", () => {
        selectBooking(row);
      });
    });
  }
  function renderResults(results, query) {
    var table = document.getElementById("booking_details");
    var current_booking;
    results.forEach((booking) => {
      var row = table.insertRow(-1);
      row.classList.toggle("tr-hover");
      if (booking.item != void 0) {
        current_booking = booking.item;
      } else {
        current_booking = booking;
      }
      for (let key in current_booking) {
        let cell = row.insertCell();
        let value = current_booking[key];
        cell.innerHTML = value;
        if (query != null) {
          query = query.toLowerCase();
          value = value.toLowerCase();
          if (query.includes(value) || value == query) {
            cell.style.color = "green";
          }
        }
      }
    });
  }
  var all_bookings = AllbookingData();
  var searchbar = document.getElementById("searchbar");
  searchbar.addEventListener("input", () => {
    let query = searchbar.value;
    if (query !== "") {
      searchbar.classList.add("searchbar_selected");
      const fuse = new Fuse(all_bookings, {
        keys: ["id", "name", "email", "cvv", "skillLevel"]
      });
      let results = fuse.search(query);
      clearTable();
      renderResults(results, query);
      clickListner();
    } else {
      searchbar.classList.remove("searchbar_selected");
      clearTable();
      renderResults(all_bookings, null);
      clickListner();
    }
  });
  clickListner();
})();
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL2RhcmtyZWFkZXIvZGFya3JlYWRlci5qcyIsICIuLi8uLi9ub2RlX21vZHVsZXMvZnVzZS5qcy9kaXN0L2Z1c2UuY2pzIiwgInZpZXdCb29raW5ncy5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiLyoqXHJcbiAqIERhcmsgUmVhZGVyIHY0LjkuNzFcclxuICogaHR0cHM6Ly9kYXJrcmVhZGVyLm9yZy9cclxuICovXHJcblxyXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xyXG4gICAgdHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIlxyXG4gICAgICAgID8gZmFjdG9yeShleHBvcnRzKVxyXG4gICAgICAgIDogdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWRcclxuICAgICAgICAgID8gZGVmaW5lKFtcImV4cG9ydHNcIl0sIGZhY3RvcnkpXHJcbiAgICAgICAgICA6ICgoZ2xvYmFsID1cclxuICAgICAgICAgICAgICAgIHR5cGVvZiBnbG9iYWxUaGlzICE9PSBcInVuZGVmaW5lZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgPyBnbG9iYWxUaGlzXHJcbiAgICAgICAgICAgICAgICAgICAgOiBnbG9iYWwgfHwgc2VsZiksXHJcbiAgICAgICAgICAgIGZhY3RvcnkoKGdsb2JhbC5EYXJrUmVhZGVyID0ge30pKSk7XHJcbn0pKHRoaXMsIGZ1bmN0aW9uIChleHBvcnRzKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiAgICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcbiAgICBQZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxuICAgIHB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcbiAgICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcbiAgICBSRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuICAgIEFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuICAgIElORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG4gICAgTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuICAgIE9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuICAgIFBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbiAgICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4gICAgLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UsIFN1cHByZXNzZWRFcnJvciwgU3ltYm9sICovXHJcblxyXG4gICAgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIF9fYXNzaWduID1cclxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbiB8fFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQXHJcbiAgICAgICAgICAgICAgICA/IHZhbHVlXHJcbiAgICAgICAgICAgICAgICA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQuZG9uZVxyXG4gICAgICAgICAgICAgICAgICAgID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3RlcChcclxuICAgICAgICAgICAgICAgIChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgICAgICB2YXIgXyA9IHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAwLFxyXG4gICAgICAgICAgICAgICAgc2VudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFsxXTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB0cnlzOiBbXSxcclxuICAgICAgICAgICAgICAgIG9wczogW11cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZixcclxuICAgICAgICAgICAgeSxcclxuICAgICAgICAgICAgdCxcclxuICAgICAgICAgICAgZztcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAoZyA9IHtuZXh0OiB2ZXJiKDApLCB0aHJvdzogdmVyYigxKSwgcmV0dXJuOiB2ZXJiKDIpfSksXHJcbiAgICAgICAgICAgIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG4gICAgICAgICAgICAgICAgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBnXHJcbiAgICAgICAgKTtcclxuICAgICAgICBmdW5jdGlvbiB2ZXJiKG4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcChbbiwgdl0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICAgICAgd2hpbGUgKChnICYmICgoZyA9IDApLCBvcFswXSAmJiAoXyA9IDApKSwgXykpXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgKChmID0gMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcFswXSAmIDJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1wicmV0dXJuXCJdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogb3BbMF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHlbXCJ0aHJvd1wiXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogeS5uZXh0KSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSlcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoKHkgPSAwKSwgdCkpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3ZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2V9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gb3BbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcCA9IFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcCA9IF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISgodCA9IF8udHJ5cyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcFswXSA9PT0gMyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gb3BbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ub3BzLnB1c2gob3ApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wID0gWzYsIGVdO1xyXG4gICAgICAgICAgICAgICAgICAgIHkgPSAwO1xyXG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICBmID0gdCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdO1xyXG4gICAgICAgICAgICByZXR1cm4ge3ZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvcixcclxuICAgICAgICAgICAgbSA9IHMgJiYgb1tzXSxcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICAgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKVxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxyXG4gICAgICAgICAgICBzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCJcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICAgICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICAgICAgdmFyIGkgPSBtLmNhbGwobyksXHJcbiAgICAgICAgICAgIHIsXHJcbiAgICAgICAgICAgIGFyID0gW10sXHJcbiAgICAgICAgICAgIGU7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpXHJcbiAgICAgICAgICAgICAgICBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGUgPSB7ZXJyb3I6IGVycm9yfTtcclxuICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZSkgdGhyb3cgZS5lcnJvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXI7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICBhcltpXSA9IGZyb21baV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxuICAgIH1cclxuXHJcbiAgICB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICA/IFN1cHByZXNzZWRFcnJvclxyXG4gICAgICAgIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgKGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIpLFxyXG4gICAgICAgICAgICAgICAgICAoZS5lcnJvciA9IGVycm9yKSxcclxuICAgICAgICAgICAgICAgICAgKGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQpLFxyXG4gICAgICAgICAgICAgICAgICBlXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgdmFyIE1lc3NhZ2VUeXBlVUl0b0JHO1xyXG4gICAgKGZ1bmN0aW9uIChNZXNzYWdlVHlwZVVJdG9CRykge1xyXG4gICAgICAgIE1lc3NhZ2VUeXBlVUl0b0JHW1wiR0VUX0RBVEFcIl0gPSBcInVpLWJnLWdldC1kYXRhXCI7XHJcbiAgICAgICAgTWVzc2FnZVR5cGVVSXRvQkdbXCJHRVRfREVWVE9PTFNfREFUQVwiXSA9IFwidWktYmctZ2V0LWRldnRvb2xzLWRhdGFcIjtcclxuICAgICAgICBNZXNzYWdlVHlwZVVJdG9CR1tcIlNVQlNDUklCRV9UT19DSEFOR0VTXCJdID1cclxuICAgICAgICAgICAgXCJ1aS1iZy1zdWJzY3JpYmUtdG8tY2hhbmdlc1wiO1xyXG4gICAgICAgIE1lc3NhZ2VUeXBlVUl0b0JHW1wiVU5TVUJTQ1JJQkVfRlJPTV9DSEFOR0VTXCJdID1cclxuICAgICAgICAgICAgXCJ1aS1iZy11bnN1YnNjcmliZS1mcm9tLWNoYW5nZXNcIjtcclxuICAgICAgICBNZXNzYWdlVHlwZVVJdG9CR1tcIkNIQU5HRV9TRVRUSU5HU1wiXSA9IFwidWktYmctY2hhbmdlLXNldHRpbmdzXCI7XHJcbiAgICAgICAgTWVzc2FnZVR5cGVVSXRvQkdbXCJTRVRfVEhFTUVcIl0gPSBcInVpLWJnLXNldC10aGVtZVwiO1xyXG4gICAgICAgIE1lc3NhZ2VUeXBlVUl0b0JHW1wiVE9HR0xFX0FDVElWRV9UQUJcIl0gPSBcInVpLWJnLXRvZ2dsZS1hY3RpdmUtdGFiXCI7XHJcbiAgICAgICAgTWVzc2FnZVR5cGVVSXRvQkdbXCJNQVJLX05FV1NfQVNfUkVBRFwiXSA9IFwidWktYmctbWFyay1uZXdzLWFzLXJlYWRcIjtcclxuICAgICAgICBNZXNzYWdlVHlwZVVJdG9CR1tcIk1BUktfTkVXU19BU19ESVNQTEFZRURcIl0gPVxyXG4gICAgICAgICAgICBcInVpLWJnLW1hcmstbmV3cy1hcy1kaXNwbGF5ZWRcIjtcclxuICAgICAgICBNZXNzYWdlVHlwZVVJdG9CR1tcIkxPQURfQ09ORklHXCJdID0gXCJ1aS1iZy1sb2FkLWNvbmZpZ1wiO1xyXG4gICAgICAgIE1lc3NhZ2VUeXBlVUl0b0JHW1wiQVBQTFlfREVWX0RZTkFNSUNfVEhFTUVfRklYRVNcIl0gPVxyXG4gICAgICAgICAgICBcInVpLWJnLWFwcGx5LWRldi1keW5hbWljLXRoZW1lLWZpeGVzXCI7XHJcbiAgICAgICAgTWVzc2FnZVR5cGVVSXRvQkdbXCJSRVNFVF9ERVZfRFlOQU1JQ19USEVNRV9GSVhFU1wiXSA9XHJcbiAgICAgICAgICAgIFwidWktYmctcmVzZXQtZGV2LWR5bmFtaWMtdGhlbWUtZml4ZXNcIjtcclxuICAgICAgICBNZXNzYWdlVHlwZVVJdG9CR1tcIkFQUExZX0RFVl9JTlZFUlNJT05fRklYRVNcIl0gPVxyXG4gICAgICAgICAgICBcInVpLWJnLWFwcGx5LWRldi1pbnZlcnNpb24tZml4ZXNcIjtcclxuICAgICAgICBNZXNzYWdlVHlwZVVJdG9CR1tcIlJFU0VUX0RFVl9JTlZFUlNJT05fRklYRVNcIl0gPVxyXG4gICAgICAgICAgICBcInVpLWJnLXJlc2V0LWRldi1pbnZlcnNpb24tZml4ZXNcIjtcclxuICAgICAgICBNZXNzYWdlVHlwZVVJdG9CR1tcIkFQUExZX0RFVl9TVEFUSUNfVEhFTUVTXCJdID1cclxuICAgICAgICAgICAgXCJ1aS1iZy1hcHBseS1kZXYtc3RhdGljLXRoZW1lc1wiO1xyXG4gICAgICAgIE1lc3NhZ2VUeXBlVUl0b0JHW1wiUkVTRVRfREVWX1NUQVRJQ19USEVNRVNcIl0gPVxyXG4gICAgICAgICAgICBcInVpLWJnLXJlc2V0LWRldi1zdGF0aWMtdGhlbWVzXCI7XHJcbiAgICAgICAgTWVzc2FnZVR5cGVVSXRvQkdbXCJDT0xPUl9TQ0hFTUVfQ0hBTkdFXCJdID0gXCJ1aS1iZy1jb2xvci1zY2hlbWUtY2hhbmdlXCI7XHJcbiAgICAgICAgTWVzc2FnZVR5cGVVSXRvQkdbXCJISURFX0hJR0hMSUdIVFNcIl0gPSBcInVpLWJnLWhpZGUtaGlnaGxpZ2h0c1wiO1xyXG4gICAgfSkoTWVzc2FnZVR5cGVVSXRvQkcgfHwgKE1lc3NhZ2VUeXBlVUl0b0JHID0ge30pKTtcclxuICAgIHZhciBNZXNzYWdlVHlwZUJHdG9VSTtcclxuICAgIChmdW5jdGlvbiAoTWVzc2FnZVR5cGVCR3RvVUkpIHtcclxuICAgICAgICBNZXNzYWdlVHlwZUJHdG9VSVtcIkNIQU5HRVNcIl0gPSBcImJnLXVpLWNoYW5nZXNcIjtcclxuICAgIH0pKE1lc3NhZ2VUeXBlQkd0b1VJIHx8IChNZXNzYWdlVHlwZUJHdG9VSSA9IHt9KSk7XHJcbiAgICB2YXIgRGVidWdNZXNzYWdlVHlwZUJHdG9VSTtcclxuICAgIChmdW5jdGlvbiAoRGVidWdNZXNzYWdlVHlwZUJHdG9VSSkge1xyXG4gICAgICAgIERlYnVnTWVzc2FnZVR5cGVCR3RvVUlbXCJDU1NfVVBEQVRFXCJdID0gXCJkZWJ1Zy1iZy11aS1jc3MtdXBkYXRlXCI7XHJcbiAgICAgICAgRGVidWdNZXNzYWdlVHlwZUJHdG9VSVtcIlVQREFURVwiXSA9IFwiZGVidWctYmctdWktdXBkYXRlXCI7XHJcbiAgICB9KShEZWJ1Z01lc3NhZ2VUeXBlQkd0b1VJIHx8IChEZWJ1Z01lc3NhZ2VUeXBlQkd0b1VJID0ge30pKTtcclxuICAgIHZhciBNZXNzYWdlVHlwZUJHdG9DUztcclxuICAgIChmdW5jdGlvbiAoTWVzc2FnZVR5cGVCR3RvQ1MpIHtcclxuICAgICAgICBNZXNzYWdlVHlwZUJHdG9DU1tcIkFERF9DU1NfRklMVEVSXCJdID0gXCJiZy1jcy1hZGQtY3NzLWZpbHRlclwiO1xyXG4gICAgICAgIE1lc3NhZ2VUeXBlQkd0b0NTW1wiQUREX0RZTkFNSUNfVEhFTUVcIl0gPSBcImJnLWNzLWFkZC1keW5hbWljLXRoZW1lXCI7XHJcbiAgICAgICAgTWVzc2FnZVR5cGVCR3RvQ1NbXCJBRERfU1RBVElDX1RIRU1FXCJdID0gXCJiZy1jcy1hZGQtc3RhdGljLXRoZW1lXCI7XHJcbiAgICAgICAgTWVzc2FnZVR5cGVCR3RvQ1NbXCJBRERfU1ZHX0ZJTFRFUlwiXSA9IFwiYmctY3MtYWRkLXN2Zy1maWx0ZXJcIjtcclxuICAgICAgICBNZXNzYWdlVHlwZUJHdG9DU1tcIkNMRUFOX1VQXCJdID0gXCJiZy1jcy1jbGVhbi11cFwiO1xyXG4gICAgICAgIE1lc3NhZ2VUeXBlQkd0b0NTW1wiRkVUQ0hfUkVTUE9OU0VcIl0gPSBcImJnLWNzLWZldGNoLXJlc3BvbnNlXCI7XHJcbiAgICAgICAgTWVzc2FnZVR5cGVCR3RvQ1NbXCJVTlNVUFBPUlRFRF9TRU5ERVJcIl0gPSBcImJnLWNzLXVuc3VwcG9ydGVkLXNlbmRlclwiO1xyXG4gICAgfSkoTWVzc2FnZVR5cGVCR3RvQ1MgfHwgKE1lc3NhZ2VUeXBlQkd0b0NTID0ge30pKTtcclxuICAgIHZhciBEZWJ1Z01lc3NhZ2VUeXBlQkd0b0NTO1xyXG4gICAgKGZ1bmN0aW9uIChEZWJ1Z01lc3NhZ2VUeXBlQkd0b0NTKSB7XHJcbiAgICAgICAgRGVidWdNZXNzYWdlVHlwZUJHdG9DU1tcIlJFTE9BRFwiXSA9IFwiZGVidWctYmctY3MtcmVsb2FkXCI7XHJcbiAgICB9KShEZWJ1Z01lc3NhZ2VUeXBlQkd0b0NTIHx8IChEZWJ1Z01lc3NhZ2VUeXBlQkd0b0NTID0ge30pKTtcclxuICAgIHZhciBNZXNzYWdlVHlwZUNTdG9CRztcclxuICAgIChmdW5jdGlvbiAoTWVzc2FnZVR5cGVDU3RvQkcpIHtcclxuICAgICAgICBNZXNzYWdlVHlwZUNTdG9CR1tcIkNPTE9SX1NDSEVNRV9DSEFOR0VcIl0gPSBcImNzLWJnLWNvbG9yLXNjaGVtZS1jaGFuZ2VcIjtcclxuICAgICAgICBNZXNzYWdlVHlwZUNTdG9CR1tcIkRBUktfVEhFTUVfREVURUNURURcIl0gPSBcImNzLWJnLWRhcmstdGhlbWUtZGV0ZWN0ZWRcIjtcclxuICAgICAgICBNZXNzYWdlVHlwZUNTdG9CR1tcIkRBUktfVEhFTUVfTk9UX0RFVEVDVEVEXCJdID1cclxuICAgICAgICAgICAgXCJjcy1iZy1kYXJrLXRoZW1lLW5vdC1kZXRlY3RlZFwiO1xyXG4gICAgICAgIE1lc3NhZ2VUeXBlQ1N0b0JHW1wiRkVUQ0hcIl0gPSBcImNzLWJnLWZldGNoXCI7XHJcbiAgICAgICAgTWVzc2FnZVR5cGVDU3RvQkdbXCJET0NVTUVOVF9DT05ORUNUXCJdID0gXCJjcy1iZy1kb2N1bWVudC1jb25uZWN0XCI7XHJcbiAgICAgICAgTWVzc2FnZVR5cGVDU3RvQkdbXCJET0NVTUVOVF9GT1JHRVRcIl0gPSBcImNzLWJnLWRvY3VtZW50LWZvcmdldFwiO1xyXG4gICAgICAgIE1lc3NhZ2VUeXBlQ1N0b0JHW1wiRE9DVU1FTlRfRlJFRVpFXCJdID0gXCJjcy1iZy1kb2N1bWVudC1mcmVlemVcIjtcclxuICAgICAgICBNZXNzYWdlVHlwZUNTdG9CR1tcIkRPQ1VNRU5UX1JFU1VNRVwiXSA9IFwiY3MtYmctZG9jdW1lbnQtcmVzdW1lXCI7XHJcbiAgICB9KShNZXNzYWdlVHlwZUNTdG9CRyB8fCAoTWVzc2FnZVR5cGVDU3RvQkcgPSB7fSkpO1xyXG4gICAgdmFyIERlYnVnTWVzc2FnZVR5cGVDU3RvQkc7XHJcbiAgICAoZnVuY3Rpb24gKERlYnVnTWVzc2FnZVR5cGVDU3RvQkcpIHtcclxuICAgICAgICBEZWJ1Z01lc3NhZ2VUeXBlQ1N0b0JHW1wiTE9HXCJdID0gXCJkZWJ1Zy1jcy1iZy1sb2dcIjtcclxuICAgIH0pKERlYnVnTWVzc2FnZVR5cGVDU3RvQkcgfHwgKERlYnVnTWVzc2FnZVR5cGVDU3RvQkcgPSB7fSkpO1xyXG4gICAgdmFyIE1lc3NhZ2VUeXBlQ1N0b1VJO1xyXG4gICAgKGZ1bmN0aW9uIChNZXNzYWdlVHlwZUNTdG9VSSkge1xyXG4gICAgICAgIE1lc3NhZ2VUeXBlQ1N0b1VJW1wiRVhQT1JUX0NTU19SRVNQT05TRVwiXSA9IFwiY3MtdWktZXhwb3J0LWNzcy1yZXNwb25zZVwiO1xyXG4gICAgfSkoTWVzc2FnZVR5cGVDU3RvVUkgfHwgKE1lc3NhZ2VUeXBlQ1N0b1VJID0ge30pKTtcclxuICAgIHZhciBNZXNzYWdlVHlwZVVJdG9DUztcclxuICAgIChmdW5jdGlvbiAoTWVzc2FnZVR5cGVVSXRvQ1MpIHtcclxuICAgICAgICBNZXNzYWdlVHlwZVVJdG9DU1tcIkVYUE9SVF9DU1NcIl0gPSBcInVpLWNzLWV4cG9ydC1jc3NcIjtcclxuICAgIH0pKE1lc3NhZ2VUeXBlVUl0b0NTIHx8IChNZXNzYWdlVHlwZVVJdG9DUyA9IHt9KSk7XHJcblxyXG4gICAgdmFyIGlzTmF2aWdhdG9yRGVmaW5lZCA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCI7XHJcbiAgICB2YXIgdXNlckFnZW50ID0gaXNOYXZpZ2F0b3JEZWZpbmVkXHJcbiAgICAgICAgPyBuYXZpZ2F0b3IudXNlckFnZW50RGF0YSAmJlxyXG4gICAgICAgICAgQXJyYXkuaXNBcnJheShuYXZpZ2F0b3IudXNlckFnZW50RGF0YS5icmFuZHMpXHJcbiAgICAgICAgICAgID8gbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEuYnJhbmRzXHJcbiAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGJyYW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoYnJhbmQuYnJhbmQudG9Mb3dlckNhc2UoKSwgXCIgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChicmFuZC52ZXJzaW9uKTtcclxuICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgLmpvaW4oXCIgXCIpXHJcbiAgICAgICAgICAgIDogbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgOiBcInNvbWUgdXNlcmFnZW50XCI7XHJcbiAgICB2YXIgcGxhdGZvcm0gPSBpc05hdmlnYXRvckRlZmluZWRcclxuICAgICAgICA/IG5hdmlnYXRvci51c2VyQWdlbnREYXRhICYmXHJcbiAgICAgICAgICB0eXBlb2YgbmF2aWdhdG9yLnVzZXJBZ2VudERhdGEucGxhdGZvcm0gPT09IFwic3RyaW5nXCJcclxuICAgICAgICAgICAgPyBuYXZpZ2F0b3IudXNlckFnZW50RGF0YS5wbGF0Zm9ybS50b0xvd2VyQ2FzZSgpXHJcbiAgICAgICAgICAgIDogbmF2aWdhdG9yLnBsYXRmb3JtLnRvTG93ZXJDYXNlKClcclxuICAgICAgICA6IFwic29tZSBwbGF0Zm9ybVwiO1xyXG4gICAgdmFyIGlzQ2hyb21pdW0gPVxyXG4gICAgICAgIHVzZXJBZ2VudC5pbmNsdWRlcyhcImNocm9tZVwiKSB8fCB1c2VyQWdlbnQuaW5jbHVkZXMoXCJjaHJvbWl1bVwiKTtcclxuICAgIHZhciBpc0ZpcmVmb3ggPVxyXG4gICAgICAgIHVzZXJBZ2VudC5pbmNsdWRlcyhcImZpcmVmb3hcIikgfHxcclxuICAgICAgICB1c2VyQWdlbnQuaW5jbHVkZXMoXCJ0aHVuZGVyYmlyZFwiKSB8fFxyXG4gICAgICAgIHVzZXJBZ2VudC5pbmNsdWRlcyhcImxpYnJld29sZlwiKTtcclxuICAgIHZhciBpc1NhZmFyaSA9IHVzZXJBZ2VudC5pbmNsdWRlcyhcInNhZmFyaVwiKSAmJiAhaXNDaHJvbWl1bTtcclxuICAgIHZhciBpc1dpbmRvd3MgPSBwbGF0Zm9ybS5zdGFydHNXaXRoKFwid2luXCIpO1xyXG4gICAgdmFyIGlzTWFjT1MgPSBwbGF0Zm9ybS5zdGFydHNXaXRoKFwibWFjXCIpO1xyXG4gICAgaXNOYXZpZ2F0b3JEZWZpbmVkICYmIG5hdmlnYXRvci51c2VyQWdlbnREYXRhXHJcbiAgICAgICAgPyBuYXZpZ2F0b3IudXNlckFnZW50RGF0YS5tb2JpbGVcclxuICAgICAgICA6IHVzZXJBZ2VudC5pbmNsdWRlcyhcIm1vYmlsZVwiKTtcclxuICAgIHZhciBpc1NoYWRvd0RvbVN1cHBvcnRlZCA9IHR5cGVvZiBTaGFkb3dSb290ID09PSBcImZ1bmN0aW9uXCI7XHJcbiAgICB2YXIgaXNNYXRjaE1lZGlhQ2hhbmdlRXZlbnRMaXN0ZW5lclN1cHBvcnRlZCA9XHJcbiAgICAgICAgdHlwZW9mIE1lZGlhUXVlcnlMaXN0ID09PSBcImZ1bmN0aW9uXCIgJiZcclxuICAgICAgICB0eXBlb2YgTWVkaWFRdWVyeUxpc3QucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPT09IFwiZnVuY3Rpb25cIjtcclxuICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG0gPSB1c2VyQWdlbnQubWF0Y2goL2Nocm9tKD86ZXxpdW0pKD86XFwvfCApKFteIF0rKS8pO1xyXG4gICAgICAgIGlmIChtICYmIG1bMV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1bMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfSkoKTtcclxuICAgIChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG0gPSB1c2VyQWdlbnQubWF0Y2goLyg/OmZpcmVmb3h8bGlicmV3b2xmKSg/OlxcL3wgKShbXiBdKykvKTtcclxuICAgICAgICBpZiAobSAmJiBtWzFdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtWzFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH0pKCk7XHJcbiAgICB2YXIgaXNEZWZpbmVkU2VsZWN0b3JTdXBwb3J0ZWQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCI6ZGVmaW5lZFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KSgpO1xyXG4gICAgdmFyIGlzQ1NTQ29sb3JTY2hlbWVQcm9wU3VwcG9ydGVkID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgaWYgKCFlbCB8fCB0eXBlb2YgZWwuc3R5bGUgIT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsLnN0eWxlLmNvbG9yU2NoZW1lID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBcImNvbG9yLXNjaGVtZTogZGFya1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVsLnN0eWxlLmNvbG9yU2NoZW1lID09PSBcImRhcmtcIjtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9KSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldE9LUmVzcG9uc2UodXJsLCBtaW1lVHlwZSwgb3JpZ2luKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IFwiZm9yY2UtY2FjaGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogXCJvbWl0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmZXJyZXI6IG9yaWdpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0ZpcmVmb3ggJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlID09PSBcInRleHQvY3NzXCIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybC5zdGFydHNXaXRoKFwibW96LWV4dGVuc2lvbjovL1wiKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsLmVuZHNXaXRoKFwiLmNzc1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiwgcmVzcG9uc2VdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhcmVzcG9uc2UuaGVhZGVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQoXCJDb250ZW50LVR5cGVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3RhcnRzV2l0aChtaW1lVHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJNaW1lIHR5cGUgbWlzbWF0Y2ggd2hlbiBsb2FkaW5nIFwiLmNvbmNhdCh1cmwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlVuYWJsZSB0byBsb2FkIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQodXJsLCBcIiBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChyZXNwb25zZS5zdGF0dXMsIFwiIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KHJlc3BvbnNlLnN0YXR1c1RleHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiwgcmVzcG9uc2VdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGxvYWRBc0RhdGFVUkwodXJsLCBtaW1lVHlwZSkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIGdldE9LUmVzcG9uc2UodXJsLCBtaW1lVHlwZSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgcmVhZFJlc3BvbnNlQXNEYXRhVVJMKHJlc3BvbnNlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIsIF9hLnNlbnQoKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVhZFJlc3BvbnNlQXNEYXRhVVJMKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYmxvYiwgZGF0YVVSTDtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCByZXNwb25zZS5ibG9iKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmxvYiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHJlYWRlci5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYmxvYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVVSTCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCBkYXRhVVJMXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRocm93Q09SU0Vycm9yID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5yZWplY3QoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBFcnJvcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkVtYmVkZGVkIERhcmsgUmVhZGVyIGNhbm5vdCBhY2Nlc3MgYSBjcm9zcy1vcmlnaW4gcmVzb3VyY2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJPdmVydmlldyB5b3VyIFVSTHMgYW5kIENPUlMgcG9saWNpZXMgb3IgdXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJgRGFya1JlYWRlci5zZXRGZXRjaE1ldGhvZChmZXRjaDogKHVybCkgPT4gUHJvbWlzZTxSZXNwb25zZT4pKWAuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJTZWUgaWYgdXNpbmcgYERhcmtSZWFkZXIuc2V0RmV0Y2hNZXRob2Qod2luZG93LmZldGNoKWBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJlZm9yZSBgRGFya1JlYWRlci5lbmFibGUoKWAgd29ya3MuXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0uam9pbihcIiBcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZhciBmZXRjaGVyID0gdGhyb3dDT1JTRXJyb3I7XHJcbiAgICBmdW5jdGlvbiBzZXRGZXRjaE1ldGhvZCQxKGZldGNoKSB7XHJcbiAgICAgICAgaWYgKGZldGNoKSB7XHJcbiAgICAgICAgICAgIGZldGNoZXIgPSBmZXRjaDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmZXRjaGVyID0gdGhyb3dDT1JTRXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2FsbEZldGNoTWV0aG9kKHVybCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBmZXRjaGVyKHVybCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCBfYS5zZW50KCldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXdpbmRvdy5jaHJvbWUpIHtcclxuICAgICAgICB3aW5kb3cuY2hyb21lID0ge307XHJcbiAgICB9XHJcbiAgICBpZiAoIWNocm9tZS5ydW50aW1lKSB7XHJcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUgPSB7fTtcclxuICAgIH1cclxuICAgIHZhciBtZXNzYWdlTGlzdGVuZXJzID0gbmV3IFNldCgpO1xyXG4gICAgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGlkXzEsIF9hLCB1cmwsIHJlc3BvbnNlVHlwZSwgcmVzcG9uc2UsIHRleHRfMSwgZXJyb3JfMTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzWzBdICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXS50eXBlID09PSBNZXNzYWdlVHlwZUNTdG9CRy5GRVRDSFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZF8xID0gYXJnc1swXS5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCA3LCAsIDhdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gYXJnc1swXS5kYXRhKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh1cmwgPSBfYS51cmwpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlc3BvbnNlVHlwZSA9IF9hLnJlc3BvbnNlVHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgY2FsbEZldGNoTWV0aG9kKHVybCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlVHlwZSA9PT0gXCJkYXRhLXVybFwiKSkgcmV0dXJuIFszLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCByZWFkUmVzcG9uc2VBc0RhdGFVUkwocmVzcG9uc2UpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRfMSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCA2XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgcmVzcG9uc2UudGV4dCgpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRfMSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA2O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNiKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBNZXNzYWdlVHlwZUJHdG9DUy5GRVRDSF9SRVNQT05TRSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB0ZXh0XzEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkXzFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCA4XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3JfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogTWVzc2FnZVR5cGVCR3RvQ1MuRkVUQ0hfUkVTUE9OU0UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3JfMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaWRfMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDhdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBhZGRNZXNzYWdlTGlzdGVuZXIoY2FsbGJhY2spIHtcclxuICAgICAgICBtZXNzYWdlTGlzdGVuZXJzLmFkZChjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICB2YXIgbmF0aXZlU2VuZE1lc3NhZ2VfMSA9IGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlO1xyXG4gICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbmRNZXNzYWdlLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3MpLCBmYWxzZSkpO1xyXG4gICAgICAgICAgICBuYXRpdmVTZW5kTWVzc2FnZV8xLmFwcGx5KGNocm9tZS5ydW50aW1lLCBhcmdzKTtcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSA9IHNlbmRNZXNzYWdlO1xyXG4gICAgfVxyXG4gICAgaWYgKCFjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UpIHtcclxuICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UgPSB7fTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICB2YXIgbmF0aXZlQWRkTGlzdGVuZXJfMSA9IGNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcjtcclxuICAgICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWRkTWVzc2FnZUxpc3RlbmVyKGFyZ3NbMF0pO1xyXG4gICAgICAgICAgICBuYXRpdmVBZGRMaXN0ZW5lcl8xLmFwcGx5KGNocm9tZS5ydW50aW1lLm9uTWVzc2FnZSwgYXJncyk7XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhZGRNZXNzYWdlTGlzdGVuZXIoYXJnc1swXSk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgVGhlbWVFbmdpbmU7XHJcbiAgICAoZnVuY3Rpb24gKFRoZW1lRW5naW5lKSB7XHJcbiAgICAgICAgVGhlbWVFbmdpbmVbXCJjc3NGaWx0ZXJcIl0gPSBcImNzc0ZpbHRlclwiO1xyXG4gICAgICAgIFRoZW1lRW5naW5lW1wic3ZnRmlsdGVyXCJdID0gXCJzdmdGaWx0ZXJcIjtcclxuICAgICAgICBUaGVtZUVuZ2luZVtcInN0YXRpY1RoZW1lXCJdID0gXCJzdGF0aWNUaGVtZVwiO1xyXG4gICAgICAgIFRoZW1lRW5naW5lW1wiZHluYW1pY1RoZW1lXCJdID0gXCJkeW5hbWljVGhlbWVcIjtcclxuICAgIH0pKFRoZW1lRW5naW5lIHx8IChUaGVtZUVuZ2luZSA9IHt9KSk7XHJcblxyXG4gICAgdmFyIEF1dG9tYXRpb25Nb2RlO1xyXG4gICAgKGZ1bmN0aW9uIChBdXRvbWF0aW9uTW9kZSkge1xyXG4gICAgICAgIEF1dG9tYXRpb25Nb2RlW1wiTk9ORVwiXSA9IFwiXCI7XHJcbiAgICAgICAgQXV0b21hdGlvbk1vZGVbXCJUSU1FXCJdID0gXCJ0aW1lXCI7XHJcbiAgICAgICAgQXV0b21hdGlvbk1vZGVbXCJTWVNURU1cIl0gPSBcInN5c3RlbVwiO1xyXG4gICAgICAgIEF1dG9tYXRpb25Nb2RlW1wiTE9DQVRJT05cIl0gPSBcImxvY2F0aW9uXCI7XHJcbiAgICB9KShBdXRvbWF0aW9uTW9kZSB8fCAoQXV0b21hdGlvbk1vZGUgPSB7fSkpO1xyXG5cclxuICAgIHZhciBERUZBVUxUX0NPTE9SUyA9IHtcclxuICAgICAgICBkYXJrU2NoZW1lOiB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IFwiIzE4MWExYlwiLFxyXG4gICAgICAgICAgICB0ZXh0OiBcIiNlOGU2ZTNcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbGlnaHRTY2hlbWU6IHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZDogXCIjZGNkYWQ3XCIsXHJcbiAgICAgICAgICAgIHRleHQ6IFwiIzE4MWExYlwiXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBERUZBVUxUX1RIRU1FID0ge1xyXG4gICAgICAgIG1vZGU6IDEsXHJcbiAgICAgICAgYnJpZ2h0bmVzczogMTAwLFxyXG4gICAgICAgIGNvbnRyYXN0OiAxMDAsXHJcbiAgICAgICAgZ3JheXNjYWxlOiAwLFxyXG4gICAgICAgIHNlcGlhOiAwLFxyXG4gICAgICAgIHVzZUZvbnQ6IGZhbHNlLFxyXG4gICAgICAgIGZvbnRGYW1pbHk6IGlzTWFjT1NcclxuICAgICAgICAgICAgPyBcIkhlbHZldGljYSBOZXVlXCJcclxuICAgICAgICAgICAgOiBpc1dpbmRvd3NcclxuICAgICAgICAgICAgICA/IFwiU2Vnb2UgVUlcIlxyXG4gICAgICAgICAgICAgIDogXCJPcGVuIFNhbnNcIixcclxuICAgICAgICB0ZXh0U3Ryb2tlOiAwLFxyXG4gICAgICAgIGVuZ2luZTogVGhlbWVFbmdpbmUuZHluYW1pY1RoZW1lLFxyXG4gICAgICAgIHN0eWxlc2hlZXQ6IFwiXCIsXHJcbiAgICAgICAgZGFya1NjaGVtZUJhY2tncm91bmRDb2xvcjogREVGQVVMVF9DT0xPUlMuZGFya1NjaGVtZS5iYWNrZ3JvdW5kLFxyXG4gICAgICAgIGRhcmtTY2hlbWVUZXh0Q29sb3I6IERFRkFVTFRfQ09MT1JTLmRhcmtTY2hlbWUudGV4dCxcclxuICAgICAgICBsaWdodFNjaGVtZUJhY2tncm91bmRDb2xvcjogREVGQVVMVF9DT0xPUlMubGlnaHRTY2hlbWUuYmFja2dyb3VuZCxcclxuICAgICAgICBsaWdodFNjaGVtZVRleHRDb2xvcjogREVGQVVMVF9DT0xPUlMubGlnaHRTY2hlbWUudGV4dCxcclxuICAgICAgICBzY3JvbGxiYXJDb2xvcjogaXNNYWNPUyA/IFwiXCIgOiBcImF1dG9cIixcclxuICAgICAgICBzZWxlY3Rpb25Db2xvcjogXCJhdXRvXCIsXHJcbiAgICAgICAgc3R5bGVTeXN0ZW1Db250cm9sczogIWlzQ1NTQ29sb3JTY2hlbWVQcm9wU3VwcG9ydGVkLFxyXG4gICAgICAgIGxpZ2h0Q29sb3JTY2hlbWU6IFwiRGVmYXVsdFwiLFxyXG4gICAgICAgIGRhcmtDb2xvclNjaGVtZTogXCJEZWZhdWx0XCIsXHJcbiAgICAgICAgaW1tZWRpYXRlTW9kaWZ5OiBmYWxzZVxyXG4gICAgfTtcclxuICAgICh7XHJcbiAgICAgICAgc2NoZW1lVmVyc2lvbjogMCxcclxuICAgICAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgIGZldGNoTmV3czogdHJ1ZSxcclxuICAgICAgICB0aGVtZTogREVGQVVMVF9USEVNRSxcclxuICAgICAgICBwcmVzZXRzOiBbXSxcclxuICAgICAgICBjdXN0b21UaGVtZXM6IFtdLFxyXG4gICAgICAgIGVuYWJsZWRCeURlZmF1bHQ6IHRydWUsXHJcbiAgICAgICAgZW5hYmxlZEZvcjogW10sXHJcbiAgICAgICAgZGlzYWJsZWRGb3I6IFtdLFxyXG4gICAgICAgIGNoYW5nZUJyb3dzZXJUaGVtZTogZmFsc2UsXHJcbiAgICAgICAgc3luY1NldHRpbmdzOiB0cnVlLFxyXG4gICAgICAgIHN5bmNTaXRlc0ZpeGVzOiBmYWxzZSxcclxuICAgICAgICBhdXRvbWF0aW9uOiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBtb2RlOiBBdXRvbWF0aW9uTW9kZS5OT05FLFxyXG4gICAgICAgICAgICBiZWhhdmlvcjogXCJPbk9mZlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0aW1lOiB7XHJcbiAgICAgICAgICAgIGFjdGl2YXRpb246IFwiMTg6MDBcIixcclxuICAgICAgICAgICAgZGVhY3RpdmF0aW9uOiBcIjk6MDBcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbG9jYXRpb246IHtcclxuICAgICAgICAgICAgbGF0aXR1ZGU6IG51bGwsXHJcbiAgICAgICAgICAgIGxvbmdpdHVkZTogbnVsbFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcHJldmlld05ld0Rlc2lnbjogZmFsc2UsXHJcbiAgICAgICAgZW5hYmxlRm9yUERGOiB0cnVlLFxyXG4gICAgICAgIGVuYWJsZUZvclByb3RlY3RlZFBhZ2VzOiBmYWxzZSxcclxuICAgICAgICBlbmFibGVDb250ZXh0TWVudXM6IGZhbHNlLFxyXG4gICAgICAgIGRldGVjdERhcmtUaGVtZTogZmFsc2VcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGlzQXJyYXlMaWtlKGl0ZW1zKSB7XHJcbiAgICAgICAgcmV0dXJuIGl0ZW1zLmxlbmd0aCAhPSBudWxsO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZm9yRWFjaChpdGVtcywgaXRlcmF0b3IpIHtcclxuICAgICAgICB2YXIgZV8xLCBfYTtcclxuICAgICAgICBpZiAoaXNBcnJheUxpa2UoaXRlbXMpKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBpdGVtcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaXRlcmF0b3IoaXRlbXNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGZvciAoXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1zXzEgPSBfX3ZhbHVlcyhpdGVtcyksIGl0ZW1zXzFfMSA9IGl0ZW1zXzEubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICFpdGVtc18xXzEuZG9uZTtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtc18xXzEgPSBpdGVtc18xLm5leHQoKVxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBpdGVtc18xXzEudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVfMV8xKSB7XHJcbiAgICAgICAgICAgICAgICBlXzEgPSB7ZXJyb3I6IGVfMV8xfTtcclxuICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW1zXzFfMSAmJiAhaXRlbXNfMV8xLmRvbmUgJiYgKF9hID0gaXRlbXNfMS5yZXR1cm4pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5jYWxsKGl0ZW1zXzEpO1xyXG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwdXNoKGFycmF5LCBhZGRpdGlvbikge1xyXG4gICAgICAgIGZvckVhY2goYWRkaXRpb24sIGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheS5wdXNoKGEpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdG9BcnJheShpdGVtcykge1xyXG4gICAgICAgIHZhciByZXN1bHRzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGl0ZW1zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChpdGVtc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvZ0luZm8oKSB7fVxyXG4gICAgZnVuY3Rpb24gbG9nV2FybigpIHt9XHJcblxyXG4gICAgZnVuY3Rpb24gdGhyb3R0bGUoY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgcGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBmcmFtZUlkID0gbnVsbDtcclxuICAgICAgICB2YXIgbGFzdEFyZ3M7XHJcbiAgICAgICAgdmFyIHRocm90dGxlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsYXN0QXJncyA9IGFyZ3M7XHJcbiAgICAgICAgICAgIGlmIChmcmFtZUlkKSB7XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KFxyXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgMCxcclxuICAgICAgICAgICAgICAgICAgICBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQobGFzdEFyZ3MpLCBmYWxzZSlcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBmcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmcmFtZUlkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5hcHBseShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChsYXN0QXJncyksIGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBjYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGZyYW1lSWQpO1xyXG4gICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZyYW1lSWQgPSBudWxsO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24odGhyb3R0bGVkLCB7Y2FuY2VsOiBjYW5jZWx9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUFzeW5jVGFza3NRdWV1ZSgpIHtcclxuICAgICAgICB2YXIgdGFza3MgPSBbXTtcclxuICAgICAgICB2YXIgZnJhbWVJZCA9IG51bGw7XHJcbiAgICAgICAgZnVuY3Rpb24gcnVuVGFza3MoKSB7XHJcbiAgICAgICAgICAgIHZhciB0YXNrO1xyXG4gICAgICAgICAgICB3aGlsZSAoKHRhc2sgPSB0YXNrcy5zaGlmdCgpKSkge1xyXG4gICAgICAgICAgICAgICAgdGFzaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZyYW1lSWQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBhZGQodGFzaykge1xyXG4gICAgICAgICAgICB0YXNrcy5wdXNoKHRhc2spO1xyXG4gICAgICAgICAgICBpZiAoIWZyYW1lSWQpIHtcclxuICAgICAgICAgICAgICAgIGZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocnVuVGFza3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGNhbmNlbCgpIHtcclxuICAgICAgICAgICAgdGFza3Muc3BsaWNlKDApO1xyXG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShmcmFtZUlkKTtcclxuICAgICAgICAgICAgZnJhbWVJZCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7YWRkOiBhZGQsIGNhbmNlbDogY2FuY2VsfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXREdXJhdGlvbih0aW1lKSB7XHJcbiAgICAgICAgdmFyIGR1cmF0aW9uID0gMDtcclxuICAgICAgICBpZiAodGltZS5zZWNvbmRzKSB7XHJcbiAgICAgICAgICAgIGR1cmF0aW9uICs9IHRpbWUuc2Vjb25kcyAqIDEwMDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aW1lLm1pbnV0ZXMpIHtcclxuICAgICAgICAgICAgZHVyYXRpb24gKz0gdGltZS5taW51dGVzICogNjAgKiAxMDAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGltZS5ob3Vycykge1xyXG4gICAgICAgICAgICBkdXJhdGlvbiArPSB0aW1lLmhvdXJzICogNjAgKiA2MCAqIDEwMDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aW1lLmRheXMpIHtcclxuICAgICAgICAgICAgZHVyYXRpb24gKz0gdGltZS5kYXlzICogMjQgKiA2MCAqIDYwICogMTAwMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSkge1xyXG4gICAgICAgIG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlICYmIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHdhdGNoRm9yTm9kZVBvc2l0aW9uKG5vZGUsIG1vZGUsIG9uUmVzdG9yZSkge1xyXG4gICAgICAgIGlmIChvblJlc3RvcmUgPT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICBvblJlc3RvcmUgPSBGdW5jdGlvbi5wcm90b3R5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBNQVhfQVRURU1QVFNfQ09VTlQgPSAxMDtcclxuICAgICAgICB2YXIgUkVUUllfVElNRU9VVCA9IGdldER1cmF0aW9uKHtzZWNvbmRzOiAyfSk7XHJcbiAgICAgICAgdmFyIEFUVEVNUFRTX0lOVEVSVkFMID0gZ2V0RHVyYXRpb24oe3NlY29uZHM6IDEwfSk7XHJcbiAgICAgICAgdmFyIHByZXZTaWJsaW5nID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XHJcbiAgICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZTtcclxuICAgICAgICBpZiAoIXBhcmVudCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICBcIlVuYWJsZSB0byB3YXRjaCBmb3Igbm9kZSBwb3NpdGlvbjogcGFyZW50IGVsZW1lbnQgbm90IGZvdW5kXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1vZGUgPT09IFwicHJldi1zaWJsaW5nXCIgJiYgIXByZXZTaWJsaW5nKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcclxuICAgICAgICAgICAgICAgIFwiVW5hYmxlIHRvIHdhdGNoIGZvciBub2RlIHBvc2l0aW9uOiB0aGVyZSBpcyBubyBwcmV2aW91cyBzaWJsaW5nXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGF0dGVtcHRzID0gMDtcclxuICAgICAgICB2YXIgc3RhcnQgPSBudWxsO1xyXG4gICAgICAgIHZhciB0aW1lb3V0SWQgPSBudWxsO1xyXG4gICAgICAgIHZhciByZXN0b3JlID0gdGhyb3R0bGUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGltZW91dElkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXR0ZW1wdHMrKztcclxuICAgICAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGlmIChzdGFydCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IG5vdztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRlbXB0cyA+PSBNQVhfQVRURU1QVFNfQ09VTlQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChub3cgLSBzdGFydCA8IEFUVEVNUFRTX0lOVEVSVkFMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0ZW1wdHMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0SWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgUkVUUllfVElNRU9VVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc3RhcnQgPSBub3c7XHJcbiAgICAgICAgICAgICAgICBhdHRlbXB0cyA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwiaGVhZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldlNpYmxpbmcgJiYgcHJldlNpYmxpbmcucGFyZW50Tm9kZSAhPT0gcGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gXCJwcmV2LXNpYmxpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByZXZTaWJsaW5nLnBhcmVudE5vZGUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocHJldlNpYmxpbmcucGFyZW50Tm9kZSAhPT0gcGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGFyZW50KHByZXZTaWJsaW5nLnBhcmVudE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChtb2RlID09PSBcImhlYWRcIiAmJiAhcGFyZW50LmlzQ29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBkb2N1bWVudC5oZWFkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoXHJcbiAgICAgICAgICAgICAgICBub2RlLFxyXG4gICAgICAgICAgICAgICAgcHJldlNpYmxpbmcgJiYgcHJldlNpYmxpbmcuaXNDb25uZWN0ZWRcclxuICAgICAgICAgICAgICAgICAgICA/IHByZXZTaWJsaW5nLm5leHRTaWJsaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgOiBwYXJlbnQuZmlyc3RDaGlsZFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBvYnNlcnZlci50YWtlUmVjb3JkcygpO1xyXG4gICAgICAgICAgICBvblJlc3RvcmUgJiYgb25SZXN0b3JlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAobW9kZSA9PT0gXCJoZWFkXCIgJiZcclxuICAgICAgICAgICAgICAgICAgICAobm9kZS5wYXJlbnROb2RlICE9PSBwYXJlbnQgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIW5vZGUucGFyZW50Tm9kZS5pc0Nvbm5lY3RlZCkpIHx8XHJcbiAgICAgICAgICAgICAgICAobW9kZSA9PT0gXCJwcmV2LXNpYmxpbmdcIiAmJlxyXG4gICAgICAgICAgICAgICAgICAgIG5vZGUucHJldmlvdXNTaWJsaW5nICE9PSBwcmV2U2libGluZylcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICByZXN0b3JlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHBhcmVudCwge2NoaWxkTGlzdDogdHJ1ZX0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG4gICAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgICAgIHJlc3RvcmUuY2FuY2VsKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgc2tpcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIudGFrZVJlY29yZHMoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB1cGRhdGVQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnROb2RlO1xyXG4gICAgICAgICAgICBzdG9wKCk7XHJcbiAgICAgICAgICAgIHJ1bigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcnVuKCk7XHJcbiAgICAgICAgcmV0dXJuIHtydW46IHJ1biwgc3RvcDogc3RvcCwgc2tpcDogc2tpcH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpdGVyYXRlU2hhZG93SG9zdHMocm9vdCwgaXRlcmF0b3IpIHtcclxuICAgICAgICBpZiAocm9vdCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIocm9vdCwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsIHtcclxuICAgICAgICAgICAgYWNjZXB0Tm9kZTogZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBub2RlLnNoYWRvd1Jvb3QgPT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgID8gTm9kZUZpbHRlci5GSUxURVJfU0tJUFxyXG4gICAgICAgICAgICAgICAgICAgIDogTm9kZUZpbHRlci5GSUxURVJfQUNDRVBUO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZm9yIChcclxuICAgICAgICAgICAgdmFyIG5vZGUgPSByb290LnNoYWRvd1Jvb3QgPyB3YWxrZXIuY3VycmVudE5vZGUgOiB3YWxrZXIubmV4dE5vZGUoKTtcclxuICAgICAgICAgICAgbm9kZSAhPSBudWxsO1xyXG4gICAgICAgICAgICBub2RlID0gd2Fsa2VyLm5leHROb2RlKClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgaWYgKG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwic3VyZmluZ2tleXNfaGludHNfaG9zdFwiKSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaXRlcmF0b3Iobm9kZSk7XHJcbiAgICAgICAgICAgIGl0ZXJhdGVTaGFkb3dIb3N0cyhub2RlLnNoYWRvd1Jvb3QsIGl0ZXJhdG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgaXNET01SZWFkeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImNvbXBsZXRlXCIgfHxcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gXCJpbnRlcmFjdGl2ZVwiXHJcbiAgICAgICAgKTtcclxuICAgIH07XHJcbiAgICBmdW5jdGlvbiBzZXRJc0RPTVJlYWR5KG5ld0Z1bmMpIHtcclxuICAgICAgICBpc0RPTVJlYWR5ID0gbmV3RnVuYztcclxuICAgIH1cclxuICAgIHZhciByZWFkeVN0YXRlTGlzdGVuZXJzID0gbmV3IFNldCgpO1xyXG4gICAgZnVuY3Rpb24gYWRkRE9NUmVhZHlMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgICAgIGlzRE9NUmVhZHkoKSA/IGxpc3RlbmVyKCkgOiByZWFkeVN0YXRlTGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZW1vdmVET01SZWFkeUxpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgcmVhZHlTdGF0ZUxpc3RlbmVycy5kZWxldGUobGlzdGVuZXIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNSZWFkeVN0YXRlQ29tcGxldGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIjtcclxuICAgIH1cclxuICAgIHZhciByZWFkeVN0YXRlQ29tcGxldGVMaXN0ZW5lcnMgPSBuZXcgU2V0KCk7XHJcbiAgICBmdW5jdGlvbiBhZGRSZWFkeVN0YXRlQ29tcGxldGVMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgICAgIGlzUmVhZHlTdGF0ZUNvbXBsZXRlKClcclxuICAgICAgICAgICAgPyBsaXN0ZW5lcigpXHJcbiAgICAgICAgICAgIDogcmVhZHlTdGF0ZUNvbXBsZXRlTGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjbGVhblJlYWR5U3RhdGVDb21wbGV0ZUxpc3RlbmVycygpIHtcclxuICAgICAgICByZWFkeVN0YXRlQ29tcGxldGVMaXN0ZW5lcnMuY2xlYXIoKTtcclxuICAgIH1cclxuICAgIGlmICghaXNET01SZWFkeSgpKSB7XHJcbiAgICAgICAgdmFyIG9uUmVhZHlTdGF0ZUNoYW5nZV8xID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoaXNET01SZWFkeSgpKSB7XHJcbiAgICAgICAgICAgICAgICByZWFkeVN0YXRlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJlYWR5U3RhdGVMaXN0ZW5lcnMuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc1JlYWR5U3RhdGVDb21wbGV0ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyZWFkeXN0YXRlY2hhbmdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVhZHlTdGF0ZUNoYW5nZV8xXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICByZWFkeVN0YXRlQ29tcGxldGVMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZHlTdGF0ZUNvbXBsZXRlTGlzdGVuZXJzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeXN0YXRlY2hhbmdlXCIsIG9uUmVhZHlTdGF0ZUNoYW5nZV8xKTtcclxuICAgIH1cclxuICAgIHZhciBIVUdFX01VVEFUSU9OU19DT1VOVCA9IDEwMDA7XHJcbiAgICBmdW5jdGlvbiBpc0h1Z2VNdXRhdGlvbihtdXRhdGlvbnMpIHtcclxuICAgICAgICBpZiAobXV0YXRpb25zLmxlbmd0aCA+IEhVR0VfTVVUQVRJT05TX0NPVU5UKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYWRkZWROb2Rlc0NvdW50ID0gMDtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG11dGF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhZGRlZE5vZGVzQ291bnQgKz0gbXV0YXRpb25zW2ldLmFkZGVkTm9kZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAoYWRkZWROb2Rlc0NvdW50ID4gSFVHRV9NVVRBVElPTlNfQ09VTlQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRzVHJlZU9wZXJhdGlvbnMobXV0YXRpb25zKSB7XHJcbiAgICAgICAgdmFyIGFkZGl0aW9ucyA9IG5ldyBTZXQoKTtcclxuICAgICAgICB2YXIgZGVsZXRpb25zID0gbmV3IFNldCgpO1xyXG4gICAgICAgIHZhciBtb3ZlcyA9IG5ldyBTZXQoKTtcclxuICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobSkge1xyXG4gICAgICAgICAgICBmb3JFYWNoKG0uYWRkZWROb2RlcywgZnVuY3Rpb24gKG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChuIGluc3RhbmNlb2YgRWxlbWVudCAmJiBuLmlzQ29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25zLmFkZChuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGZvckVhY2gobS5yZW1vdmVkTm9kZXMsIGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobiBpbnN0YW5jZW9mIEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobi5pc0Nvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3Zlcy5hZGQobik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZGl0aW9ucy5kZWxldGUobik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRpb25zLmFkZChuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBkdXBsaWNhdGVBZGRpdGlvbnMgPSBbXTtcclxuICAgICAgICB2YXIgZHVwbGljYXRlRGVsZXRpb25zID0gW107XHJcbiAgICAgICAgYWRkaXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcclxuICAgICAgICAgICAgaWYgKGFkZGl0aW9ucy5oYXMobm9kZS5wYXJlbnRFbGVtZW50KSkge1xyXG4gICAgICAgICAgICAgICAgZHVwbGljYXRlQWRkaXRpb25zLnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBkZWxldGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICBpZiAoZGVsZXRpb25zLmhhcyhub2RlLnBhcmVudEVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVEZWxldGlvbnMucHVzaChub2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGR1cGxpY2F0ZUFkZGl0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhZGRpdGlvbnMuZGVsZXRlKG5vZGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGR1cGxpY2F0ZURlbGV0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWxldGlvbnMuZGVsZXRlKG5vZGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB7YWRkaXRpb25zOiBhZGRpdGlvbnMsIG1vdmVzOiBtb3ZlcywgZGVsZXRpb25zOiBkZWxldGlvbnN9O1xyXG4gICAgfVxyXG4gICAgdmFyIG9wdGltaXplZFRyZWVPYnNlcnZlcnMgPSBuZXcgTWFwKCk7XHJcbiAgICB2YXIgb3B0aW1pemVkVHJlZUNhbGxiYWNrcyA9IG5ldyBXZWFrTWFwKCk7XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVPcHRpbWl6ZWRUcmVlT2JzZXJ2ZXIocm9vdCwgY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgdmFyIG9ic2VydmVyO1xyXG4gICAgICAgIHZhciBvYnNlcnZlckNhbGxiYWNrcztcclxuICAgICAgICB2YXIgZG9tUmVhZHlMaXN0ZW5lcjtcclxuICAgICAgICBpZiAob3B0aW1pemVkVHJlZU9ic2VydmVycy5oYXMocm9vdCkpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBvcHRpbWl6ZWRUcmVlT2JzZXJ2ZXJzLmdldChyb290KTtcclxuICAgICAgICAgICAgb2JzZXJ2ZXJDYWxsYmFja3MgPSBvcHRpbWl6ZWRUcmVlQ2FsbGJhY2tzLmdldChvYnNlcnZlcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGhhZEh1Z2VNdXRhdGlvbnNCZWZvcmVfMSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlZEZvclJlYWR5U3RhdGVfMSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc0h1Z2VNdXRhdGlvbihtdXRhdGlvbnMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYWRIdWdlTXV0YXRpb25zQmVmb3JlXzEgfHwgaXNET01SZWFkeSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb25IdWdlTXV0YXRpb25zID0gX2Eub25IdWdlTXV0YXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uSHVnZU11dGF0aW9ucyhyb290KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghc3Vic2NyaWJlZEZvclJlYWR5U3RhdGVfMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb21SZWFkeUxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uSHVnZU11dGF0aW9ucyA9IF9hLm9uSHVnZU11dGF0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25IdWdlTXV0YXRpb25zKHJvb3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZERPTVJlYWR5TGlzdGVuZXIoZG9tUmVhZHlMaXN0ZW5lcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZWRGb3JSZWFkeVN0YXRlXzEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBoYWRIdWdlTXV0YXRpb25zQmVmb3JlXzEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHNPcGVyYXRpb25zXzEgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRFbGVtZW50c1RyZWVPcGVyYXRpb25zKG11dGF0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXJDYWxsYmFja3MuZm9yRWFjaChmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uTWlub3JNdXRhdGlvbnMgPSBfYS5vbk1pbm9yTXV0YXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25NaW5vck11dGF0aW9ucyhlbGVtZW50c09wZXJhdGlvbnNfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHJvb3QsIHtjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWV9KTtcclxuICAgICAgICAgICAgb3B0aW1pemVkVHJlZU9ic2VydmVycy5zZXQocm9vdCwgb2JzZXJ2ZXIpO1xyXG4gICAgICAgICAgICBvYnNlcnZlckNhbGxiYWNrcyA9IG5ldyBTZXQoKTtcclxuICAgICAgICAgICAgb3B0aW1pemVkVHJlZUNhbGxiYWNrcy5zZXQob2JzZXJ2ZXIsIG9ic2VydmVyQ2FsbGJhY2tzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgb2JzZXJ2ZXJDYWxsYmFja3MuYWRkKGNhbGxiYWNrcyk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGlzY29ubmVjdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXJDYWxsYmFja3MuZGVsZXRlKGNhbGxiYWNrcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9tUmVhZHlMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZURPTVJlYWR5TGlzdGVuZXIoZG9tUmVhZHlMaXN0ZW5lcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob2JzZXJ2ZXJDYWxsYmFja3Muc2l6ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpbWl6ZWRUcmVlQ2FsbGJhY2tzLmRlbGV0ZShvYnNlcnZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW1pemVkVHJlZU9ic2VydmVycy5kZWxldGUocm9vdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBhbmNob3I7XHJcbiAgICB2YXIgcGFyc2VkVVJMQ2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICBmdW5jdGlvbiBmaXhCYXNlVVJMKCR1cmwpIHtcclxuICAgICAgICBpZiAoIWFuY2hvcikge1xyXG4gICAgICAgICAgICBhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYW5jaG9yLmhyZWYgPSAkdXJsO1xyXG4gICAgICAgIHJldHVybiBhbmNob3IuaHJlZjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHBhcnNlVVJMKCR1cmwsICRiYXNlKSB7XHJcbiAgICAgICAgaWYgKCRiYXNlID09PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgJGJhc2UgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIga2V5ID0gXCJcIi5jb25jYXQoJHVybCkuY29uY2F0KCRiYXNlID8gXCI7XCIuY29uY2F0KCRiYXNlKSA6IFwiXCIpO1xyXG4gICAgICAgIGlmIChwYXJzZWRVUkxDYWNoZS5oYXMoa2V5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkVVJMQ2FjaGUuZ2V0KGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgkYmFzZSkge1xyXG4gICAgICAgICAgICB2YXIgcGFyc2VkVVJMXzEgPSBuZXcgVVJMKCR1cmwsIGZpeEJhc2VVUkwoJGJhc2UpKTtcclxuICAgICAgICAgICAgcGFyc2VkVVJMQ2FjaGUuc2V0KGtleSwgcGFyc2VkVVJMXzEpO1xyXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkVVJMXzE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwYXJzZWRVUkwgPSBuZXcgVVJMKGZpeEJhc2VVUkwoJHVybCkpO1xyXG4gICAgICAgIHBhcnNlZFVSTENhY2hlLnNldCgkdXJsLCBwYXJzZWRVUkwpO1xyXG4gICAgICAgIHJldHVybiBwYXJzZWRVUkw7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRBYnNvbHV0ZVVSTCgkYmFzZSwgJHJlbGF0aXZlKSB7XHJcbiAgICAgICAgaWYgKCRyZWxhdGl2ZS5tYXRjaCgvXmRhdGFcXFxcP1xcOi8pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkcmVsYXRpdmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgvXlxcL1xcLy8udGVzdCgkcmVsYXRpdmUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIlwiLmNvbmNhdChsb2NhdGlvbi5wcm90b2NvbCkuY29uY2F0KCRyZWxhdGl2ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBiID0gcGFyc2VVUkwoJGJhc2UpO1xyXG4gICAgICAgIHZhciBhID0gcGFyc2VVUkwoJHJlbGF0aXZlLCBiLmhyZWYpO1xyXG4gICAgICAgIHJldHVybiBhLmhyZWY7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc1JlbGF0aXZlSHJlZk9uQWJzb2x1dGVQYXRoKGhyZWYpIHtcclxuICAgICAgICBpZiAoaHJlZi5zdGFydHNXaXRoKFwiZGF0YTpcIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1cmwgPSBwYXJzZVVSTChocmVmKTtcclxuICAgICAgICBpZiAodXJsLnByb3RvY29sICE9PSBsb2NhdGlvbi5wcm90b2NvbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh1cmwuaG9zdG5hbWUgIT09IGxvY2F0aW9uLmhvc3RuYW1lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVybC5wb3J0ICE9PSBsb2NhdGlvbi5wb3J0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVybC5wYXRobmFtZSA9PT0gbG9jYXRpb24ucGF0aG5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXRlcmF0ZUNTU1J1bGVzKHJ1bGVzLCBpdGVyYXRlLCBvbk1lZGlhUnVsZUVycm9yKSB7XHJcbiAgICAgICAgZm9yRWFjaChydWxlcywgZnVuY3Rpb24gKHJ1bGUpIHtcclxuICAgICAgICAgICAgaWYgKHJ1bGUuc2VsZWN0b3JUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBpdGVyYXRlKHJ1bGUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJ1bGUuaHJlZikge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVyYXRlQ1NTUnVsZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUuc3R5bGVTaGVldC5jc3NSdWxlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25NZWRpYVJ1bGVFcnJvclxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2dJbmZvKFwiRm91bmQgYSBub24tbG9hZGVkIGxpbmsuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9uTWVkaWFSdWxlRXJyb3IgJiYgb25NZWRpYVJ1bGVFcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJ1bGUubWVkaWEpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtZWRpYSA9IEFycmF5LmZyb20ocnVsZS5tZWRpYSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNTY3JlZW5PckFsbE9yUXVlcnkgPSBtZWRpYS5zb21lKGZ1bmN0aW9uIChtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgbS5zdGFydHNXaXRoKFwic2NyZWVuXCIpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG0uc3RhcnRzV2l0aChcImFsbFwiKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtLnN0YXJ0c1dpdGgoXCIoXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzUHJpbnRPclNwZWVjaCA9IG1lZGlhLnNvbWUoZnVuY3Rpb24gKG0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5zdGFydHNXaXRoKFwicHJpbnRcIikgfHwgbS5zdGFydHNXaXRoKFwic3BlZWNoXCIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNTY3JlZW5PckFsbE9yUXVlcnkgfHwgIWlzUHJpbnRPclNwZWVjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdGVDU1NSdWxlcyhydWxlLmNzc1J1bGVzLCBpdGVyYXRlLCBvbk1lZGlhUnVsZUVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChydWxlLmNvbmRpdGlvblRleHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChDU1Muc3VwcG9ydHMocnVsZS5jb25kaXRpb25UZXh0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdGVDU1NSdWxlcyhydWxlLmNzc1J1bGVzLCBpdGVyYXRlLCBvbk1lZGlhUnVsZUVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxvZ1dhcm4oXCJDU1NSdWxlIHR5cGUgbm90IHN1cHBvcnRlZFwiLCBydWxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdmFyIHNob3J0aGFuZFZhckRlcGVuZGFudFByb3BlcnRpZXMgPSBbXHJcbiAgICAgICAgXCJiYWNrZ3JvdW5kXCIsXHJcbiAgICAgICAgXCJib3JkZXJcIixcclxuICAgICAgICBcImJvcmRlci1jb2xvclwiLFxyXG4gICAgICAgIFwiYm9yZGVyLWJvdHRvbVwiLFxyXG4gICAgICAgIFwiYm9yZGVyLWxlZnRcIixcclxuICAgICAgICBcImJvcmRlci1yaWdodFwiLFxyXG4gICAgICAgIFwiYm9yZGVyLXRvcFwiLFxyXG4gICAgICAgIFwib3V0bGluZVwiLFxyXG4gICAgICAgIFwib3V0bGluZS1jb2xvclwiXHJcbiAgICBdO1xyXG4gICAgdmFyIHNob3J0aGFuZFZhckRlcFByb3BSZWdleHBzID0gaXNTYWZhcmlcclxuICAgICAgICA/IHNob3J0aGFuZFZhckRlcGVuZGFudFByb3BlcnRpZXMubWFwKGZ1bmN0aW9uIChwcm9wKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHJlZ2V4cCA9IG5ldyBSZWdFeHAoXCJcIi5jb25jYXQocHJvcCwgXCI6XFxcXHMqKC4qPylcXFxccyo7XCIpKTtcclxuICAgICAgICAgICAgICByZXR1cm4gW3Byb3AsIHJlZ2V4cF07XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIDogbnVsbDtcclxuICAgIGZ1bmN0aW9uIGl0ZXJhdGVDU1NEZWNsYXJhdGlvbnMoc3R5bGUsIGl0ZXJhdGUpIHtcclxuICAgICAgICBmb3JFYWNoKHN0eWxlLCBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSkudHJpbSgpO1xyXG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaXRlcmF0ZShwcm9wZXJ0eSwgdmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBjc3NUZXh0ID0gc3R5bGUuY3NzVGV4dDtcclxuICAgICAgICBpZiAoY3NzVGV4dC5pbmNsdWRlcyhcInZhcihcIikpIHtcclxuICAgICAgICAgICAgaWYgKGlzU2FmYXJpKSB7XHJcbiAgICAgICAgICAgICAgICBzaG9ydGhhbmRWYXJEZXBQcm9wUmVnZXhwcy5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfYiA9IF9fcmVhZChfYSwgMiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3AgPSBfYlswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhwID0gX2JbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gY3NzVGV4dC5tYXRjaChyZWdleHApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCAmJiBtYXRjaFsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gbWF0Y2hbMV0udHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVyYXRlKHByb3AsIHZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzaG9ydGhhbmRWYXJEZXBlbmRhbnRQcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShwcm9wKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsICYmIHZhbC5pbmNsdWRlcyhcInZhcihcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0ZShwcm9wLCB2YWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGNzc1VSTFJlZ2V4ID0gL3VybFxcKCgoJy4qPycpfChcIi4qP1wiKXwoW15cXCldKj8pKVxcKS9nO1xyXG4gICAgdmFyIGNzc0ltcG9ydFJlZ2V4ID1cclxuICAgICAgICAvQGltcG9ydFxccyoodXJsXFwoKT8oKCcuKz8nKXwoXCIuKz9cIil8KFteXFwpXSo/KSlcXCk/ID8oc2NyZWVuKT87Py9naTtcclxuICAgIGZ1bmN0aW9uIGdldENTU1VSTFZhbHVlKGNzc1VSTCkge1xyXG4gICAgICAgIHJldHVybiBjc3NVUkxcclxuICAgICAgICAgICAgLnRyaW0oKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvW1xcblxcclxcXFxdKy9nLCBcIlwiKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvXnVybFxcKCguKilcXCkkLywgXCIkMVwiKVxyXG4gICAgICAgICAgICAudHJpbSgpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eXCIoLiopXCIkLywgXCIkMVwiKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvXicoLiopJyQvLCBcIiQxXCIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oPzpcXFxcKC4pKS9nLCBcIiQxXCIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0Q1NTQmFzZUJhdGgodXJsKSB7XHJcbiAgICAgICAgdmFyIGNzc1VSTCA9IHBhcnNlVVJMKHVybCk7XHJcbiAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgICAgICAgICAgLmNvbmNhdChjc3NVUkwub3JpZ2luKVxyXG4gICAgICAgICAgICAuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgY3NzVVJMLnBhdGhuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhcXC8pKFteXFwvXSspJC9pLCBcIiQxXCIpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXBsYWNlQ1NTUmVsYXRpdmVVUkxzV2l0aEFic29sdXRlKCRjc3MsIGNzc0Jhc2VQYXRoKSB7XHJcbiAgICAgICAgcmV0dXJuICRjc3MucmVwbGFjZShjc3NVUkxSZWdleCwgZnVuY3Rpb24gKG1hdGNoKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXRoVmFsdWUgPSBnZXRDU1NVUkxWYWx1ZShtYXRjaCk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ1cmwoJ1wiLmNvbmNhdChcclxuICAgICAgICAgICAgICAgICAgICBnZXRBYnNvbHV0ZVVSTChjc3NCYXNlUGF0aCwgcGF0aFZhbHVlKSxcclxuICAgICAgICAgICAgICAgICAgICBcIicpXCJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB2YXIgY3NzQ29tbWVudHNSZWdleCA9IC9cXC9cXCpbXFxzXFxTXSo/XFwqXFwvL2c7XHJcbiAgICBmdW5jdGlvbiByZW1vdmVDU1NDb21tZW50cygkY3NzKSB7XHJcbiAgICAgICAgcmV0dXJuICRjc3MucmVwbGFjZShjc3NDb21tZW50c1JlZ2V4LCBcIlwiKTtcclxuICAgIH1cclxuICAgIHZhciBmb250RmFjZVJlZ2V4ID0gL0Bmb250LWZhY2VcXHMqe1tefV0qfS9nO1xyXG4gICAgZnVuY3Rpb24gcmVwbGFjZUNTU0ZvbnRGYWNlKCRjc3MpIHtcclxuICAgICAgICByZXR1cm4gJGNzcy5yZXBsYWNlKGZvbnRGYWNlUmVnZXgsIFwiXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGV2YWxNYXRoKGV4cHJlc3Npb24pIHtcclxuICAgICAgICB2YXIgcnBuU3RhY2sgPSBbXTtcclxuICAgICAgICB2YXIgd29ya2luZ1N0YWNrID0gW107XHJcbiAgICAgICAgdmFyIGxhc3RUb2tlbjtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZXhwcmVzc2lvbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSBleHByZXNzaW9uW2ldO1xyXG4gICAgICAgICAgICBpZiAoIXRva2VuIHx8IHRva2VuID09PSBcIiBcIikge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9wZXJhdG9ycy5oYXModG9rZW4pKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3AgPSBvcGVyYXRvcnMuZ2V0KHRva2VuKTtcclxuICAgICAgICAgICAgICAgIHdoaWxlICh3b3JraW5nU3RhY2subGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRPcCA9IG9wZXJhdG9ycy5nZXQod29ya2luZ1N0YWNrWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRPcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wLmxlc3NPckVxdWFsVGhhbihjdXJyZW50T3ApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJwblN0YWNrLnB1c2god29ya2luZ1N0YWNrLnNoaWZ0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHdvcmtpbmdTdGFjay51bnNoaWZ0KHRva2VuKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghbGFzdFRva2VuIHx8IG9wZXJhdG9ycy5oYXMobGFzdFRva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgcnBuU3RhY2sucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBycG5TdGFja1tycG5TdGFjay5sZW5ndGggLSAxXSArPSB0b2tlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsYXN0VG9rZW4gPSB0b2tlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcnBuU3RhY2sucHVzaC5hcHBseShcclxuICAgICAgICAgICAgcnBuU3RhY2ssXHJcbiAgICAgICAgICAgIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZCh3b3JraW5nU3RhY2spLCBmYWxzZSlcclxuICAgICAgICApO1xyXG4gICAgICAgIHZhciBzdGFjayA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBycG5TdGFjay5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgb3AgPSBvcGVyYXRvcnMuZ2V0KHJwblN0YWNrW2ldKTtcclxuICAgICAgICAgICAgaWYgKG9wKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IHN0YWNrLnNwbGljZSgwLCAyKTtcclxuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2gob3AuZXhlYyhhcmdzWzFdLCBhcmdzWzBdKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdGFjay51bnNoaWZ0KHBhcnNlRmxvYXQocnBuU3RhY2tbaV0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RhY2tbMF07XHJcbiAgICB9XHJcbiAgICB2YXIgT3BlcmF0b3IgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIE9wZXJhdG9yKHByZWNlZGVuY2UsIG1ldGhvZCkge1xyXG4gICAgICAgICAgICB0aGlzLnByZWNlbmRjZSA9IHByZWNlZGVuY2U7XHJcbiAgICAgICAgICAgIHRoaXMuZXhlY01ldGhvZCA9IG1ldGhvZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgT3BlcmF0b3IucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbiAobGVmdCwgcmlnaHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXhlY01ldGhvZChsZWZ0LCByaWdodCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBPcGVyYXRvci5wcm90b3R5cGUubGVzc09yRXF1YWxUaGFuID0gZnVuY3Rpb24gKG9wKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWNlbmRjZSA8PSBvcC5wcmVjZW5kY2U7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gT3BlcmF0b3I7XHJcbiAgICB9KSgpO1xyXG4gICAgdmFyIG9wZXJhdG9ycyA9IG5ldyBNYXAoW1xyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgXCIrXCIsXHJcbiAgICAgICAgICAgIG5ldyBPcGVyYXRvcigxLCBmdW5jdGlvbiAobGVmdCwgcmlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0ICsgcmlnaHQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgXSxcclxuICAgICAgICBbXHJcbiAgICAgICAgICAgIFwiLVwiLFxyXG4gICAgICAgICAgICBuZXcgT3BlcmF0b3IoMSwgZnVuY3Rpb24gKGxlZnQsIHJpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdCAtIHJpZ2h0O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgICBcIipcIixcclxuICAgICAgICAgICAgbmV3IE9wZXJhdG9yKDIsIGZ1bmN0aW9uIChsZWZ0LCByaWdodCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnQgKiByaWdodDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBdLFxyXG4gICAgICAgIFtcclxuICAgICAgICAgICAgXCIvXCIsXHJcbiAgICAgICAgICAgIG5ldyBPcGVyYXRvcigyLCBmdW5jdGlvbiAobGVmdCwgcmlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0IC8gcmlnaHQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgXVxyXG4gICAgXSk7XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TWF0Y2hlcyhyZWdleCwgaW5wdXQsIGdyb3VwKSB7XHJcbiAgICAgICAgaWYgKGdyb3VwID09PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgZ3JvdXAgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xyXG4gICAgICAgIHZhciBtO1xyXG4gICAgICAgIHdoaWxlICgobSA9IHJlZ2V4LmV4ZWMoaW5wdXQpKSkge1xyXG4gICAgICAgICAgICBtYXRjaGVzLnB1c2gobVtncm91cF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWF0Y2hlcztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGZvcm1hdENTUyh0ZXh0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gdHJpbUxlZnQodGV4dCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9eXFxzKy8sIFwiXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRJbmRlbnQoZGVwdGgpIHtcclxuICAgICAgICAgICAgaWYgKGRlcHRoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gXCIgXCIucmVwZWF0KDQgKiBkZXB0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA8IDUwMDAwKSB7XHJcbiAgICAgICAgICAgIHZhciBlbXB0eVJ1bGVSZWdleHAgPSAvW157fV0re1xccyp9LztcclxuICAgICAgICAgICAgd2hpbGUgKGVtcHR5UnVsZVJlZ2V4cC50ZXN0KHRleHQpKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKGVtcHR5UnVsZVJlZ2V4cCwgXCJcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNzcyA9IHRleHRcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcc3syLH0vZywgXCIgXCIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHsvZywgXCJ7XFxuXCIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXH0vZywgXCJcXG59XFxuXCIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXDsoPyFbXlxcKHxcXFwiXSooXFwpfFxcXCIpKS9nLCBcIjtcXG5cIilcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcLCg/IVteXFwofFxcXCJdKihcXCl8XFxcIikpL2csIFwiLFxcblwiKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxuXFxzKlxcbi9nLCBcIlxcblwiKVxyXG4gICAgICAgICAgICAuc3BsaXQoXCJcXG5cIik7XHJcbiAgICAgICAgdmFyIGRlcHRoID0gMDtcclxuICAgICAgICB2YXIgZm9ybWF0dGVkID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgeCA9IDAsIGxlbiA9IGNzcy5sZW5ndGg7IHggPCBsZW47IHgrKykge1xyXG4gICAgICAgICAgICB2YXIgbGluZSA9IFwiXCIuY29uY2F0KGNzc1t4XSwgXCJcXG5cIik7XHJcbiAgICAgICAgICAgIGlmIChsaW5lLmluY2x1ZGVzKFwie1wiKSkge1xyXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkLnB1c2goZ2V0SW5kZW50KGRlcHRoKyspICsgdHJpbUxlZnQobGluZSkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUuaW5jbHVkZXMoXCJ9XCIpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWQucHVzaChnZXRJbmRlbnQoLS1kZXB0aCkgKyB0cmltTGVmdChsaW5lKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWQucHVzaChnZXRJbmRlbnQoZGVwdGgpICsgdHJpbUxlZnQobGluZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb3JtYXR0ZWQuam9pbihcIlwiKS50cmltKCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRQYXJlbnRoZXNlc1JhbmdlKGlucHV0LCBzZWFyY2hTdGFydEluZGV4KSB7XHJcbiAgICAgICAgaWYgKHNlYXJjaFN0YXJ0SW5kZXggPT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICBzZWFyY2hTdGFydEluZGV4ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICB2YXIgZGVwdGggPSAwO1xyXG4gICAgICAgIHZhciBmaXJzdE9wZW5JbmRleCA9IC0xO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSBzZWFyY2hTdGFydEluZGV4OyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGRlcHRoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3BlbkluZGV4ID0gaW5wdXQuaW5kZXhPZihcIihcIiwgaSk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3BlbkluZGV4IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZmlyc3RPcGVuSW5kZXggPSBvcGVuSW5kZXg7XHJcbiAgICAgICAgICAgICAgICBkZXB0aCsrO1xyXG4gICAgICAgICAgICAgICAgaSA9IG9wZW5JbmRleDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBjbG9zaW5nSW5kZXggPSBpbnB1dC5pbmRleE9mKFwiKVwiLCBpKTtcclxuICAgICAgICAgICAgICAgIGlmIChjbG9zaW5nSW5kZXggPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgb3BlbkluZGV4ID0gaW5wdXQuaW5kZXhPZihcIihcIiwgaSk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3BlbkluZGV4IDwgMCB8fCBjbG9zaW5nSW5kZXggPCBvcGVuSW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXB0aC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3N0YXJ0OiBmaXJzdE9wZW5JbmRleCwgZW5kOiBjbG9zaW5nSW5kZXggKyAxfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaSA9IGNsb3NpbmdJbmRleDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVwdGgrKztcclxuICAgICAgICAgICAgICAgICAgICBpID0gb3BlbkluZGV4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBoc2xhUGFyc2VDYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgIHZhciByZ2JhUGFyc2VDYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgIGZ1bmN0aW9uIHBhcnNlQ29sb3JXaXRoQ2FjaGUoJGNvbG9yKSB7XHJcbiAgICAgICAgJGNvbG9yID0gJGNvbG9yLnRyaW0oKTtcclxuICAgICAgICBpZiAocmdiYVBhcnNlQ2FjaGUuaGFzKCRjb2xvcikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJnYmFQYXJzZUNhY2hlLmdldCgkY29sb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJGNvbG9yLmluY2x1ZGVzKFwiY2FsYyhcIikpIHtcclxuICAgICAgICAgICAgJGNvbG9yID0gbG93ZXJDYWxjRXhwcmVzc2lvbigkY29sb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY29sb3IgPSBwYXJzZSgkY29sb3IpO1xyXG4gICAgICAgIGNvbG9yICYmIHJnYmFQYXJzZUNhY2hlLnNldCgkY29sb3IsIGNvbG9yKTtcclxuICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBwYXJzZVRvSFNMV2l0aENhY2hlKGNvbG9yKSB7XHJcbiAgICAgICAgaWYgKGhzbGFQYXJzZUNhY2hlLmhhcyhjb2xvcikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhzbGFQYXJzZUNhY2hlLmdldChjb2xvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZ2IgPSBwYXJzZUNvbG9yV2l0aENhY2hlKGNvbG9yKTtcclxuICAgICAgICBpZiAoIXJnYikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhzbCA9IHJnYlRvSFNMKHJnYik7XHJcbiAgICAgICAgaHNsYVBhcnNlQ2FjaGUuc2V0KGNvbG9yLCBoc2wpO1xyXG4gICAgICAgIHJldHVybiBoc2w7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjbGVhckNvbG9yQ2FjaGUoKSB7XHJcbiAgICAgICAgaHNsYVBhcnNlQ2FjaGUuY2xlYXIoKTtcclxuICAgICAgICByZ2JhUGFyc2VDYWNoZS5jbGVhcigpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaHNsVG9SR0IoX2EpIHtcclxuICAgICAgICB2YXIgaCA9IF9hLmgsXHJcbiAgICAgICAgICAgIHMgPSBfYS5zLFxyXG4gICAgICAgICAgICBsID0gX2EubCxcclxuICAgICAgICAgICAgX2IgPSBfYS5hLFxyXG4gICAgICAgICAgICBhID0gX2IgPT09IHZvaWQgMCA/IDEgOiBfYjtcclxuICAgICAgICBpZiAocyA9PT0gMCkge1xyXG4gICAgICAgICAgICB2YXIgX2MgPSBfX3JlYWQoXHJcbiAgICAgICAgICAgICAgICAgICAgW2wsIGwsIGxdLm1hcChmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh4ICogMjU1KTtcclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICAzXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgcl8xID0gX2NbMF0sXHJcbiAgICAgICAgICAgICAgICBiXzEgPSBfY1sxXSxcclxuICAgICAgICAgICAgICAgIGdfMSA9IF9jWzJdO1xyXG4gICAgICAgICAgICByZXR1cm4ge3I6IHJfMSwgZzogZ18xLCBiOiBiXzEsIGE6IGF9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYyA9ICgxIC0gTWF0aC5hYnMoMiAqIGwgLSAxKSkgKiBzO1xyXG4gICAgICAgIHZhciB4ID0gYyAqICgxIC0gTWF0aC5hYnMoKChoIC8gNjApICUgMikgLSAxKSk7XHJcbiAgICAgICAgdmFyIG0gPSBsIC0gYyAvIDI7XHJcbiAgICAgICAgdmFyIF9kID0gX19yZWFkKFxyXG4gICAgICAgICAgICAgICAgKGggPCA2MFxyXG4gICAgICAgICAgICAgICAgICAgID8gW2MsIHgsIDBdXHJcbiAgICAgICAgICAgICAgICAgICAgOiBoIDwgMTIwXHJcbiAgICAgICAgICAgICAgICAgICAgICA/IFt4LCBjLCAwXVxyXG4gICAgICAgICAgICAgICAgICAgICAgOiBoIDwgMTgwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gWzAsIGMsIHhdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaCA8IDI0MFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gWzAsIHgsIGNdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBoIDwgMzAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFt4LCAwLCBjXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBbYywgMCwgeF1cclxuICAgICAgICAgICAgICAgICkubWFwKGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKG4gKyBtKSAqIDI1NSk7XHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgIDNcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgciA9IF9kWzBdLFxyXG4gICAgICAgICAgICBnID0gX2RbMV0sXHJcbiAgICAgICAgICAgIGIgPSBfZFsyXTtcclxuICAgICAgICByZXR1cm4ge3I6IHIsIGc6IGcsIGI6IGIsIGE6IGF9O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmdiVG9IU0woX2EpIHtcclxuICAgICAgICB2YXIgcjI1NSA9IF9hLnIsXHJcbiAgICAgICAgICAgIGcyNTUgPSBfYS5nLFxyXG4gICAgICAgICAgICBiMjU1ID0gX2EuYixcclxuICAgICAgICAgICAgX2IgPSBfYS5hLFxyXG4gICAgICAgICAgICBhID0gX2IgPT09IHZvaWQgMCA/IDEgOiBfYjtcclxuICAgICAgICB2YXIgciA9IHIyNTUgLyAyNTU7XHJcbiAgICAgICAgdmFyIGcgPSBnMjU1IC8gMjU1O1xyXG4gICAgICAgIHZhciBiID0gYjI1NSAvIDI1NTtcclxuICAgICAgICB2YXIgbWF4ID0gTWF0aC5tYXgociwgZywgYik7XHJcbiAgICAgICAgdmFyIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xyXG4gICAgICAgIHZhciBjID0gbWF4IC0gbWluO1xyXG4gICAgICAgIHZhciBsID0gKG1heCArIG1pbikgLyAyO1xyXG4gICAgICAgIGlmIChjID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7aDogMCwgczogMCwgbDogbCwgYTogYX07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBoID1cclxuICAgICAgICAgICAgKG1heCA9PT0gclxyXG4gICAgICAgICAgICAgICAgPyAoKGcgLSBiKSAvIGMpICUgNlxyXG4gICAgICAgICAgICAgICAgOiBtYXggPT09IGdcclxuICAgICAgICAgICAgICAgICAgPyAoYiAtIHIpIC8gYyArIDJcclxuICAgICAgICAgICAgICAgICAgOiAociAtIGcpIC8gYyArIDQpICogNjA7XHJcbiAgICAgICAgaWYgKGggPCAwKSB7XHJcbiAgICAgICAgICAgIGggKz0gMzYwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcyA9IGMgLyAoMSAtIE1hdGguYWJzKDIgKiBsIC0gMSkpO1xyXG4gICAgICAgIHJldHVybiB7aDogaCwgczogcywgbDogbCwgYTogYX07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB0b0ZpeGVkKG4sIGRpZ2l0cykge1xyXG4gICAgICAgIGlmIChkaWdpdHMgPT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICBkaWdpdHMgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZml4ZWQgPSBuLnRvRml4ZWQoZGlnaXRzKTtcclxuICAgICAgICBpZiAoZGlnaXRzID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmaXhlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRvdCA9IGZpeGVkLmluZGV4T2YoXCIuXCIpO1xyXG4gICAgICAgIGlmIChkb3QgPj0gMCkge1xyXG4gICAgICAgICAgICB2YXIgemVyb3NNYXRjaCA9IGZpeGVkLm1hdGNoKC8wKyQvKTtcclxuICAgICAgICAgICAgaWYgKHplcm9zTWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIGlmICh6ZXJvc01hdGNoLmluZGV4ID09PSBkb3QgKyAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpeGVkLnN1YnN0cmluZygwLCBkb3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpeGVkLnN1YnN0cmluZygwLCB6ZXJvc01hdGNoLmluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZml4ZWQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZ2JUb1N0cmluZyhyZ2IpIHtcclxuICAgICAgICB2YXIgciA9IHJnYi5yLFxyXG4gICAgICAgICAgICBnID0gcmdiLmcsXHJcbiAgICAgICAgICAgIGIgPSByZ2IuYixcclxuICAgICAgICAgICAgYSA9IHJnYi5hO1xyXG4gICAgICAgIGlmIChhICE9IG51bGwgJiYgYSA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwicmdiYShcIlxyXG4gICAgICAgICAgICAgICAgLmNvbmNhdCh0b0ZpeGVkKHIpLCBcIiwgXCIpXHJcbiAgICAgICAgICAgICAgICAuY29uY2F0KHRvRml4ZWQoZyksIFwiLCBcIilcclxuICAgICAgICAgICAgICAgIC5jb25jYXQodG9GaXhlZChiKSwgXCIsIFwiKVxyXG4gICAgICAgICAgICAgICAgLmNvbmNhdCh0b0ZpeGVkKGEsIDIpLCBcIilcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcInJnYihcIlxyXG4gICAgICAgICAgICAuY29uY2F0KHRvRml4ZWQociksIFwiLCBcIilcclxuICAgICAgICAgICAgLmNvbmNhdCh0b0ZpeGVkKGcpLCBcIiwgXCIpXHJcbiAgICAgICAgICAgIC5jb25jYXQodG9GaXhlZChiKSwgXCIpXCIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmdiVG9IZXhTdHJpbmcoX2EpIHtcclxuICAgICAgICB2YXIgciA9IF9hLnIsXHJcbiAgICAgICAgICAgIGcgPSBfYS5nLFxyXG4gICAgICAgICAgICBiID0gX2EuYixcclxuICAgICAgICAgICAgYSA9IF9hLmE7XHJcbiAgICAgICAgcmV0dXJuIFwiI1wiLmNvbmNhdChcclxuICAgICAgICAgICAgKGEgIT0gbnVsbCAmJiBhIDwgMSA/IFtyLCBnLCBiLCBNYXRoLnJvdW5kKGEgKiAyNTUpXSA6IFtyLCBnLCBiXSlcclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoeCA8IDE2ID8gXCIwXCIgOiBcIlwiKS5jb25jYXQoeC50b1N0cmluZygxNikpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5qb2luKFwiXCIpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGhzbFRvU3RyaW5nKGhzbCkge1xyXG4gICAgICAgIHZhciBoID0gaHNsLmgsXHJcbiAgICAgICAgICAgIHMgPSBoc2wucyxcclxuICAgICAgICAgICAgbCA9IGhzbC5sLFxyXG4gICAgICAgICAgICBhID0gaHNsLmE7XHJcbiAgICAgICAgaWYgKGEgIT0gbnVsbCAmJiBhIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJoc2xhKFwiXHJcbiAgICAgICAgICAgICAgICAuY29uY2F0KHRvRml4ZWQoaCksIFwiLCBcIilcclxuICAgICAgICAgICAgICAgIC5jb25jYXQodG9GaXhlZChzICogMTAwKSwgXCIlLCBcIilcclxuICAgICAgICAgICAgICAgIC5jb25jYXQodG9GaXhlZChsICogMTAwKSwgXCIlLCBcIilcclxuICAgICAgICAgICAgICAgIC5jb25jYXQodG9GaXhlZChhLCAyKSwgXCIpXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCJoc2woXCJcclxuICAgICAgICAgICAgLmNvbmNhdCh0b0ZpeGVkKGgpLCBcIiwgXCIpXHJcbiAgICAgICAgICAgIC5jb25jYXQodG9GaXhlZChzICogMTAwKSwgXCIlLCBcIilcclxuICAgICAgICAgICAgLmNvbmNhdCh0b0ZpeGVkKGwgKiAxMDApLCBcIiUpXCIpO1xyXG4gICAgfVxyXG4gICAgdmFyIHJnYk1hdGNoID0gL15yZ2JhP1xcKFteXFwoXFwpXStcXCkkLztcclxuICAgIHZhciBoc2xNYXRjaCA9IC9eaHNsYT9cXChbXlxcKFxcKV0rXFwpJC87XHJcbiAgICB2YXIgaGV4TWF0Y2ggPSAvXiNbMC05YS1mXSskL2k7XHJcbiAgICBmdW5jdGlvbiBwYXJzZSgkY29sb3IpIHtcclxuICAgICAgICB2YXIgYyA9ICRjb2xvci50cmltKCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBpZiAoYy5tYXRjaChyZ2JNYXRjaCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUkdCKGMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYy5tYXRjaChoc2xNYXRjaCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSFNMKGMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYy5tYXRjaChoZXhNYXRjaCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSGV4KGMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoa25vd25Db2xvcnMuaGFzKGMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXRDb2xvckJ5TmFtZShjKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN5c3RlbUNvbG9ycy5oYXMoYykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldFN5c3RlbUNvbG9yKGMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJGNvbG9yID09PSBcInRyYW5zcGFyZW50XCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtyOiAwLCBnOiAwLCBiOiAwLCBhOiAwfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXROdW1iZXJzKCRjb2xvcikge1xyXG4gICAgICAgIHZhciBudW1iZXJzID0gW107XHJcbiAgICAgICAgdmFyIHByZXZQb3MgPSAwO1xyXG4gICAgICAgIHZhciBpc01pbmluZyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBzdGFydEluZGV4ID0gJGNvbG9yLmluZGV4T2YoXCIoXCIpO1xyXG4gICAgICAgICRjb2xvciA9ICRjb2xvci5zdWJzdHJpbmcoc3RhcnRJbmRleCArIDEsICRjb2xvci5sZW5ndGggLSAxKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRjb2xvci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYyA9ICRjb2xvcltpXTtcclxuICAgICAgICAgICAgaWYgKChjID49IFwiMFwiICYmIGMgPD0gXCI5XCIpIHx8IGMgPT09IFwiLlwiIHx8IGMgPT09IFwiK1wiIHx8IGMgPT09IFwiLVwiKSB7XHJcbiAgICAgICAgICAgICAgICBpc01pbmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNNaW5pbmcgJiYgKGMgPT09IFwiIFwiIHx8IGMgPT09IFwiLFwiIHx8IGMgPT09IFwiL1wiKSkge1xyXG4gICAgICAgICAgICAgICAgbnVtYmVycy5wdXNoKCRjb2xvci5zdWJzdHJpbmcocHJldlBvcywgaSkpO1xyXG4gICAgICAgICAgICAgICAgaXNNaW5pbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHByZXZQb3MgPSBpICsgMTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNNaW5pbmcpIHtcclxuICAgICAgICAgICAgICAgIHByZXZQb3MgPSBpICsgMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNNaW5pbmcpIHtcclxuICAgICAgICAgICAgbnVtYmVycy5wdXNoKCRjb2xvci5zdWJzdHJpbmcocHJldlBvcywgJGNvbG9yLmxlbmd0aCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVtYmVycztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldE51bWJlcnNGcm9tU3RyaW5nKHN0ciwgcmFuZ2UsIHVuaXRzKSB7XHJcbiAgICAgICAgdmFyIHJhdyA9IGdldE51bWJlcnMoc3RyKTtcclxuICAgICAgICB2YXIgdW5pdHNMaXN0ID0gT2JqZWN0LmVudHJpZXModW5pdHMpO1xyXG4gICAgICAgIHZhciBudW1iZXJzID0gcmF3XHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByLnRyaW0oKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAociwgaSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG47XHJcbiAgICAgICAgICAgICAgICB2YXIgdW5pdCA9IHVuaXRzTGlzdC5maW5kKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfYiA9IF9fcmVhZChfYSwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBfYlswXTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gci5lbmRzV2l0aCh1KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVuaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBuID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgKHBhcnNlRmxvYXQoci5zdWJzdHJpbmcoMCwgci5sZW5ndGggLSB1bml0WzBdLmxlbmd0aCkpIC9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuaXRbMV0pICpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2VbaV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIG4gPSBwYXJzZUZsb2F0KHIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlW2ldID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG47XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBudW1iZXJzO1xyXG4gICAgfVxyXG4gICAgdmFyIHJnYlJhbmdlID0gWzI1NSwgMjU1LCAyNTUsIDFdO1xyXG4gICAgdmFyIHJnYlVuaXRzID0ge1wiJVwiOiAxMDB9O1xyXG4gICAgZnVuY3Rpb24gcGFyc2VSR0IoJHJnYikge1xyXG4gICAgICAgIHZhciBfYSA9IF9fcmVhZChnZXROdW1iZXJzRnJvbVN0cmluZygkcmdiLCByZ2JSYW5nZSwgcmdiVW5pdHMpLCA0KSxcclxuICAgICAgICAgICAgciA9IF9hWzBdLFxyXG4gICAgICAgICAgICBnID0gX2FbMV0sXHJcbiAgICAgICAgICAgIGIgPSBfYVsyXSxcclxuICAgICAgICAgICAgX2IgPSBfYVszXSxcclxuICAgICAgICAgICAgYSA9IF9iID09PSB2b2lkIDAgPyAxIDogX2I7XHJcbiAgICAgICAgcmV0dXJuIHtyOiByLCBnOiBnLCBiOiBiLCBhOiBhfTtcclxuICAgIH1cclxuICAgIHZhciBoc2xSYW5nZSA9IFszNjAsIDEsIDEsIDFdO1xyXG4gICAgdmFyIGhzbFVuaXRzID0ge1wiJVwiOiAxMDAsIFwiZGVnXCI6IDM2MCwgXCJyYWRcIjogMiAqIE1hdGguUEksIFwidHVyblwiOiAxfTtcclxuICAgIGZ1bmN0aW9uIHBhcnNlSFNMKCRoc2wpIHtcclxuICAgICAgICB2YXIgX2EgPSBfX3JlYWQoZ2V0TnVtYmVyc0Zyb21TdHJpbmcoJGhzbCwgaHNsUmFuZ2UsIGhzbFVuaXRzKSwgNCksXHJcbiAgICAgICAgICAgIGggPSBfYVswXSxcclxuICAgICAgICAgICAgcyA9IF9hWzFdLFxyXG4gICAgICAgICAgICBsID0gX2FbMl0sXHJcbiAgICAgICAgICAgIF9iID0gX2FbM10sXHJcbiAgICAgICAgICAgIGEgPSBfYiA9PT0gdm9pZCAwID8gMSA6IF9iO1xyXG4gICAgICAgIHJldHVybiBoc2xUb1JHQih7aDogaCwgczogcywgbDogbCwgYTogYX0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcGFyc2VIZXgoJGhleCkge1xyXG4gICAgICAgIHZhciBoID0gJGhleC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgc3dpdGNoIChoLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgIGNhc2UgNDoge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoXCJcIi5jb25jYXQoaFtpXSkuY29uY2F0KGhbaV0pLCAxNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAzXHJcbiAgICAgICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgICAgICByID0gX2FbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgZyA9IF9hWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIGIgPSBfYVsyXTtcclxuICAgICAgICAgICAgICAgIHZhciBhID1cclxuICAgICAgICAgICAgICAgICAgICBoLmxlbmd0aCA9PT0gM1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiBwYXJzZUludChcIlwiLmNvbmNhdChoWzNdKS5jb25jYXQoaFszXSksIDE2KSAvIDI1NTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7cjogciwgZzogZywgYjogYiwgYTogYX07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICBjYXNlIDg6IHtcclxuICAgICAgICAgICAgICAgIHZhciBfYiA9IF9fcmVhZChcclxuICAgICAgICAgICAgICAgICAgICAgICAgWzAsIDIsIDRdLm1hcChmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGguc3Vic3RyaW5nKGksIGkgKyAyKSwgMTYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgM1xyXG4gICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICAgICAgciA9IF9iWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGcgPSBfYlsxXSxcclxuICAgICAgICAgICAgICAgICAgICBiID0gX2JbMl07XHJcbiAgICAgICAgICAgICAgICB2YXIgYSA9XHJcbiAgICAgICAgICAgICAgICAgICAgaC5sZW5ndGggPT09IDYgPyAxIDogcGFyc2VJbnQoaC5zdWJzdHJpbmcoNiwgOCksIDE2KSAvIDI1NTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7cjogciwgZzogZywgYjogYiwgYTogYX07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRDb2xvckJ5TmFtZSgkY29sb3IpIHtcclxuICAgICAgICB2YXIgbiA9IGtub3duQ29sb3JzLmdldCgkY29sb3IpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHI6IChuID4+IDE2KSAmIDI1NSxcclxuICAgICAgICAgICAgZzogKG4gPj4gOCkgJiAyNTUsXHJcbiAgICAgICAgICAgIGI6IChuID4+IDApICYgMjU1LFxyXG4gICAgICAgICAgICBhOiAxXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldFN5c3RlbUNvbG9yKCRjb2xvcikge1xyXG4gICAgICAgIHZhciBuID0gc3lzdGVtQ29sb3JzLmdldCgkY29sb3IpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHI6IChuID4+IDE2KSAmIDI1NSxcclxuICAgICAgICAgICAgZzogKG4gPj4gOCkgJiAyNTUsXHJcbiAgICAgICAgICAgIGI6IChuID4+IDApICYgMjU1LFxyXG4gICAgICAgICAgICBhOiAxXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGxvd2VyQ2FsY0V4cHJlc3Npb24oY29sb3IpIHtcclxuICAgICAgICB2YXIgc2VhcmNoSW5kZXggPSAwO1xyXG4gICAgICAgIHZhciByZXBsYWNlQmV0d2VlbkluZGljZXMgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCwgcmVwbGFjZW1lbnQpIHtcclxuICAgICAgICAgICAgY29sb3IgPVxyXG4gICAgICAgICAgICAgICAgY29sb3Iuc3Vic3RyaW5nKDAsIHN0YXJ0KSArIHJlcGxhY2VtZW50ICsgY29sb3Iuc3Vic3RyaW5nKGVuZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB3aGlsZSAoKHNlYXJjaEluZGV4ID0gY29sb3IuaW5kZXhPZihcImNhbGMoXCIpKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgdmFyIHJhbmdlID0gZ2V0UGFyZW50aGVzZXNSYW5nZShjb2xvciwgc2VhcmNoSW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAoIXJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgc2xpY2UgPSBjb2xvci5zbGljZShyYW5nZS5zdGFydCArIDEsIHJhbmdlLmVuZCAtIDEpO1xyXG4gICAgICAgICAgICB2YXIgaW5jbHVkZXNQZXJjZW50YWdlID0gc2xpY2UuaW5jbHVkZXMoXCIlXCIpO1xyXG4gICAgICAgICAgICBzbGljZSA9IHNsaWNlLnNwbGl0KFwiJVwiKS5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICB2YXIgb3V0cHV0ID0gTWF0aC5yb3VuZChldmFsTWF0aChzbGljZSkpO1xyXG4gICAgICAgICAgICByZXBsYWNlQmV0d2VlbkluZGljZXMoXHJcbiAgICAgICAgICAgICAgICByYW5nZS5zdGFydCAtIDQsXHJcbiAgICAgICAgICAgICAgICByYW5nZS5lbmQsXHJcbiAgICAgICAgICAgICAgICBvdXRwdXQgKyAoaW5jbHVkZXNQZXJjZW50YWdlID8gXCIlXCIgOiBcIlwiKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICB9XHJcbiAgICB2YXIga25vd25Db2xvcnMgPSBuZXcgTWFwKFxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHtcclxuICAgICAgICAgICAgYWxpY2VibHVlOiAweGYwZjhmZixcclxuICAgICAgICAgICAgYW50aXF1ZXdoaXRlOiAweGZhZWJkNyxcclxuICAgICAgICAgICAgYXF1YTogMHgwMGZmZmYsXHJcbiAgICAgICAgICAgIGFxdWFtYXJpbmU6IDB4N2ZmZmQ0LFxyXG4gICAgICAgICAgICBhenVyZTogMHhmMGZmZmYsXHJcbiAgICAgICAgICAgIGJlaWdlOiAweGY1ZjVkYyxcclxuICAgICAgICAgICAgYmlzcXVlOiAweGZmZTRjNCxcclxuICAgICAgICAgICAgYmxhY2s6IDB4MDAwMDAwLFxyXG4gICAgICAgICAgICBibGFuY2hlZGFsbW9uZDogMHhmZmViY2QsXHJcbiAgICAgICAgICAgIGJsdWU6IDB4MDAwMGZmLFxyXG4gICAgICAgICAgICBibHVldmlvbGV0OiAweDhhMmJlMixcclxuICAgICAgICAgICAgYnJvd246IDB4YTUyYTJhLFxyXG4gICAgICAgICAgICBidXJseXdvb2Q6IDB4ZGViODg3LFxyXG4gICAgICAgICAgICBjYWRldGJsdWU6IDB4NWY5ZWEwLFxyXG4gICAgICAgICAgICBjaGFydHJldXNlOiAweDdmZmYwMCxcclxuICAgICAgICAgICAgY2hvY29sYXRlOiAweGQyNjkxZSxcclxuICAgICAgICAgICAgY29yYWw6IDB4ZmY3ZjUwLFxyXG4gICAgICAgICAgICBjb3JuZmxvd2VyYmx1ZTogMHg2NDk1ZWQsXHJcbiAgICAgICAgICAgIGNvcm5zaWxrOiAweGZmZjhkYyxcclxuICAgICAgICAgICAgY3JpbXNvbjogMHhkYzE0M2MsXHJcbiAgICAgICAgICAgIGN5YW46IDB4MDBmZmZmLFxyXG4gICAgICAgICAgICBkYXJrYmx1ZTogMHgwMDAwOGIsXHJcbiAgICAgICAgICAgIGRhcmtjeWFuOiAweDAwOGI4YixcclxuICAgICAgICAgICAgZGFya2dvbGRlbnJvZDogMHhiODg2MGIsXHJcbiAgICAgICAgICAgIGRhcmtncmF5OiAweGE5YTlhOSxcclxuICAgICAgICAgICAgZGFya2dyZXk6IDB4YTlhOWE5LFxyXG4gICAgICAgICAgICBkYXJrZ3JlZW46IDB4MDA2NDAwLFxyXG4gICAgICAgICAgICBkYXJra2hha2k6IDB4YmRiNzZiLFxyXG4gICAgICAgICAgICBkYXJrbWFnZW50YTogMHg4YjAwOGIsXHJcbiAgICAgICAgICAgIGRhcmtvbGl2ZWdyZWVuOiAweDU1NmIyZixcclxuICAgICAgICAgICAgZGFya29yYW5nZTogMHhmZjhjMDAsXHJcbiAgICAgICAgICAgIGRhcmtvcmNoaWQ6IDB4OTkzMmNjLFxyXG4gICAgICAgICAgICBkYXJrcmVkOiAweDhiMDAwMCxcclxuICAgICAgICAgICAgZGFya3NhbG1vbjogMHhlOTk2N2EsXHJcbiAgICAgICAgICAgIGRhcmtzZWFncmVlbjogMHg4ZmJjOGYsXHJcbiAgICAgICAgICAgIGRhcmtzbGF0ZWJsdWU6IDB4NDgzZDhiLFxyXG4gICAgICAgICAgICBkYXJrc2xhdGVncmF5OiAweDJmNGY0ZixcclxuICAgICAgICAgICAgZGFya3NsYXRlZ3JleTogMHgyZjRmNGYsXHJcbiAgICAgICAgICAgIGRhcmt0dXJxdW9pc2U6IDB4MDBjZWQxLFxyXG4gICAgICAgICAgICBkYXJrdmlvbGV0OiAweDk0MDBkMyxcclxuICAgICAgICAgICAgZGVlcHBpbms6IDB4ZmYxNDkzLFxyXG4gICAgICAgICAgICBkZWVwc2t5Ymx1ZTogMHgwMGJmZmYsXHJcbiAgICAgICAgICAgIGRpbWdyYXk6IDB4Njk2OTY5LFxyXG4gICAgICAgICAgICBkaW1ncmV5OiAweDY5Njk2OSxcclxuICAgICAgICAgICAgZG9kZ2VyYmx1ZTogMHgxZTkwZmYsXHJcbiAgICAgICAgICAgIGZpcmVicmljazogMHhiMjIyMjIsXHJcbiAgICAgICAgICAgIGZsb3JhbHdoaXRlOiAweGZmZmFmMCxcclxuICAgICAgICAgICAgZm9yZXN0Z3JlZW46IDB4MjI4YjIyLFxyXG4gICAgICAgICAgICBmdWNoc2lhOiAweGZmMDBmZixcclxuICAgICAgICAgICAgZ2FpbnNib3JvOiAweGRjZGNkYyxcclxuICAgICAgICAgICAgZ2hvc3R3aGl0ZTogMHhmOGY4ZmYsXHJcbiAgICAgICAgICAgIGdvbGQ6IDB4ZmZkNzAwLFxyXG4gICAgICAgICAgICBnb2xkZW5yb2Q6IDB4ZGFhNTIwLFxyXG4gICAgICAgICAgICBncmF5OiAweDgwODA4MCxcclxuICAgICAgICAgICAgZ3JleTogMHg4MDgwODAsXHJcbiAgICAgICAgICAgIGdyZWVuOiAweDAwODAwMCxcclxuICAgICAgICAgICAgZ3JlZW55ZWxsb3c6IDB4YWRmZjJmLFxyXG4gICAgICAgICAgICBob25leWRldzogMHhmMGZmZjAsXHJcbiAgICAgICAgICAgIGhvdHBpbms6IDB4ZmY2OWI0LFxyXG4gICAgICAgICAgICBpbmRpYW5yZWQ6IDB4Y2Q1YzVjLFxyXG4gICAgICAgICAgICBpbmRpZ286IDB4NGIwMDgyLFxyXG4gICAgICAgICAgICBpdm9yeTogMHhmZmZmZjAsXHJcbiAgICAgICAgICAgIGtoYWtpOiAweGYwZTY4YyxcclxuICAgICAgICAgICAgbGF2ZW5kZXI6IDB4ZTZlNmZhLFxyXG4gICAgICAgICAgICBsYXZlbmRlcmJsdXNoOiAweGZmZjBmNSxcclxuICAgICAgICAgICAgbGF3bmdyZWVuOiAweDdjZmMwMCxcclxuICAgICAgICAgICAgbGVtb25jaGlmZm9uOiAweGZmZmFjZCxcclxuICAgICAgICAgICAgbGlnaHRibHVlOiAweGFkZDhlNixcclxuICAgICAgICAgICAgbGlnaHRjb3JhbDogMHhmMDgwODAsXHJcbiAgICAgICAgICAgIGxpZ2h0Y3lhbjogMHhlMGZmZmYsXHJcbiAgICAgICAgICAgIGxpZ2h0Z29sZGVucm9keWVsbG93OiAweGZhZmFkMixcclxuICAgICAgICAgICAgbGlnaHRncmF5OiAweGQzZDNkMyxcclxuICAgICAgICAgICAgbGlnaHRncmV5OiAweGQzZDNkMyxcclxuICAgICAgICAgICAgbGlnaHRncmVlbjogMHg5MGVlOTAsXHJcbiAgICAgICAgICAgIGxpZ2h0cGluazogMHhmZmI2YzEsXHJcbiAgICAgICAgICAgIGxpZ2h0c2FsbW9uOiAweGZmYTA3YSxcclxuICAgICAgICAgICAgbGlnaHRzZWFncmVlbjogMHgyMGIyYWEsXHJcbiAgICAgICAgICAgIGxpZ2h0c2t5Ymx1ZTogMHg4N2NlZmEsXHJcbiAgICAgICAgICAgIGxpZ2h0c2xhdGVncmF5OiAweDc3ODg5OSxcclxuICAgICAgICAgICAgbGlnaHRzbGF0ZWdyZXk6IDB4Nzc4ODk5LFxyXG4gICAgICAgICAgICBsaWdodHN0ZWVsYmx1ZTogMHhiMGM0ZGUsXHJcbiAgICAgICAgICAgIGxpZ2h0eWVsbG93OiAweGZmZmZlMCxcclxuICAgICAgICAgICAgbGltZTogMHgwMGZmMDAsXHJcbiAgICAgICAgICAgIGxpbWVncmVlbjogMHgzMmNkMzIsXHJcbiAgICAgICAgICAgIGxpbmVuOiAweGZhZjBlNixcclxuICAgICAgICAgICAgbWFnZW50YTogMHhmZjAwZmYsXHJcbiAgICAgICAgICAgIG1hcm9vbjogMHg4MDAwMDAsXHJcbiAgICAgICAgICAgIG1lZGl1bWFxdWFtYXJpbmU6IDB4NjZjZGFhLFxyXG4gICAgICAgICAgICBtZWRpdW1ibHVlOiAweDAwMDBjZCxcclxuICAgICAgICAgICAgbWVkaXVtb3JjaGlkOiAweGJhNTVkMyxcclxuICAgICAgICAgICAgbWVkaXVtcHVycGxlOiAweDkzNzBkYixcclxuICAgICAgICAgICAgbWVkaXVtc2VhZ3JlZW46IDB4M2NiMzcxLFxyXG4gICAgICAgICAgICBtZWRpdW1zbGF0ZWJsdWU6IDB4N2I2OGVlLFxyXG4gICAgICAgICAgICBtZWRpdW1zcHJpbmdncmVlbjogMHgwMGZhOWEsXHJcbiAgICAgICAgICAgIG1lZGl1bXR1cnF1b2lzZTogMHg0OGQxY2MsXHJcbiAgICAgICAgICAgIG1lZGl1bXZpb2xldHJlZDogMHhjNzE1ODUsXHJcbiAgICAgICAgICAgIG1pZG5pZ2h0Ymx1ZTogMHgxOTE5NzAsXHJcbiAgICAgICAgICAgIG1pbnRjcmVhbTogMHhmNWZmZmEsXHJcbiAgICAgICAgICAgIG1pc3R5cm9zZTogMHhmZmU0ZTEsXHJcbiAgICAgICAgICAgIG1vY2Nhc2luOiAweGZmZTRiNSxcclxuICAgICAgICAgICAgbmF2YWpvd2hpdGU6IDB4ZmZkZWFkLFxyXG4gICAgICAgICAgICBuYXZ5OiAweDAwMDA4MCxcclxuICAgICAgICAgICAgb2xkbGFjZTogMHhmZGY1ZTYsXHJcbiAgICAgICAgICAgIG9saXZlOiAweDgwODAwMCxcclxuICAgICAgICAgICAgb2xpdmVkcmFiOiAweDZiOGUyMyxcclxuICAgICAgICAgICAgb3JhbmdlOiAweGZmYTUwMCxcclxuICAgICAgICAgICAgb3JhbmdlcmVkOiAweGZmNDUwMCxcclxuICAgICAgICAgICAgb3JjaGlkOiAweGRhNzBkNixcclxuICAgICAgICAgICAgcGFsZWdvbGRlbnJvZDogMHhlZWU4YWEsXHJcbiAgICAgICAgICAgIHBhbGVncmVlbjogMHg5OGZiOTgsXHJcbiAgICAgICAgICAgIHBhbGV0dXJxdW9pc2U6IDB4YWZlZWVlLFxyXG4gICAgICAgICAgICBwYWxldmlvbGV0cmVkOiAweGRiNzA5MyxcclxuICAgICAgICAgICAgcGFwYXlhd2hpcDogMHhmZmVmZDUsXHJcbiAgICAgICAgICAgIHBlYWNocHVmZjogMHhmZmRhYjksXHJcbiAgICAgICAgICAgIHBlcnU6IDB4Y2Q4NTNmLFxyXG4gICAgICAgICAgICBwaW5rOiAweGZmYzBjYixcclxuICAgICAgICAgICAgcGx1bTogMHhkZGEwZGQsXHJcbiAgICAgICAgICAgIHBvd2RlcmJsdWU6IDB4YjBlMGU2LFxyXG4gICAgICAgICAgICBwdXJwbGU6IDB4ODAwMDgwLFxyXG4gICAgICAgICAgICByZWJlY2NhcHVycGxlOiAweDY2MzM5OSxcclxuICAgICAgICAgICAgcmVkOiAweGZmMDAwMCxcclxuICAgICAgICAgICAgcm9zeWJyb3duOiAweGJjOGY4ZixcclxuICAgICAgICAgICAgcm95YWxibHVlOiAweDQxNjllMSxcclxuICAgICAgICAgICAgc2FkZGxlYnJvd246IDB4OGI0NTEzLFxyXG4gICAgICAgICAgICBzYWxtb246IDB4ZmE4MDcyLFxyXG4gICAgICAgICAgICBzYW5keWJyb3duOiAweGY0YTQ2MCxcclxuICAgICAgICAgICAgc2VhZ3JlZW46IDB4MmU4YjU3LFxyXG4gICAgICAgICAgICBzZWFzaGVsbDogMHhmZmY1ZWUsXHJcbiAgICAgICAgICAgIHNpZW5uYTogMHhhMDUyMmQsXHJcbiAgICAgICAgICAgIHNpbHZlcjogMHhjMGMwYzAsXHJcbiAgICAgICAgICAgIHNreWJsdWU6IDB4ODdjZWViLFxyXG4gICAgICAgICAgICBzbGF0ZWJsdWU6IDB4NmE1YWNkLFxyXG4gICAgICAgICAgICBzbGF0ZWdyYXk6IDB4NzA4MDkwLFxyXG4gICAgICAgICAgICBzbGF0ZWdyZXk6IDB4NzA4MDkwLFxyXG4gICAgICAgICAgICBzbm93OiAweGZmZmFmYSxcclxuICAgICAgICAgICAgc3ByaW5nZ3JlZW46IDB4MDBmZjdmLFxyXG4gICAgICAgICAgICBzdGVlbGJsdWU6IDB4NDY4MmI0LFxyXG4gICAgICAgICAgICB0YW46IDB4ZDJiNDhjLFxyXG4gICAgICAgICAgICB0ZWFsOiAweDAwODA4MCxcclxuICAgICAgICAgICAgdGhpc3RsZTogMHhkOGJmZDgsXHJcbiAgICAgICAgICAgIHRvbWF0bzogMHhmZjYzNDcsXHJcbiAgICAgICAgICAgIHR1cnF1b2lzZTogMHg0MGUwZDAsXHJcbiAgICAgICAgICAgIHZpb2xldDogMHhlZTgyZWUsXHJcbiAgICAgICAgICAgIHdoZWF0OiAweGY1ZGViMyxcclxuICAgICAgICAgICAgd2hpdGU6IDB4ZmZmZmZmLFxyXG4gICAgICAgICAgICB3aGl0ZXNtb2tlOiAweGY1ZjVmNSxcclxuICAgICAgICAgICAgeWVsbG93OiAweGZmZmYwMCxcclxuICAgICAgICAgICAgeWVsbG93Z3JlZW46IDB4OWFjZDMyXHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcbiAgICB2YXIgc3lzdGVtQ29sb3JzID0gbmV3IE1hcChcclxuICAgICAgICBPYmplY3QuZW50cmllcyh7XHJcbiAgICAgICAgICAgIFwiQWN0aXZlQm9yZGVyXCI6IDB4M2I5OWZjLFxyXG4gICAgICAgICAgICBcIkFjdGl2ZUNhcHRpb25cIjogMHgwMDAwMDAsXHJcbiAgICAgICAgICAgIFwiQXBwV29ya3NwYWNlXCI6IDB4YWFhYWFhLFxyXG4gICAgICAgICAgICBcIkJhY2tncm91bmRcIjogMHg2MzYzY2UsXHJcbiAgICAgICAgICAgIFwiQnV0dG9uRmFjZVwiOiAweGZmZmZmZixcclxuICAgICAgICAgICAgXCJCdXR0b25IaWdobGlnaHRcIjogMHhlOWU5ZTksXHJcbiAgICAgICAgICAgIFwiQnV0dG9uU2hhZG93XCI6IDB4OWZhMDlmLFxyXG4gICAgICAgICAgICBcIkJ1dHRvblRleHRcIjogMHgwMDAwMDAsXHJcbiAgICAgICAgICAgIFwiQ2FwdGlvblRleHRcIjogMHgwMDAwMDAsXHJcbiAgICAgICAgICAgIFwiR3JheVRleHRcIjogMHg3ZjdmN2YsXHJcbiAgICAgICAgICAgIFwiSGlnaGxpZ2h0XCI6IDB4YjJkN2ZmLFxyXG4gICAgICAgICAgICBcIkhpZ2hsaWdodFRleHRcIjogMHgwMDAwMDAsXHJcbiAgICAgICAgICAgIFwiSW5hY3RpdmVCb3JkZXJcIjogMHhmZmZmZmYsXHJcbiAgICAgICAgICAgIFwiSW5hY3RpdmVDYXB0aW9uXCI6IDB4ZmZmZmZmLFxyXG4gICAgICAgICAgICBcIkluYWN0aXZlQ2FwdGlvblRleHRcIjogMHgwMDAwMDAsXHJcbiAgICAgICAgICAgIFwiSW5mb0JhY2tncm91bmRcIjogMHhmYmZjYzUsXHJcbiAgICAgICAgICAgIFwiSW5mb1RleHRcIjogMHgwMDAwMDAsXHJcbiAgICAgICAgICAgIFwiTWVudVwiOiAweGY2ZjZmNixcclxuICAgICAgICAgICAgXCJNZW51VGV4dFwiOiAweGZmZmZmZixcclxuICAgICAgICAgICAgXCJTY3JvbGxiYXJcIjogMHhhYWFhYWEsXHJcbiAgICAgICAgICAgIFwiVGhyZWVERGFya1NoYWRvd1wiOiAweDAwMDAwMCxcclxuICAgICAgICAgICAgXCJUaHJlZURGYWNlXCI6IDB4YzBjMGMwLFxyXG4gICAgICAgICAgICBcIlRocmVlREhpZ2hsaWdodFwiOiAweGZmZmZmZixcclxuICAgICAgICAgICAgXCJUaHJlZURMaWdodFNoYWRvd1wiOiAweGZmZmZmZixcclxuICAgICAgICAgICAgXCJUaHJlZURTaGFkb3dcIjogMHgwMDAwMDAsXHJcbiAgICAgICAgICAgIFwiV2luZG93XCI6IDB4ZWNlY2VjLFxyXG4gICAgICAgICAgICBcIldpbmRvd0ZyYW1lXCI6IDB4YWFhYWFhLFxyXG4gICAgICAgICAgICBcIldpbmRvd1RleHRcIjogMHgwMDAwMDAsXHJcbiAgICAgICAgICAgIFwiLXdlYmtpdC1mb2N1cy1yaW5nLWNvbG9yXCI6IDB4ZTU5NzAwXHJcbiAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICB2YXIgX2IgPSBfX3JlYWQoX2EsIDIpLFxyXG4gICAgICAgICAgICAgICAga2V5ID0gX2JbMF0sXHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9iWzFdO1xyXG4gICAgICAgICAgICByZXR1cm4gW2tleS50b0xvd2VyQ2FzZSgpLCB2YWx1ZV07XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcbiAgICBmdW5jdGlvbiBnZXRTUkdCTGlnaHRuZXNzKHIsIGcsIGIpIHtcclxuICAgICAgICByZXR1cm4gKDAuMjEyNiAqIHIgKyAwLjcxNTIgKiBnICsgMC4wNzIyICogYikgLyAyNTU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2NhbGUoeCwgaW5Mb3csIGluSGlnaCwgb3V0TG93LCBvdXRIaWdoKSB7XHJcbiAgICAgICAgcmV0dXJuICgoeCAtIGluTG93KSAqIChvdXRIaWdoIC0gb3V0TG93KSkgLyAoaW5IaWdoIC0gaW5Mb3cpICsgb3V0TG93O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2xhbXAoeCwgbWluLCBtYXgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4obWF4LCBNYXRoLm1heChtaW4sIHgpKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG11bHRpcGx5TWF0cmljZXMobTEsIG0yKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBtMS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICAgICAgICByZXN1bHRbaV0gPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGxlbjIgPSBtMlswXS5sZW5ndGg7IGogPCBsZW4yOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDAsIGxlbjMgPSBtMVswXS5sZW5ndGg7IGsgPCBsZW4zOyBrKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdW0gKz0gbTFbaV1ba10gKiBtMltrXVtqXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc3VsdFtpXVtqXSA9IHN1bTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbHRlck1hdHJpeChjb25maWcpIHtcclxuICAgICAgICB2YXIgbSA9IE1hdHJpeC5pZGVudGl0eSgpO1xyXG4gICAgICAgIGlmIChjb25maWcuc2VwaWEgIT09IDApIHtcclxuICAgICAgICAgICAgbSA9IG11bHRpcGx5TWF0cmljZXMobSwgTWF0cml4LnNlcGlhKGNvbmZpZy5zZXBpYSAvIDEwMCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29uZmlnLmdyYXlzY2FsZSAhPT0gMCkge1xyXG4gICAgICAgICAgICBtID0gbXVsdGlwbHlNYXRyaWNlcyhtLCBNYXRyaXguZ3JheXNjYWxlKGNvbmZpZy5ncmF5c2NhbGUgLyAxMDApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbmZpZy5jb250cmFzdCAhPT0gMTAwKSB7XHJcbiAgICAgICAgICAgIG0gPSBtdWx0aXBseU1hdHJpY2VzKG0sIE1hdHJpeC5jb250cmFzdChjb25maWcuY29udHJhc3QgLyAxMDApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbmZpZy5icmlnaHRuZXNzICE9PSAxMDApIHtcclxuICAgICAgICAgICAgbSA9IG11bHRpcGx5TWF0cmljZXMobSwgTWF0cml4LmJyaWdodG5lc3MoY29uZmlnLmJyaWdodG5lc3MgLyAxMDApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbmZpZy5tb2RlID09PSAxKSB7XHJcbiAgICAgICAgICAgIG0gPSBtdWx0aXBseU1hdHJpY2VzKG0sIE1hdHJpeC5pbnZlcnROSHVlKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGFwcGx5Q29sb3JNYXRyaXgoX2EsIG1hdHJpeCkge1xyXG4gICAgICAgIHZhciBfYiA9IF9fcmVhZChfYSwgMyksXHJcbiAgICAgICAgICAgIHIgPSBfYlswXSxcclxuICAgICAgICAgICAgZyA9IF9iWzFdLFxyXG4gICAgICAgICAgICBiID0gX2JbMl07XHJcbiAgICAgICAgdmFyIHJnYiA9IFtbciAvIDI1NV0sIFtnIC8gMjU1XSwgW2IgLyAyNTVdLCBbMV0sIFsxXV07XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IG11bHRpcGx5TWF0cmljZXMobWF0cml4LCByZ2IpO1xyXG4gICAgICAgIHJldHVybiBbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjbGFtcChNYXRoLnJvdW5kKHJlc3VsdFtpXVswXSAqIDI1NSksIDAsIDI1NSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB2YXIgTWF0cml4ID0ge1xyXG4gICAgICAgIGlkZW50aXR5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICBbMSwgMCwgMCwgMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBbMCwgMSwgMCwgMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBbMCwgMCwgMSwgMCwgMF0sXHJcbiAgICAgICAgICAgICAgICBbMCwgMCwgMCwgMSwgMF0sXHJcbiAgICAgICAgICAgICAgICBbMCwgMCwgMCwgMCwgMV1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGludmVydE5IdWU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIFswLjMzMywgLTAuNjY3LCAtMC42NjcsIDAsIDFdLFxyXG4gICAgICAgICAgICAgICAgWy0wLjY2NywgMC4zMzMsIC0wLjY2NywgMCwgMV0sXHJcbiAgICAgICAgICAgICAgICBbLTAuNjY3LCAtMC42NjcsIDAuMzMzLCAwLCAxXSxcclxuICAgICAgICAgICAgICAgIFswLCAwLCAwLCAxLCAwXSxcclxuICAgICAgICAgICAgICAgIFswLCAwLCAwLCAwLCAxXVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYnJpZ2h0bmVzczogZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIFt2LCAwLCAwLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIFswLCB2LCAwLCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIFswLCAwLCB2LCAwLCAwXSxcclxuICAgICAgICAgICAgICAgIFswLCAwLCAwLCAxLCAwXSxcclxuICAgICAgICAgICAgICAgIFswLCAwLCAwLCAwLCAxXVxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udHJhc3Q6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gKDEgLSB2KSAvIDI7XHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICBbdiwgMCwgMCwgMCwgdF0sXHJcbiAgICAgICAgICAgICAgICBbMCwgdiwgMCwgMCwgdF0sXHJcbiAgICAgICAgICAgICAgICBbMCwgMCwgdiwgMCwgdF0sXHJcbiAgICAgICAgICAgICAgICBbMCwgMCwgMCwgMSwgMF0sXHJcbiAgICAgICAgICAgICAgICBbMCwgMCwgMCwgMCwgMV1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNlcGlhOiBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgIDAuMzkzICsgMC42MDcgKiAoMSAtIHYpLFxyXG4gICAgICAgICAgICAgICAgICAgIDAuNzY5IC0gMC43NjkgKiAoMSAtIHYpLFxyXG4gICAgICAgICAgICAgICAgICAgIDAuMTg5IC0gMC4xODkgKiAoMSAtIHYpLFxyXG4gICAgICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICAwLjM0OSAtIDAuMzQ5ICogKDEgLSB2KSxcclxuICAgICAgICAgICAgICAgICAgICAwLjY4NiArIDAuMzE0ICogKDEgLSB2KSxcclxuICAgICAgICAgICAgICAgICAgICAwLjE2OCAtIDAuMTY4ICogKDEgLSB2KSxcclxuICAgICAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDBcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgMC4yNzIgLSAwLjI3MiAqICgxIC0gdiksXHJcbiAgICAgICAgICAgICAgICAgICAgMC41MzQgLSAwLjUzNCAqICgxIC0gdiksXHJcbiAgICAgICAgICAgICAgICAgICAgMC4xMzEgKyAwLjg2OSAqICgxIC0gdiksXHJcbiAgICAgICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgICAgICAwXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgWzAsIDAsIDAsIDEsIDBdLFxyXG4gICAgICAgICAgICAgICAgWzAsIDAsIDAsIDAsIDFdXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfSxcclxuICAgICAgICBncmF5c2NhbGU6IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICBbXHJcbiAgICAgICAgICAgICAgICAgICAgMC4yMTI2ICsgMC43ODc0ICogKDEgLSB2KSxcclxuICAgICAgICAgICAgICAgICAgICAwLjcxNTIgLSAwLjcxNTIgKiAoMSAtIHYpLFxyXG4gICAgICAgICAgICAgICAgICAgIDAuMDcyMiAtIDAuMDcyMiAqICgxIC0gdiksXHJcbiAgICAgICAgICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgICAgICAgICAwXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgIDAuMjEyNiAtIDAuMjEyNiAqICgxIC0gdiksXHJcbiAgICAgICAgICAgICAgICAgICAgMC43MTUyICsgMC4yODQ4ICogKDEgLSB2KSxcclxuICAgICAgICAgICAgICAgICAgICAwLjA3MjIgLSAwLjA3MjIgKiAoMSAtIHYpLFxyXG4gICAgICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgMFxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIFtcclxuICAgICAgICAgICAgICAgICAgICAwLjIxMjYgLSAwLjIxMjYgKiAoMSAtIHYpLFxyXG4gICAgICAgICAgICAgICAgICAgIDAuNzE1MiAtIDAuNzE1MiAqICgxIC0gdiksXHJcbiAgICAgICAgICAgICAgICAgICAgMC4wNzIyICsgMC45Mjc4ICogKDEgLSB2KSxcclxuICAgICAgICAgICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAgICAgICAgIDBcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBbMCwgMCwgMCwgMSwgMF0sXHJcbiAgICAgICAgICAgICAgICBbMCwgMCwgMCwgMCwgMV1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldEJnUG9sZSh0aGVtZSkge1xyXG4gICAgICAgIHZhciBpc0RhcmtTY2hlbWUgPSB0aGVtZS5tb2RlID09PSAxO1xyXG4gICAgICAgIHZhciBwcm9wID0gaXNEYXJrU2NoZW1lXHJcbiAgICAgICAgICAgID8gXCJkYXJrU2NoZW1lQmFja2dyb3VuZENvbG9yXCJcclxuICAgICAgICAgICAgOiBcImxpZ2h0U2NoZW1lQmFja2dyb3VuZENvbG9yXCI7XHJcbiAgICAgICAgcmV0dXJuIHRoZW1lW3Byb3BdO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0RmdQb2xlKHRoZW1lKSB7XHJcbiAgICAgICAgdmFyIGlzRGFya1NjaGVtZSA9IHRoZW1lLm1vZGUgPT09IDE7XHJcbiAgICAgICAgdmFyIHByb3AgPSBpc0RhcmtTY2hlbWVcclxuICAgICAgICAgICAgPyBcImRhcmtTY2hlbWVUZXh0Q29sb3JcIlxyXG4gICAgICAgICAgICA6IFwibGlnaHRTY2hlbWVUZXh0Q29sb3JcIjtcclxuICAgICAgICByZXR1cm4gdGhlbWVbcHJvcF07XHJcbiAgICB9XHJcbiAgICB2YXIgY29sb3JNb2RpZmljYXRpb25DYWNoZSA9IG5ldyBNYXAoKTtcclxuICAgIGZ1bmN0aW9uIGNsZWFyQ29sb3JNb2RpZmljYXRpb25DYWNoZSgpIHtcclxuICAgICAgICBjb2xvck1vZGlmaWNhdGlvbkNhY2hlLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgICB2YXIgcmdiQ2FjaGVLZXlzID0gW1wiclwiLCBcImdcIiwgXCJiXCIsIFwiYVwiXTtcclxuICAgIHZhciB0aGVtZUNhY2hlS2V5cyQxID0gW1xyXG4gICAgICAgIFwibW9kZVwiLFxyXG4gICAgICAgIFwiYnJpZ2h0bmVzc1wiLFxyXG4gICAgICAgIFwiY29udHJhc3RcIixcclxuICAgICAgICBcImdyYXlzY2FsZVwiLFxyXG4gICAgICAgIFwic2VwaWFcIixcclxuICAgICAgICBcImRhcmtTY2hlbWVCYWNrZ3JvdW5kQ29sb3JcIixcclxuICAgICAgICBcImRhcmtTY2hlbWVUZXh0Q29sb3JcIixcclxuICAgICAgICBcImxpZ2h0U2NoZW1lQmFja2dyb3VuZENvbG9yXCIsXHJcbiAgICAgICAgXCJsaWdodFNjaGVtZVRleHRDb2xvclwiXHJcbiAgICBdO1xyXG4gICAgZnVuY3Rpb24gZ2V0Q2FjaGVJZChyZ2IsIHRoZW1lKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdElkID0gXCJcIjtcclxuICAgICAgICByZ2JDYWNoZUtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJlc3VsdElkICs9IFwiXCIuY29uY2F0KHJnYltrZXldLCBcIjtcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhlbWVDYWNoZUtleXMkMS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgICAgcmVzdWx0SWQgKz0gXCJcIi5jb25jYXQodGhlbWVba2V5XSwgXCI7XCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHRJZDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUNvbG9yV2l0aENhY2hlKFxyXG4gICAgICAgIHJnYixcclxuICAgICAgICB0aGVtZSxcclxuICAgICAgICBtb2RpZnlIU0wsXHJcbiAgICAgICAgcG9sZUNvbG9yLFxyXG4gICAgICAgIGFub3RoZXJQb2xlQ29sb3JcclxuICAgICkge1xyXG4gICAgICAgIHZhciBmbkNhY2hlO1xyXG4gICAgICAgIGlmIChjb2xvck1vZGlmaWNhdGlvbkNhY2hlLmhhcyhtb2RpZnlIU0wpKSB7XHJcbiAgICAgICAgICAgIGZuQ2FjaGUgPSBjb2xvck1vZGlmaWNhdGlvbkNhY2hlLmdldChtb2RpZnlIU0wpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZuQ2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIGNvbG9yTW9kaWZpY2F0aW9uQ2FjaGUuc2V0KG1vZGlmeUhTTCwgZm5DYWNoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpZCA9IGdldENhY2hlSWQocmdiLCB0aGVtZSk7XHJcbiAgICAgICAgaWYgKGZuQ2FjaGUuaGFzKGlkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm5DYWNoZS5nZXQoaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaHNsID0gcmdiVG9IU0wocmdiKTtcclxuICAgICAgICB2YXIgcG9sZSA9IHBvbGVDb2xvciA9PSBudWxsID8gbnVsbCA6IHBhcnNlVG9IU0xXaXRoQ2FjaGUocG9sZUNvbG9yKTtcclxuICAgICAgICB2YXIgYW5vdGhlclBvbGUgPVxyXG4gICAgICAgICAgICBhbm90aGVyUG9sZUNvbG9yID09IG51bGxcclxuICAgICAgICAgICAgICAgID8gbnVsbFxyXG4gICAgICAgICAgICAgICAgOiBwYXJzZVRvSFNMV2l0aENhY2hlKGFub3RoZXJQb2xlQ29sb3IpO1xyXG4gICAgICAgIHZhciBtb2RpZmllZCA9IG1vZGlmeUhTTChoc2wsIHBvbGUsIGFub3RoZXJQb2xlKTtcclxuICAgICAgICB2YXIgX2EgPSBoc2xUb1JHQihtb2RpZmllZCksXHJcbiAgICAgICAgICAgIHIgPSBfYS5yLFxyXG4gICAgICAgICAgICBnID0gX2EuZyxcclxuICAgICAgICAgICAgYiA9IF9hLmIsXHJcbiAgICAgICAgICAgIGEgPSBfYS5hO1xyXG4gICAgICAgIHZhciBtYXRyaXggPSBjcmVhdGVGaWx0ZXJNYXRyaXgodGhlbWUpO1xyXG4gICAgICAgIHZhciBfYiA9IF9fcmVhZChhcHBseUNvbG9yTWF0cml4KFtyLCBnLCBiXSwgbWF0cml4KSwgMyksXHJcbiAgICAgICAgICAgIHJmID0gX2JbMF0sXHJcbiAgICAgICAgICAgIGdmID0gX2JbMV0sXHJcbiAgICAgICAgICAgIGJmID0gX2JbMl07XHJcbiAgICAgICAgdmFyIGNvbG9yID1cclxuICAgICAgICAgICAgYSA9PT0gMVxyXG4gICAgICAgICAgICAgICAgPyByZ2JUb0hleFN0cmluZyh7cjogcmYsIGc6IGdmLCBiOiBiZn0pXHJcbiAgICAgICAgICAgICAgICA6IHJnYlRvU3RyaW5nKHtyOiByZiwgZzogZ2YsIGI6IGJmLCBhOiBhfSk7XHJcbiAgICAgICAgZm5DYWNoZS5zZXQoaWQsIGNvbG9yKTtcclxuICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBub29wSFNMKGhzbCkge1xyXG4gICAgICAgIHJldHVybiBoc2w7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBtb2RpZnlDb2xvcihyZ2IsIHRoZW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vZGlmeUNvbG9yV2l0aENhY2hlKHJnYiwgdGhlbWUsIG5vb3BIU0wpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gbW9kaWZ5TGlnaHRTY2hlbWVDb2xvcihyZ2IsIHRoZW1lKSB7XHJcbiAgICAgICAgdmFyIHBvbGVCZyA9IGdldEJnUG9sZSh0aGVtZSk7XHJcbiAgICAgICAgdmFyIHBvbGVGZyA9IGdldEZnUG9sZSh0aGVtZSk7XHJcbiAgICAgICAgcmV0dXJuIG1vZGlmeUNvbG9yV2l0aENhY2hlKFxyXG4gICAgICAgICAgICByZ2IsXHJcbiAgICAgICAgICAgIHRoZW1lLFxyXG4gICAgICAgICAgICBtb2RpZnlMaWdodE1vZGVIU0wsXHJcbiAgICAgICAgICAgIHBvbGVGZyxcclxuICAgICAgICAgICAgcG9sZUJnXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUxpZ2h0TW9kZUhTTChfYSwgcG9sZUZnLCBwb2xlQmcpIHtcclxuICAgICAgICB2YXIgaCA9IF9hLmgsXHJcbiAgICAgICAgICAgIHMgPSBfYS5zLFxyXG4gICAgICAgICAgICBsID0gX2EubCxcclxuICAgICAgICAgICAgYSA9IF9hLmE7XHJcbiAgICAgICAgdmFyIGlzRGFyayA9IGwgPCAwLjU7XHJcbiAgICAgICAgdmFyIGlzTmV1dHJhbDtcclxuICAgICAgICBpZiAoaXNEYXJrKSB7XHJcbiAgICAgICAgICAgIGlzTmV1dHJhbCA9IGwgPCAwLjIgfHwgcyA8IDAuMTI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGlzQmx1ZSA9IGggPiAyMDAgJiYgaCA8IDI4MDtcclxuICAgICAgICAgICAgaXNOZXV0cmFsID0gcyA8IDAuMjQgfHwgKGwgPiAwLjggJiYgaXNCbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGh4ID0gaDtcclxuICAgICAgICB2YXIgc3ggPSBsO1xyXG4gICAgICAgIGlmIChpc05ldXRyYWwpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGFyaykge1xyXG4gICAgICAgICAgICAgICAgaHggPSBwb2xlRmcuaDtcclxuICAgICAgICAgICAgICAgIHN4ID0gcG9sZUZnLnM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoeCA9IHBvbGVCZy5oO1xyXG4gICAgICAgICAgICAgICAgc3ggPSBwb2xlQmcucztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbHggPSBzY2FsZShsLCAwLCAxLCBwb2xlRmcubCwgcG9sZUJnLmwpO1xyXG4gICAgICAgIHJldHVybiB7aDogaHgsIHM6IHN4LCBsOiBseCwgYTogYX07XHJcbiAgICB9XHJcbiAgICB2YXIgTUFYX0JHX0xJR0hUTkVTUyA9IDAuNDtcclxuICAgIGZ1bmN0aW9uIG1vZGlmeUJnSFNMKF9hLCBwb2xlKSB7XHJcbiAgICAgICAgdmFyIGggPSBfYS5oLFxyXG4gICAgICAgICAgICBzID0gX2EucyxcclxuICAgICAgICAgICAgbCA9IF9hLmwsXHJcbiAgICAgICAgICAgIGEgPSBfYS5hO1xyXG4gICAgICAgIHZhciBpc0RhcmsgPSBsIDwgMC41O1xyXG4gICAgICAgIHZhciBpc0JsdWUgPSBoID4gMjAwICYmIGggPCAyODA7XHJcbiAgICAgICAgdmFyIGlzTmV1dHJhbCA9IHMgPCAwLjEyIHx8IChsID4gMC44ICYmIGlzQmx1ZSk7XHJcbiAgICAgICAgaWYgKGlzRGFyaykge1xyXG4gICAgICAgICAgICB2YXIgbHhfMSA9IHNjYWxlKGwsIDAsIDAuNSwgMCwgTUFYX0JHX0xJR0hUTkVTUyk7XHJcbiAgICAgICAgICAgIGlmIChpc05ldXRyYWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoeF8xID0gcG9sZS5oO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN4ID0gcG9sZS5zO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtoOiBoeF8xLCBzOiBzeCwgbDogbHhfMSwgYTogYX07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHtoOiBoLCBzOiBzLCBsOiBseF8xLCBhOiBhfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGx4ID0gc2NhbGUobCwgMC41LCAxLCBNQVhfQkdfTElHSFRORVNTLCBwb2xlLmwpO1xyXG4gICAgICAgIGlmIChpc05ldXRyYWwpIHtcclxuICAgICAgICAgICAgdmFyIGh4XzIgPSBwb2xlLmg7XHJcbiAgICAgICAgICAgIHZhciBzeCA9IHBvbGUucztcclxuICAgICAgICAgICAgcmV0dXJuIHtoOiBoeF8yLCBzOiBzeCwgbDogbHgsIGE6IGF9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaHggPSBoO1xyXG4gICAgICAgIHZhciBpc1llbGxvdyA9IGggPiA2MCAmJiBoIDwgMTgwO1xyXG4gICAgICAgIGlmIChpc1llbGxvdykge1xyXG4gICAgICAgICAgICB2YXIgaXNDbG9zZXJUb0dyZWVuID0gaCA+IDEyMDtcclxuICAgICAgICAgICAgaWYgKGlzQ2xvc2VyVG9HcmVlbikge1xyXG4gICAgICAgICAgICAgICAgaHggPSBzY2FsZShoLCAxMjAsIDE4MCwgMTM1LCAxODApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaHggPSBzY2FsZShoLCA2MCwgMTIwLCA2MCwgMTA1KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaHggPiA0MCAmJiBoeCA8IDgwKSB7XHJcbiAgICAgICAgICAgIGx4ICo9IDAuNzU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7aDogaHgsIHM6IHMsIGw6IGx4LCBhOiBhfTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG1vZGlmeUJhY2tncm91bmRDb2xvcihyZ2IsIHRoZW1lKSB7XHJcbiAgICAgICAgaWYgKHRoZW1lLm1vZGUgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZGlmeUxpZ2h0U2NoZW1lQ29sb3IocmdiLCB0aGVtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwb2xlID0gZ2V0QmdQb2xlKHRoZW1lKTtcclxuICAgICAgICByZXR1cm4gbW9kaWZ5Q29sb3JXaXRoQ2FjaGUoXHJcbiAgICAgICAgICAgIHJnYixcclxuICAgICAgICAgICAgX19hc3NpZ24oX19hc3NpZ24oe30sIHRoZW1lKSwge21vZGU6IDB9KSxcclxuICAgICAgICAgICAgbW9kaWZ5QmdIU0wsXHJcbiAgICAgICAgICAgIHBvbGVcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgdmFyIE1JTl9GR19MSUdIVE5FU1MgPSAwLjU1O1xyXG4gICAgZnVuY3Rpb24gbW9kaWZ5Qmx1ZUZnSHVlKGh1ZSkge1xyXG4gICAgICAgIHJldHVybiBzY2FsZShodWUsIDIwNSwgMjQ1LCAyMDUsIDIyMCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBtb2RpZnlGZ0hTTChfYSwgcG9sZSkge1xyXG4gICAgICAgIHZhciBoID0gX2EuaCxcclxuICAgICAgICAgICAgcyA9IF9hLnMsXHJcbiAgICAgICAgICAgIGwgPSBfYS5sLFxyXG4gICAgICAgICAgICBhID0gX2EuYTtcclxuICAgICAgICB2YXIgaXNMaWdodCA9IGwgPiAwLjU7XHJcbiAgICAgICAgdmFyIGlzTmV1dHJhbCA9IGwgPCAwLjIgfHwgcyA8IDAuMjQ7XHJcbiAgICAgICAgdmFyIGlzQmx1ZSA9ICFpc05ldXRyYWwgJiYgaCA+IDIwNSAmJiBoIDwgMjQ1O1xyXG4gICAgICAgIGlmIChpc0xpZ2h0KSB7XHJcbiAgICAgICAgICAgIHZhciBseF8yID0gc2NhbGUobCwgMC41LCAxLCBNSU5fRkdfTElHSFRORVNTLCBwb2xlLmwpO1xyXG4gICAgICAgICAgICBpZiAoaXNOZXV0cmFsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaHhfMyA9IHBvbGUuaDtcclxuICAgICAgICAgICAgICAgIHZhciBzeCA9IHBvbGUucztcclxuICAgICAgICAgICAgICAgIHJldHVybiB7aDogaHhfMywgczogc3gsIGw6IGx4XzIsIGE6IGF9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBoeF80ID0gaDtcclxuICAgICAgICAgICAgaWYgKGlzQmx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaHhfNCA9IG1vZGlmeUJsdWVGZ0h1ZShoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4ge2g6IGh4XzQsIHM6IHMsIGw6IGx4XzIsIGE6IGF9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNOZXV0cmFsKSB7XHJcbiAgICAgICAgICAgIHZhciBoeF81ID0gcG9sZS5oO1xyXG4gICAgICAgICAgICB2YXIgc3ggPSBwb2xlLnM7XHJcbiAgICAgICAgICAgIHZhciBseF8zID0gc2NhbGUobCwgMCwgMC41LCBwb2xlLmwsIE1JTl9GR19MSUdIVE5FU1MpO1xyXG4gICAgICAgICAgICByZXR1cm4ge2g6IGh4XzUsIHM6IHN4LCBsOiBseF8zLCBhOiBhfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGh4ID0gaDtcclxuICAgICAgICB2YXIgbHg7XHJcbiAgICAgICAgaWYgKGlzQmx1ZSkge1xyXG4gICAgICAgICAgICBoeCA9IG1vZGlmeUJsdWVGZ0h1ZShoKTtcclxuICAgICAgICAgICAgbHggPSBzY2FsZShsLCAwLCAwLjUsIHBvbGUubCwgTWF0aC5taW4oMSwgTUlOX0ZHX0xJR0hUTkVTUyArIDAuMDUpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBseCA9IHNjYWxlKGwsIDAsIDAuNSwgcG9sZS5sLCBNSU5fRkdfTElHSFRORVNTKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtoOiBoeCwgczogcywgbDogbHgsIGE6IGF9O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gbW9kaWZ5Rm9yZWdyb3VuZENvbG9yKHJnYiwgdGhlbWUpIHtcclxuICAgICAgICBpZiAodGhlbWUubW9kZSA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kaWZ5TGlnaHRTY2hlbWVDb2xvcihyZ2IsIHRoZW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHBvbGUgPSBnZXRGZ1BvbGUodGhlbWUpO1xyXG4gICAgICAgIHJldHVybiBtb2RpZnlDb2xvcldpdGhDYWNoZShcclxuICAgICAgICAgICAgcmdiLFxyXG4gICAgICAgICAgICBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhlbWUpLCB7bW9kZTogMH0pLFxyXG4gICAgICAgICAgICBtb2RpZnlGZ0hTTCxcclxuICAgICAgICAgICAgcG9sZVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBtb2RpZnlCb3JkZXJIU0woX2EsIHBvbGVGZywgcG9sZUJnKSB7XHJcbiAgICAgICAgdmFyIGggPSBfYS5oLFxyXG4gICAgICAgICAgICBzID0gX2EucyxcclxuICAgICAgICAgICAgbCA9IF9hLmwsXHJcbiAgICAgICAgICAgIGEgPSBfYS5hO1xyXG4gICAgICAgIHZhciBpc0RhcmsgPSBsIDwgMC41O1xyXG4gICAgICAgIHZhciBpc05ldXRyYWwgPSBsIDwgMC4yIHx8IHMgPCAwLjI0O1xyXG4gICAgICAgIHZhciBoeCA9IGg7XHJcbiAgICAgICAgdmFyIHN4ID0gcztcclxuICAgICAgICBpZiAoaXNOZXV0cmFsKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0RhcmspIHtcclxuICAgICAgICAgICAgICAgIGh4ID0gcG9sZUZnLmg7XHJcbiAgICAgICAgICAgICAgICBzeCA9IHBvbGVGZy5zO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaHggPSBwb2xlQmcuaDtcclxuICAgICAgICAgICAgICAgIHN4ID0gcG9sZUJnLnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGx4ID0gc2NhbGUobCwgMCwgMSwgMC41LCAwLjIpO1xyXG4gICAgICAgIHJldHVybiB7aDogaHgsIHM6IHN4LCBsOiBseCwgYTogYX07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBtb2RpZnlCb3JkZXJDb2xvcihyZ2IsIHRoZW1lKSB7XHJcbiAgICAgICAgaWYgKHRoZW1lLm1vZGUgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZGlmeUxpZ2h0U2NoZW1lQ29sb3IocmdiLCB0aGVtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwb2xlRmcgPSBnZXRGZ1BvbGUodGhlbWUpO1xyXG4gICAgICAgIHZhciBwb2xlQmcgPSBnZXRCZ1BvbGUodGhlbWUpO1xyXG4gICAgICAgIHJldHVybiBtb2RpZnlDb2xvcldpdGhDYWNoZShcclxuICAgICAgICAgICAgcmdiLFxyXG4gICAgICAgICAgICBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhlbWUpLCB7bW9kZTogMH0pLFxyXG4gICAgICAgICAgICBtb2RpZnlCb3JkZXJIU0wsXHJcbiAgICAgICAgICAgIHBvbGVGZyxcclxuICAgICAgICAgICAgcG9sZUJnXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG1vZGlmeVNoYWRvd0NvbG9yKHJnYiwgZmlsdGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vZGlmeUJhY2tncm91bmRDb2xvcihyZ2IsIGZpbHRlcik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBtb2RpZnlHcmFkaWVudENvbG9yKHJnYiwgZmlsdGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vZGlmeUJhY2tncm91bmRDb2xvcihyZ2IsIGZpbHRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlVGV4dFN0eWxlKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBsaW5lcyA9IFtdO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXHJcbiAgICAgICAgICAgICcqOm5vdChwcmUsIHByZSAqLCBjb2RlLCAuZmFyLCAuZmEsIC5nbHlwaGljb24sIFtjbGFzcyo9XCJ2anMtXCJdLCAuZmFiLCAuZmEtZ2l0aHViLCAuZmFzLCAubWF0ZXJpYWwtaWNvbnMsIC5pY29mb250LCAudHlwY24sIG11LCBbY2xhc3MqPVwibXUtXCJdLCAuZ2x5cGhpY29uLCAuaWNvbikgeydcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmIChjb25maWcudXNlRm9udCAmJiBjb25maWcuZm9udEZhbWlseSkge1xyXG4gICAgICAgICAgICBsaW5lcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgXCIgIGZvbnQtZmFtaWx5OiBcIi5jb25jYXQoY29uZmlnLmZvbnRGYW1pbHksIFwiICFpbXBvcnRhbnQ7XCIpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb25maWcudGV4dFN0cm9rZSA+IDApIHtcclxuICAgICAgICAgICAgbGluZXMucHVzaChcclxuICAgICAgICAgICAgICAgIFwiICAtd2Via2l0LXRleHQtc3Ryb2tlOiBcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLnRleHRTdHJva2UsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJweCAhaW1wb3J0YW50O1wiXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGxpbmVzLnB1c2goXHJcbiAgICAgICAgICAgICAgICBcIiAgdGV4dC1zdHJva2U6IFwiLmNvbmNhdChjb25maWcudGV4dFN0cm9rZSwgXCJweCAhaW1wb3J0YW50O1wiKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsaW5lcy5wdXNoKFwifVwiKTtcclxuICAgICAgICByZXR1cm4gbGluZXMuam9pbihcIlxcblwiKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgRmlsdGVyTW9kZTtcclxuICAgIChmdW5jdGlvbiAoRmlsdGVyTW9kZSkge1xyXG4gICAgICAgIEZpbHRlck1vZGVbKEZpbHRlck1vZGVbXCJsaWdodFwiXSA9IDApXSA9IFwibGlnaHRcIjtcclxuICAgICAgICBGaWx0ZXJNb2RlWyhGaWx0ZXJNb2RlW1wiZGFya1wiXSA9IDEpXSA9IFwiZGFya1wiO1xyXG4gICAgfSkoRmlsdGVyTW9kZSB8fCAoRmlsdGVyTW9kZSA9IHt9KSk7XHJcbiAgICBmdW5jdGlvbiBnZXRDU1NGaWx0ZXJWYWx1ZShjb25maWcpIHtcclxuICAgICAgICB2YXIgZmlsdGVycyA9IFtdO1xyXG4gICAgICAgIGlmIChjb25maWcubW9kZSA9PT0gRmlsdGVyTW9kZS5kYXJrKSB7XHJcbiAgICAgICAgICAgIGZpbHRlcnMucHVzaChcImludmVydCgxMDAlKSBodWUtcm90YXRlKDE4MGRlZylcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb25maWcuYnJpZ2h0bmVzcyAhPT0gMTAwKSB7XHJcbiAgICAgICAgICAgIGZpbHRlcnMucHVzaChcImJyaWdodG5lc3MoXCIuY29uY2F0KGNvbmZpZy5icmlnaHRuZXNzLCBcIiUpXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbmZpZy5jb250cmFzdCAhPT0gMTAwKSB7XHJcbiAgICAgICAgICAgIGZpbHRlcnMucHVzaChcImNvbnRyYXN0KFwiLmNvbmNhdChjb25maWcuY29udHJhc3QsIFwiJSlcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29uZmlnLmdyYXlzY2FsZSAhPT0gMCkge1xyXG4gICAgICAgICAgICBmaWx0ZXJzLnB1c2goXCJncmF5c2NhbGUoXCIuY29uY2F0KGNvbmZpZy5ncmF5c2NhbGUsIFwiJSlcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29uZmlnLnNlcGlhICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGZpbHRlcnMucHVzaChcInNlcGlhKFwiLmNvbmNhdChjb25maWcuc2VwaWEsIFwiJSlcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmlsdGVycy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmaWx0ZXJzLmpvaW4oXCIgXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvU1ZHTWF0cml4KG1hdHJpeCkge1xyXG4gICAgICAgIHJldHVybiBtYXRyaXhcclxuICAgICAgICAgICAgLnNsaWNlKDAsIDQpXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKG0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAobSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS50b0ZpeGVkKDMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuam9pbihcIiBcIik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRTVkdGaWx0ZXJNYXRyaXhWYWx1ZShjb25maWcpIHtcclxuICAgICAgICByZXR1cm4gdG9TVkdNYXRyaXgoY3JlYXRlRmlsdGVyTWF0cml4KGNvbmZpZykpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGhleGlmeShudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gKG51bWJlciA8IDE2ID8gXCIwXCIgOiBcIlwiKSArIG51bWJlci50b1N0cmluZygxNik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZW5lcmF0ZVVJRCgpIHtcclxuICAgICAgICBpZiAoXCJyYW5kb21VVUlEXCIgaW4gY3J5cHRvKSB7XHJcbiAgICAgICAgICAgIHZhciB1dWlkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIHV1aWQuc3Vic3RyaW5nKDAsIDgpICtcclxuICAgICAgICAgICAgICAgIHV1aWQuc3Vic3RyaW5nKDksIDEzKSArXHJcbiAgICAgICAgICAgICAgICB1dWlkLnN1YnN0cmluZygxNCwgMTgpICtcclxuICAgICAgICAgICAgICAgIHV1aWQuc3Vic3RyaW5nKDE5LCAyMykgK1xyXG4gICAgICAgICAgICAgICAgdXVpZC5zdWJzdHJpbmcoMjQpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChcImdldFJhbmRvbVZhbHVlc1wiIGluIGNyeXB0bykge1xyXG4gICAgICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDE2KSkpXHJcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhleGlmeSh4KTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuam9pbihcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGgucG93KDIsIDU1KSkudG9TdHJpbmcoMzYpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciByZXNvbHZlcnMkMSA9IG5ldyBNYXAoKTtcclxuICAgIHZhciByZWplY3RvcnMgPSBuZXcgTWFwKCk7XHJcbiAgICBmdW5jdGlvbiBiZ0ZldGNoKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgMixcclxuICAgICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IGdlbmVyYXRlVUlEKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVycyQxLnNldChpZCwgcmVzb2x2ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdG9ycy5zZXQoaWQsIHJlamVjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IE1lc3NhZ2VUeXBlQ1N0b0JHLkZFVENILFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVxdWVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgdmFyIHR5cGUgPSBfYS50eXBlLFxyXG4gICAgICAgICAgICBkYXRhID0gX2EuZGF0YSxcclxuICAgICAgICAgICAgZXJyb3IgPSBfYS5lcnJvcixcclxuICAgICAgICAgICAgaWQgPSBfYS5pZDtcclxuICAgICAgICBpZiAodHlwZSA9PT0gTWVzc2FnZVR5cGVCR3RvQ1MuRkVUQ0hfUkVTUE9OU0UpIHtcclxuICAgICAgICAgICAgdmFyIHJlc29sdmUgPSByZXNvbHZlcnMkMS5nZXQoaWQpO1xyXG4gICAgICAgICAgICB2YXIgcmVqZWN0ID0gcmVqZWN0b3JzLmdldChpZCk7XHJcbiAgICAgICAgICAgIHJlc29sdmVycyQxLmRlbGV0ZShpZCk7XHJcbiAgICAgICAgICAgIHJlamVjdG9ycy5kZWxldGUoaWQpO1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdCAmJiByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSAmJiByZXNvbHZlKGRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIEFzeW5jUXVldWUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIEFzeW5jUXVldWUoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucXVldWUgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy50aW1lcklkID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZUR1cmF0aW9uID0gMTAwMCAvIDYwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBc3luY1F1ZXVlLnByb3RvdHlwZS5hZGRUb1F1ZXVlID0gZnVuY3Rpb24gKGVudHJ5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucXVldWUucHVzaChlbnRyeSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhcnRRdWV1ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgQXN5bmNRdWV1ZS5wcm90b3R5cGUuc3RvcFF1ZXVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lcklkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnRpbWVySWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lcklkID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlID0gW107XHJcbiAgICAgICAgfTtcclxuICAgICAgICBBc3luY1F1ZXVlLnByb3RvdHlwZS5zdGFydFF1ZXVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAodGhpcy50aW1lcklkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50aW1lcklkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLnRpbWVySWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIHZhciBjYjtcclxuICAgICAgICAgICAgICAgIHdoaWxlICgoY2IgPSBfdGhpcy5xdWV1ZS5zaGlmdCgpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNiKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSBzdGFydCA+PSBfdGhpcy5mcmFtZUR1cmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXJ0UXVldWUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBBc3luY1F1ZXVlO1xyXG4gICAgfSkoKTtcclxuXHJcbiAgICB2YXIgaW1hZ2VNYW5hZ2VyID0gbmV3IEFzeW5jUXVldWUoKTtcclxuICAgIGZ1bmN0aW9uIGdldEltYWdlRGV0YWlscyh1cmwpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgMixcclxuICAgICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YVVSTCwgZXJyb3JfMSwgaW1hZ2VfMSwgZXJyb3JfMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdXJsLnN0YXJ0c1dpdGgoXCJkYXRhOlwiKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVVSTCA9IHVybDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIGdldEltYWdlRGF0YVVSTCh1cmwpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVVSTCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3JfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzQsIDYsICwgN10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCB1cmxUb0ltYWdlKGRhdGFVUkwpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VfMSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlTWFuYWdlci5hZGRUb1F1ZXVlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYW5hbHlzaXMgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmFseXplSW1hZ2UoaW1hZ2VfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19hc3NpZ24oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiB1cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVVSTDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5hbHlzaXMuaXNMYXJnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGRhdGFVUkwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGltYWdlXzEubmF0dXJhbFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaW1hZ2VfMS5uYXR1cmFsSGVpZ2h0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5hbHlzaXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgN107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yXzIgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3JfMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRJbWFnZURhdGFVUkwodXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcGFyc2VkVVJMO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRVUkwgPSBuZXcgVVJMKHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHBhcnNlZFVSTC5vcmlnaW4gPT09IGxvY2F0aW9uLm9yaWdpbikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIGxvYWRBc0RhdGFVUkwodXJsKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIsIF9hLnNlbnQoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnRmV0Y2goe3VybDogdXJsLCByZXNwb25zZVR5cGU6IFwiZGF0YS11cmxcIn0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIsIF9hLnNlbnQoKV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdXJsVG9JbWFnZSh1cmwpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgMixcclxuICAgICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShpbWFnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KFwiVW5hYmxlIHRvIGxvYWQgaW1hZ2UgXCIuY29uY2F0KHVybCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSB1cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdmFyIE1BWF9BTkFMWVNJU19QSVhFTFNfQ09VTlQgPSAzMiAqIDMyO1xyXG4gICAgdmFyIGNhbnZhcztcclxuICAgIHZhciBjb250ZXh0O1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FudmFzKCkge1xyXG4gICAgICAgIHZhciBtYXhXaWR0aCA9IE1BWF9BTkFMWVNJU19QSVhFTFNfQ09VTlQ7XHJcbiAgICAgICAgdmFyIG1heEhlaWdodCA9IE1BWF9BTkFMWVNJU19QSVhFTFNfQ09VTlQ7XHJcbiAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICBjYW52YXMud2lkdGggPSBtYXhXaWR0aDtcclxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gbWF4SGVpZ2h0O1xyXG4gICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIsIHt3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWV9KTtcclxuICAgICAgICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQ2FudmFzKCkge1xyXG4gICAgICAgIGNhbnZhcyA9IG51bGw7XHJcbiAgICAgICAgY29udGV4dCA9IG51bGw7XHJcbiAgICB9XHJcbiAgICB2YXIgTEFSR0VfSU1BR0VfUElYRUxTX0NPVU5UID0gNTEyICogNTEyO1xyXG4gICAgZnVuY3Rpb24gYW5hbHl6ZUltYWdlKGltYWdlKSB7XHJcbiAgICAgICAgaWYgKCFjYW52YXMpIHtcclxuICAgICAgICAgICAgY3JlYXRlQ2FudmFzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBuYXR1cmFsV2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGgsXHJcbiAgICAgICAgICAgIG5hdHVyYWxIZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG4gICAgICAgIGlmIChuYXR1cmFsSGVpZ2h0ID09PSAwIHx8IG5hdHVyYWxXaWR0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICBsb2dXYXJuKFwibG9nV2FybihJbWFnZSBpcyBlbXB0eSBcIi5jb25jYXQoaW1hZ2UuY3VycmVudFNyYywgXCIpXCIpKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGlzRGFyazogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0xpZ2h0OiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzVHJhbnNwYXJlbnQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNMYXJnZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc1Rvb0xhcmdlOiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmF0dXJhbFdpZHRoICogbmF0dXJhbEhlaWdodCA+IExBUkdFX0lNQUdFX1BJWEVMU19DT1VOVCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaXNEYXJrOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGlzTGlnaHQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNUcmFuc3BhcmVudDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBpc0xhcmdlOiB0cnVlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBuYXR1cmFsUGl4ZWxzQ291bnQgPSBuYXR1cmFsV2lkdGggKiBuYXR1cmFsSGVpZ2h0O1xyXG4gICAgICAgIHZhciBrID0gTWF0aC5taW4oXHJcbiAgICAgICAgICAgIDEsXHJcbiAgICAgICAgICAgIE1hdGguc3FydChNQVhfQU5BTFlTSVNfUElYRUxTX0NPVU5UIC8gbmF0dXJhbFBpeGVsc0NvdW50KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKG5hdHVyYWxXaWR0aCAqIGspO1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwobmF0dXJhbEhlaWdodCAqIGspO1xyXG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKFxyXG4gICAgICAgICAgICBpbWFnZSxcclxuICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgMCxcclxuICAgICAgICAgICAgbmF0dXJhbFdpZHRoLFxyXG4gICAgICAgICAgICBuYXR1cmFsSGVpZ2h0LFxyXG4gICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICAwLFxyXG4gICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0XHJcbiAgICAgICAgKTtcclxuICAgICAgICB2YXIgaW1hZ2VEYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgdmFyIGQgPSBpbWFnZURhdGEuZGF0YTtcclxuICAgICAgICB2YXIgVFJBTlNQQVJFTlRfQUxQSEFfVEhSRVNIT0xEID0gMC4wNTtcclxuICAgICAgICB2YXIgREFSS19MSUdIVE5FU1NfVEhSRVNIT0xEID0gMC40O1xyXG4gICAgICAgIHZhciBMSUdIVF9MSUdIVE5FU1NfVEhSRVNIT0xEID0gMC43O1xyXG4gICAgICAgIHZhciB0cmFuc3BhcmVudFBpeGVsc0NvdW50ID0gMDtcclxuICAgICAgICB2YXIgZGFya1BpeGVsc0NvdW50ID0gMDtcclxuICAgICAgICB2YXIgbGlnaHRQaXhlbHNDb3VudCA9IDA7XHJcbiAgICAgICAgdmFyIGksIHgsIHk7XHJcbiAgICAgICAgdmFyIHIsIGcsIGIsIGE7XHJcbiAgICAgICAgdmFyIGw7XHJcbiAgICAgICAgZm9yICh5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBpID0gNCAqICh5ICogd2lkdGggKyB4KTtcclxuICAgICAgICAgICAgICAgIHIgPSBkW2kgKyAwXTtcclxuICAgICAgICAgICAgICAgIGcgPSBkW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgIGIgPSBkW2kgKyAyXTtcclxuICAgICAgICAgICAgICAgIGEgPSBkW2kgKyAzXTtcclxuICAgICAgICAgICAgICAgIGlmIChhIC8gMjU1IDwgVFJBTlNQQVJFTlRfQUxQSEFfVEhSRVNIT0xEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRQaXhlbHNDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsID0gZ2V0U1JHQkxpZ2h0bmVzcyhyLCBnLCBiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobCA8IERBUktfTElHSFRORVNTX1RIUkVTSE9MRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXJrUGl4ZWxzQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGwgPiBMSUdIVF9MSUdIVE5FU1NfVEhSRVNIT0xEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpZ2h0UGl4ZWxzQ291bnQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHRvdGFsUGl4ZWxzQ291bnQgPSB3aWR0aCAqIGhlaWdodDtcclxuICAgICAgICB2YXIgb3BhcXVlUGl4ZWxzQ291bnQgPSB0b3RhbFBpeGVsc0NvdW50IC0gdHJhbnNwYXJlbnRQaXhlbHNDb3VudDtcclxuICAgICAgICB2YXIgREFSS19JTUFHRV9USFJFU0hPTEQgPSAwLjc7XHJcbiAgICAgICAgdmFyIExJR0hUX0lNQUdFX1RIUkVTSE9MRCA9IDAuNztcclxuICAgICAgICB2YXIgVFJBTlNQQVJFTlRfSU1BR0VfVEhSRVNIT0xEID0gMC4xO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlzRGFyazogZGFya1BpeGVsc0NvdW50IC8gb3BhcXVlUGl4ZWxzQ291bnQgPj0gREFSS19JTUFHRV9USFJFU0hPTEQsXHJcbiAgICAgICAgICAgIGlzTGlnaHQ6XHJcbiAgICAgICAgICAgICAgICBsaWdodFBpeGVsc0NvdW50IC8gb3BhcXVlUGl4ZWxzQ291bnQgPj0gTElHSFRfSU1BR0VfVEhSRVNIT0xELFxyXG4gICAgICAgICAgICBpc1RyYW5zcGFyZW50OlxyXG4gICAgICAgICAgICAgICAgdHJhbnNwYXJlbnRQaXhlbHNDb3VudCAvIHRvdGFsUGl4ZWxzQ291bnQgPj1cclxuICAgICAgICAgICAgICAgIFRSQU5TUEFSRU5UX0lNQUdFX1RIUkVTSE9MRCxcclxuICAgICAgICAgICAgaXNMYXJnZTogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0RmlsdGVyZWRJbWFnZURhdGFVUkwoX2EsIHRoZW1lKSB7XHJcbiAgICAgICAgdmFyIGRhdGFVUkwgPSBfYS5kYXRhVVJMLFxyXG4gICAgICAgICAgICB3aWR0aCA9IF9hLndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQgPSBfYS5oZWlnaHQ7XHJcbiAgICAgICAgdmFyIG1hdHJpeCA9IGdldFNWR0ZpbHRlck1hdHJpeFZhbHVlKHRoZW1lKTtcclxuICAgICAgICB2YXIgc3ZnID0gW1xyXG4gICAgICAgICAgICAnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIgd2lkdGg9XCInXHJcbiAgICAgICAgICAgICAgICAuY29uY2F0KHdpZHRoLCAnXCIgaGVpZ2h0PVwiJylcclxuICAgICAgICAgICAgICAgIC5jb25jYXQoaGVpZ2h0LCAnXCI+JyksXHJcbiAgICAgICAgICAgIFwiPGRlZnM+XCIsXHJcbiAgICAgICAgICAgICc8ZmlsdGVyIGlkPVwiZGFya3JlYWRlci1pbWFnZS1maWx0ZXJcIj4nLFxyXG4gICAgICAgICAgICAnPGZlQ29sb3JNYXRyaXggdHlwZT1cIm1hdHJpeFwiIHZhbHVlcz1cIicuY29uY2F0KG1hdHJpeCwgJ1wiIC8+JyksXHJcbiAgICAgICAgICAgIFwiPC9maWx0ZXI+XCIsXHJcbiAgICAgICAgICAgIFwiPC9kZWZzPlwiLFxyXG4gICAgICAgICAgICAnPGltYWdlIHdpZHRoPVwiJ1xyXG4gICAgICAgICAgICAgICAgLmNvbmNhdCh3aWR0aCwgJ1wiIGhlaWdodD1cIicpXHJcbiAgICAgICAgICAgICAgICAuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAnXCIgZmlsdGVyPVwidXJsKCNkYXJrcmVhZGVyLWltYWdlLWZpbHRlcilcIiB4bGluazpocmVmPVwiJ1xyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLmNvbmNhdChkYXRhVVJMLCAnXCIgLz4nKSxcclxuICAgICAgICAgICAgXCI8L3N2Zz5cIlxyXG4gICAgICAgIF0uam9pbihcIlwiKTtcclxuICAgICAgICByZXR1cm4gXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFwiLmNvbmNhdChidG9hKHN2ZykpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2xlYW5JbWFnZVByb2Nlc3NpbmdDYWNoZSgpIHtcclxuICAgICAgICBpbWFnZU1hbmFnZXIgJiYgaW1hZ2VNYW5hZ2VyLnN0b3BRdWV1ZSgpO1xyXG4gICAgICAgIHJlbW92ZUNhbnZhcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBncmFkaWVudExlbmd0aCA9IFwiZ3JhZGllbnRcIi5sZW5ndGg7XHJcbiAgICB2YXIgY29uaWNHcmFkaWVudCA9IFwiY29uaWMtXCI7XHJcbiAgICB2YXIgY29uaWNHcmFkaWVudExlbmd0aCA9IGNvbmljR3JhZGllbnQubGVuZ3RoO1xyXG4gICAgdmFyIHJhZGlhbEdyYWRpZW50ID0gXCJyYWRpYWwtXCI7XHJcbiAgICB2YXIgbGluZWFyR3JhZGllbnQgPSBcImxpbmVhci1cIjtcclxuICAgIGZ1bmN0aW9uIHBhcnNlR3JhZGllbnQodmFsdWUpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICB2YXIgc3RhcnRJbmRleCA9IGNvbmljR3JhZGllbnQubGVuZ3RoO1xyXG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdHlwZUdyYWRpZW50O1xyXG4gICAgICAgICAgICBbbGluZWFyR3JhZGllbnQsIHJhZGlhbEdyYWRpZW50LCBjb25pY0dyYWRpZW50XS5maW5kKFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHBvc3NpYmxlVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCAtIHBvc3NpYmxlVHlwZS5sZW5ndGggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVHcmFkaWVudCA9IHZhbHVlLnN1YnN0cmluZyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4IC0gcG9zc2libGVUeXBlLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3NzaWJsZUdyYWRpZW50ID09PSBwb3NzaWJsZVR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zbGljZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggLSBwb3NzaWJsZVR5cGUubGVuZ3RoIC0gMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4IC0gcG9zc2libGVUeXBlLmxlbmd0aCAtIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApID09PSBcInJlcGVhdGluZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlR3JhZGllbnQgPSBcInJlcGVhdGluZy1cIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlVHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJncmFkaWVudFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5zbGljZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggLSBwb3NzaWJsZVR5cGUubGVuZ3RoIC0gOCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggLSBwb3NzaWJsZVR5cGUubGVuZ3RoIC0gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgPT09IFwiLXdlYmtpdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlR3JhZGllbnQgPSBcIi13ZWJraXQtXCIuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZVR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ3JhZGllbnRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlR3JhZGllbnQgPSBcIlwiLmNvbmNhdChwb3NzaWJsZVR5cGUsIFwiZ3JhZGllbnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKCF0eXBlR3JhZGllbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImJyZWFrXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIF9hID0gZ2V0UGFyZW50aGVzZXNSYW5nZSh2YWx1ZSwgaW5kZXggKyBncmFkaWVudExlbmd0aCksXHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IF9hLnN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgZW5kID0gX2EuZW5kO1xyXG4gICAgICAgICAgICB2YXIgbWF0Y2ggPSB2YWx1ZS5zdWJzdHJpbmcoc3RhcnQgKyAxLCBlbmQgLSAxKTtcclxuICAgICAgICAgICAgc3RhcnRJbmRleCA9IGVuZCArIDEgKyBjb25pY0dyYWRpZW50TGVuZ3RoO1xyXG4gICAgICAgICAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlR3JhZGllbnQ6IHR5cGVHcmFkaWVudCxcclxuICAgICAgICAgICAgICAgIG1hdGNoOiBtYXRjaCxcclxuICAgICAgICAgICAgICAgIG9mZnNldDogdHlwZUdyYWRpZW50Lmxlbmd0aCArIDIsXHJcbiAgICAgICAgICAgICAgICBpbmRleDogaW5kZXggLSB0eXBlR3JhZGllbnQubGVuZ3RoICsgZ3JhZGllbnRMZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBoYXNDb21tYTogdHJ1ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHdoaWxlICgoaW5kZXggPSB2YWx1ZS5pbmRleE9mKFwiZ3JhZGllbnRcIiwgc3RhcnRJbmRleCkpICE9PSAtMSkge1xyXG4gICAgICAgICAgICB2YXIgc3RhdGVfMSA9IF9sb29wXzEoKTtcclxuICAgICAgICAgICAgaWYgKHN0YXRlXzEgPT09IFwiYnJlYWtcIikgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0uaGFzQ29tbWEgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRQcmlvcml0eShydWxlU3R5bGUsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4ocnVsZVN0eWxlICYmIHJ1bGVTdHlsZS5nZXRQcm9wZXJ0eVByaW9yaXR5KHByb3BlcnR5KSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRNb2RpZmlhYmxlQ1NTRGVjbGFyYXRpb24oXHJcbiAgICAgICAgcHJvcGVydHksXHJcbiAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgcnVsZSxcclxuICAgICAgICB2YXJpYWJsZXNTdG9yZSxcclxuICAgICAgICBpZ25vcmVJbWFnZVNlbGVjdG9ycyxcclxuICAgICAgICBpc0NhbmNlbGxlZFxyXG4gICAgKSB7XHJcbiAgICAgICAgaWYgKHByb3BlcnR5LnN0YXJ0c1dpdGgoXCItLVwiKSkge1xyXG4gICAgICAgICAgICB2YXIgbW9kaWZpZXIgPSBnZXRWYXJpYWJsZU1vZGlmaWVyKFxyXG4gICAgICAgICAgICAgICAgdmFyaWFibGVzU3RvcmUsXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgcnVsZSxcclxuICAgICAgICAgICAgICAgIGlnbm9yZUltYWdlU2VsZWN0b3JzLFxyXG4gICAgICAgICAgICAgICAgaXNDYW5jZWxsZWRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKG1vZGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0YW50OiBnZXRQcmlvcml0eShydWxlLnN0eWxlLCBwcm9wZXJ0eSksXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlVmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS5pbmNsdWRlcyhcInZhcihcIikpIHtcclxuICAgICAgICAgICAgdmFyIG1vZGlmaWVyID0gZ2V0VmFyaWFibGVEZXBlbmRhbnRNb2RpZmllcihcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlc1N0b3JlLFxyXG4gICAgICAgICAgICAgICAgcHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAobW9kaWZpZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRhbnQ6IGdldFByaW9yaXR5KHJ1bGUuc3R5bGUsIHByb3BlcnR5KSxcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VWYWx1ZTogdmFsdWVcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHByb3BlcnR5ID09PSBcImNvbG9yLXNjaGVtZVwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIChwcm9wZXJ0eS5pbmNsdWRlcyhcImNvbG9yXCIpICYmXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSAhPT0gXCItd2Via2l0LXByaW50LWNvbG9yLWFkanVzdFwiKSB8fFxyXG4gICAgICAgICAgICBwcm9wZXJ0eSA9PT0gXCJmaWxsXCIgfHxcclxuICAgICAgICAgICAgcHJvcGVydHkgPT09IFwic3Ryb2tlXCIgfHxcclxuICAgICAgICAgICAgcHJvcGVydHkgPT09IFwic3RvcC1jb2xvclwiXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHZhciBtb2RpZmllciA9IGdldENvbG9yTW9kaWZpZXIocHJvcGVydHksIHZhbHVlLCBydWxlKTtcclxuICAgICAgICAgICAgaWYgKG1vZGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbW9kaWZpZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgaW1wb3J0YW50OiBnZXRQcmlvcml0eShydWxlLnN0eWxlLCBwcm9wZXJ0eSksXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlVmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgICAgcHJvcGVydHkgPT09IFwiYmFja2dyb3VuZC1pbWFnZVwiIHx8XHJcbiAgICAgICAgICAgIHByb3BlcnR5ID09PSBcImxpc3Qtc3R5bGUtaW1hZ2VcIlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB2YXIgbW9kaWZpZXIgPSBnZXRCZ0ltYWdlTW9kaWZpZXIoXHJcbiAgICAgICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgICAgIHJ1bGUsXHJcbiAgICAgICAgICAgICAgICBpZ25vcmVJbWFnZVNlbGVjdG9ycyxcclxuICAgICAgICAgICAgICAgIGlzQ2FuY2VsbGVkXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmIChtb2RpZmllcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1vZGlmaWVyLFxyXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydGFudDogZ2V0UHJpb3JpdHkocnVsZS5zdHlsZSwgcHJvcGVydHkpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZVZhbHVlOiB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAocHJvcGVydHkuaW5jbHVkZXMoXCJzaGFkb3dcIikpIHtcclxuICAgICAgICAgICAgdmFyIG1vZGlmaWVyID0gZ2V0U2hhZG93TW9kaWZpZXIodmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAobW9kaWZpZXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtb2RpZmllcixcclxuICAgICAgICAgICAgICAgICAgICBpbXBvcnRhbnQ6IGdldFByaW9yaXR5KHJ1bGUuc3R5bGUsIHByb3BlcnR5KSxcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VWYWx1ZTogdmFsdWVcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBqb2luU2VsZWN0b3JzKCkge1xyXG4gICAgICAgIHZhciBzZWxlY3RvcnMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBzZWxlY3RvcnNbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNlbGVjdG9ycy5maWx0ZXIoQm9vbGVhbikuam9pbihcIiwgXCIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0TW9kaWZpZWRVc2VyQWdlbnRTdHlsZSh0aGVtZSwgaXNJRnJhbWUsIHN0eWxlU3lzdGVtQ29udHJvbHMpIHtcclxuICAgICAgICB2YXIgbGluZXMgPSBbXTtcclxuICAgICAgICBpZiAoIWlzSUZyYW1lKSB7XHJcbiAgICAgICAgICAgIGxpbmVzLnB1c2goXCJodG1sIHtcIik7XHJcbiAgICAgICAgICAgIGxpbmVzLnB1c2goXHJcbiAgICAgICAgICAgICAgICBcIiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZ5QmFja2dyb3VuZENvbG9yKHtyOiAyNTUsIGc6IDI1NSwgYjogMjU1fSwgdGhlbWUpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiICFpbXBvcnRhbnQ7XCJcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgbGluZXMucHVzaChcIn1cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0NTU0NvbG9yU2NoZW1lUHJvcFN1cHBvcnRlZCkge1xyXG4gICAgICAgICAgICBsaW5lcy5wdXNoKFwiaHRtbCB7XCIpO1xyXG4gICAgICAgICAgICBsaW5lcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgXCIgICAgY29sb3Itc2NoZW1lOiBcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhlbWUubW9kZSA9PT0gMSA/IFwiZGFya1wiIDogXCJkYXJrIGxpZ2h0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCIgIWltcG9ydGFudDtcIlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBsaW5lcy5wdXNoKFwifVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGJnU2VsZWN0b3JzID0gam9pblNlbGVjdG9ycyhcclxuICAgICAgICAgICAgaXNJRnJhbWUgPyBcIlwiIDogXCJodG1sLCBib2R5XCIsXHJcbiAgICAgICAgICAgIHN0eWxlU3lzdGVtQ29udHJvbHMgPyBcImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0LCBidXR0b24sIGRpYWxvZ1wiIDogXCJcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKGJnU2VsZWN0b3JzKSB7XHJcbiAgICAgICAgICAgIGxpbmVzLnB1c2goXCJcIi5jb25jYXQoYmdTZWxlY3RvcnMsIFwiIHtcIikpO1xyXG4gICAgICAgICAgICBsaW5lcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgXCIgICAgYmFja2dyb3VuZC1jb2xvcjogXCIuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGlmeUJhY2tncm91bmRDb2xvcih7cjogMjU1LCBnOiAyNTUsIGI6IDI1NX0sIHRoZW1lKSxcclxuICAgICAgICAgICAgICAgICAgICBcIjtcIlxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBsaW5lcy5wdXNoKFwifVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGluZXMucHVzaChcclxuICAgICAgICAgICAgXCJcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICBqb2luU2VsZWN0b3JzKFxyXG4gICAgICAgICAgICAgICAgICAgIFwiaHRtbCwgYm9keVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlU3lzdGVtQ29udHJvbHMgPyBcImlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0LCBidXR0b25cIiA6IFwiXCJcclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBcIiB7XCJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbGluZXMucHVzaChcclxuICAgICAgICAgICAgXCIgICAgYm9yZGVyLWNvbG9yOiBcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICBtb2RpZnlCb3JkZXJDb2xvcih7cjogNzYsIGc6IDc2LCBiOiA3Nn0sIHRoZW1lKSxcclxuICAgICAgICAgICAgICAgIFwiO1wiXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXHJcbiAgICAgICAgICAgIFwiICAgIGNvbG9yOiBcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICBtb2RpZnlGb3JlZ3JvdW5kQ29sb3Ioe3I6IDAsIGc6IDAsIGI6IDB9LCB0aGVtZSksXHJcbiAgICAgICAgICAgICAgICBcIjtcIlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFwifVwiKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFwiYSB7XCIpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXHJcbiAgICAgICAgICAgIFwiICAgIGNvbG9yOiBcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICBtb2RpZnlGb3JlZ3JvdW5kQ29sb3Ioe3I6IDAsIGc6IDY0LCBiOiAyNTV9LCB0aGVtZSksXHJcbiAgICAgICAgICAgICAgICBcIjtcIlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFwifVwiKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFwidGFibGUge1wiKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFxyXG4gICAgICAgICAgICBcIiAgICBib3JkZXItY29sb3I6IFwiLmNvbmNhdChcclxuICAgICAgICAgICAgICAgIG1vZGlmeUJvcmRlckNvbG9yKHtyOiAxMjgsIGc6IDEyOCwgYjogMTI4fSwgdGhlbWUpLFxyXG4gICAgICAgICAgICAgICAgXCI7XCJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbGluZXMucHVzaChcIn1cIik7XHJcbiAgICAgICAgbGluZXMucHVzaChcIjo6cGxhY2Vob2xkZXIge1wiKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFxyXG4gICAgICAgICAgICBcIiAgICBjb2xvcjogXCIuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgbW9kaWZ5Rm9yZWdyb3VuZENvbG9yKHtyOiAxNjksIGc6IDE2OSwgYjogMTY5fSwgdGhlbWUpLFxyXG4gICAgICAgICAgICAgICAgXCI7XCJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbGluZXMucHVzaChcIn1cIik7XHJcbiAgICAgICAgbGluZXMucHVzaChcImlucHV0Oi13ZWJraXQtYXV0b2ZpbGwsXCIpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXCJ0ZXh0YXJlYTotd2Via2l0LWF1dG9maWxsLFwiKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFwic2VsZWN0Oi13ZWJraXQtYXV0b2ZpbGwge1wiKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFxyXG4gICAgICAgICAgICBcIiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICBtb2RpZnlCYWNrZ3JvdW5kQ29sb3Ioe3I6IDI1MCwgZzogMjU1LCBiOiAxODl9LCB0aGVtZSksXHJcbiAgICAgICAgICAgICAgICBcIiAhaW1wb3J0YW50O1wiXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXHJcbiAgICAgICAgICAgIFwiICAgIGNvbG9yOiBcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICBtb2RpZnlGb3JlZ3JvdW5kQ29sb3Ioe3I6IDAsIGc6IDAsIGI6IDB9LCB0aGVtZSksXHJcbiAgICAgICAgICAgICAgICBcIiAhaW1wb3J0YW50O1wiXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXCJ9XCIpO1xyXG4gICAgICAgIGlmICh0aGVtZS5zY3JvbGxiYXJDb2xvcikge1xyXG4gICAgICAgICAgICBsaW5lcy5wdXNoKGdldE1vZGlmaWVkU2Nyb2xsYmFyU3R5bGUodGhlbWUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoZW1lLnNlbGVjdGlvbkNvbG9yKSB7XHJcbiAgICAgICAgICAgIGxpbmVzLnB1c2goZ2V0TW9kaWZpZWRTZWxlY3Rpb25TdHlsZSh0aGVtZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGluZXMuam9pbihcIlxcblwiKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldFNlbGVjdGlvbkNvbG9yKHRoZW1lKSB7XHJcbiAgICAgICAgdmFyIGJhY2tncm91bmRDb2xvclNlbGVjdGlvbjtcclxuICAgICAgICB2YXIgZm9yZWdyb3VuZENvbG9yU2VsZWN0aW9uO1xyXG4gICAgICAgIGlmICh0aGVtZS5zZWxlY3Rpb25Db2xvciA9PT0gXCJhdXRvXCIpIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yU2VsZWN0aW9uID0gbW9kaWZ5QmFja2dyb3VuZENvbG9yKFxyXG4gICAgICAgICAgICAgICAge3I6IDAsIGc6IDk2LCBiOiAyMTJ9LFxyXG4gICAgICAgICAgICAgICAgX19hc3NpZ24oX19hc3NpZ24oe30sIHRoZW1lKSwge2dyYXlzY2FsZTogMH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGZvcmVncm91bmRDb2xvclNlbGVjdGlvbiA9IG1vZGlmeUZvcmVncm91bmRDb2xvcihcclxuICAgICAgICAgICAgICAgIHtyOiAyNTUsIGc6IDI1NSwgYjogMjU1fSxcclxuICAgICAgICAgICAgICAgIF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGVtZSksIHtncmF5c2NhbGU6IDB9KVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciByZ2IgPSBwYXJzZUNvbG9yV2l0aENhY2hlKHRoZW1lLnNlbGVjdGlvbkNvbG9yKTtcclxuICAgICAgICAgICAgdmFyIGhzbCA9IHJnYlRvSFNMKHJnYik7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvclNlbGVjdGlvbiA9IHRoZW1lLnNlbGVjdGlvbkNvbG9yO1xyXG4gICAgICAgICAgICBpZiAoaHNsLmwgPCAwLjUpIHtcclxuICAgICAgICAgICAgICAgIGZvcmVncm91bmRDb2xvclNlbGVjdGlvbiA9IFwiI0ZGRlwiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yZWdyb3VuZENvbG9yU2VsZWN0aW9uID0gXCIjMDAwXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yU2VsZWN0aW9uOiBiYWNrZ3JvdW5kQ29sb3JTZWxlY3Rpb24sXHJcbiAgICAgICAgICAgIGZvcmVncm91bmRDb2xvclNlbGVjdGlvbjogZm9yZWdyb3VuZENvbG9yU2VsZWN0aW9uXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldE1vZGlmaWVkU2VsZWN0aW9uU3R5bGUodGhlbWUpIHtcclxuICAgICAgICB2YXIgbGluZXMgPSBbXTtcclxuICAgICAgICB2YXIgbW9kaWZpZWRTZWxlY3Rpb25Db2xvciA9IGdldFNlbGVjdGlvbkNvbG9yKHRoZW1lKTtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZENvbG9yU2VsZWN0aW9uID1cclxuICAgICAgICAgICAgbW9kaWZpZWRTZWxlY3Rpb25Db2xvci5iYWNrZ3JvdW5kQ29sb3JTZWxlY3Rpb247XHJcbiAgICAgICAgdmFyIGZvcmVncm91bmRDb2xvclNlbGVjdGlvbiA9XHJcbiAgICAgICAgICAgIG1vZGlmaWVkU2VsZWN0aW9uQ29sb3IuZm9yZWdyb3VuZENvbG9yU2VsZWN0aW9uO1xyXG4gICAgICAgIFtcIjo6c2VsZWN0aW9uXCIsIFwiOjotbW96LXNlbGVjdGlvblwiXS5mb3JFYWNoKGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgbGluZXMucHVzaChcIlwiLmNvbmNhdChzZWxlY3Rpb24sIFwiIHtcIikpO1xyXG4gICAgICAgICAgICBsaW5lcy5wdXNoKFxyXG4gICAgICAgICAgICAgICAgXCIgICAgYmFja2dyb3VuZC1jb2xvcjogXCIuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvclNlbGVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBcIiAhaW1wb3J0YW50O1wiXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGxpbmVzLnB1c2goXHJcbiAgICAgICAgICAgICAgICBcIiAgICBjb2xvcjogXCIuY29uY2F0KGZvcmVncm91bmRDb2xvclNlbGVjdGlvbiwgXCIgIWltcG9ydGFudDtcIilcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgbGluZXMucHVzaChcIn1cIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGxpbmVzLmpvaW4oXCJcXG5cIik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRNb2RpZmllZFNjcm9sbGJhclN0eWxlKHRoZW1lKSB7XHJcbiAgICAgICAgdmFyIGxpbmVzID0gW107XHJcbiAgICAgICAgdmFyIGNvbG9yVHJhY2s7XHJcbiAgICAgICAgdmFyIGNvbG9ySWNvbnM7XHJcbiAgICAgICAgdmFyIGNvbG9yVGh1bWI7XHJcbiAgICAgICAgdmFyIGNvbG9yVGh1bWJIb3ZlcjtcclxuICAgICAgICB2YXIgY29sb3JUaHVtYkFjdGl2ZTtcclxuICAgICAgICB2YXIgY29sb3JDb3JuZXI7XHJcbiAgICAgICAgaWYgKHRoZW1lLnNjcm9sbGJhckNvbG9yID09PSBcImF1dG9cIikge1xyXG4gICAgICAgICAgICBjb2xvclRyYWNrID0gbW9kaWZ5QmFja2dyb3VuZENvbG9yKHtyOiAyNDEsIGc6IDI0MSwgYjogMjQxfSwgdGhlbWUpO1xyXG4gICAgICAgICAgICBjb2xvckljb25zID0gbW9kaWZ5Rm9yZWdyb3VuZENvbG9yKHtyOiA5NiwgZzogOTYsIGI6IDk2fSwgdGhlbWUpO1xyXG4gICAgICAgICAgICBjb2xvclRodW1iID0gbW9kaWZ5QmFja2dyb3VuZENvbG9yKHtyOiAxNzYsIGc6IDE3NiwgYjogMTc2fSwgdGhlbWUpO1xyXG4gICAgICAgICAgICBjb2xvclRodW1iSG92ZXIgPSBtb2RpZnlCYWNrZ3JvdW5kQ29sb3IoXHJcbiAgICAgICAgICAgICAgICB7cjogMTQ0LCBnOiAxNDQsIGI6IDE0NH0sXHJcbiAgICAgICAgICAgICAgICB0aGVtZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjb2xvclRodW1iQWN0aXZlID0gbW9kaWZ5QmFja2dyb3VuZENvbG9yKFxyXG4gICAgICAgICAgICAgICAge3I6IDk2LCBnOiA5NiwgYjogOTZ9LFxyXG4gICAgICAgICAgICAgICAgdGhlbWVcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY29sb3JDb3JuZXIgPSBtb2RpZnlCYWNrZ3JvdW5kQ29sb3IoXHJcbiAgICAgICAgICAgICAgICB7cjogMjU1LCBnOiAyNTUsIGI6IDI1NX0sXHJcbiAgICAgICAgICAgICAgICB0aGVtZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciByZ2IgPSBwYXJzZUNvbG9yV2l0aENhY2hlKHRoZW1lLnNjcm9sbGJhckNvbG9yKTtcclxuICAgICAgICAgICAgdmFyIGhzbF8xID0gcmdiVG9IU0wocmdiKTtcclxuICAgICAgICAgICAgdmFyIGlzTGlnaHQgPSBoc2xfMS5sID4gMC41O1xyXG4gICAgICAgICAgICB2YXIgbGlnaHRlbiA9IGZ1bmN0aW9uIChsaWdodGVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGhzbF8xKSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGw6IGNsYW1wKGhzbF8xLmwgKyBsaWdodGVyLCAwLCAxKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBkYXJrZW4gPSBmdW5jdGlvbiAoZGFya2VyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGhzbF8xKSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGw6IGNsYW1wKGhzbF8xLmwgLSBkYXJrZXIsIDAsIDEpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29sb3JUcmFjayA9IGhzbFRvU3RyaW5nKGRhcmtlbigwLjQpKTtcclxuICAgICAgICAgICAgY29sb3JJY29ucyA9IGhzbFRvU3RyaW5nKGlzTGlnaHQgPyBkYXJrZW4oMC40KSA6IGxpZ2h0ZW4oMC40KSk7XHJcbiAgICAgICAgICAgIGNvbG9yVGh1bWIgPSBoc2xUb1N0cmluZyhoc2xfMSk7XHJcbiAgICAgICAgICAgIGNvbG9yVGh1bWJIb3ZlciA9IGhzbFRvU3RyaW5nKGxpZ2h0ZW4oMC4xKSk7XHJcbiAgICAgICAgICAgIGNvbG9yVGh1bWJBY3RpdmUgPSBoc2xUb1N0cmluZyhsaWdodGVuKDAuMikpO1xyXG4gICAgICAgICAgICBjb2xvckNvcm5lciA9IGhzbFRvU3RyaW5nKGRhcmtlbigwLjUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGluZXMucHVzaChcIjo6LXdlYmtpdC1zY3JvbGxiYXIge1wiKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFwiICAgIGJhY2tncm91bmQtY29sb3I6IFwiLmNvbmNhdChjb2xvclRyYWNrLCBcIjtcIikpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXCIgICAgY29sb3I6IFwiLmNvbmNhdChjb2xvckljb25zLCBcIjtcIikpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXCJ9XCIpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXCI6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcIik7XHJcbiAgICAgICAgbGluZXMucHVzaChcIiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIi5jb25jYXQoY29sb3JUaHVtYiwgXCI7XCIpKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFwifVwiKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFwiOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7XCIpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXCIgICAgYmFja2dyb3VuZC1jb2xvcjogXCIuY29uY2F0KGNvbG9yVGh1bWJIb3ZlciwgXCI7XCIpKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFwifVwiKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFwiOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjphY3RpdmUge1wiKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFwiICAgIGJhY2tncm91bmQtY29sb3I6IFwiLmNvbmNhdChjb2xvclRodW1iQWN0aXZlLCBcIjtcIikpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXCJ9XCIpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXCI6Oi13ZWJraXQtc2Nyb2xsYmFyLWNvcm5lciB7XCIpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXCIgICAgYmFja2dyb3VuZC1jb2xvcjogXCIuY29uY2F0KGNvbG9yQ29ybmVyLCBcIjtcIikpO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXCJ9XCIpO1xyXG4gICAgICAgIGlmIChpc0ZpcmVmb3gpIHtcclxuICAgICAgICAgICAgbGluZXMucHVzaChcIioge1wiKTtcclxuICAgICAgICAgICAgbGluZXMucHVzaChcclxuICAgICAgICAgICAgICAgIFwiICAgIHNjcm9sbGJhci1jb2xvcjogXCJcclxuICAgICAgICAgICAgICAgICAgICAuY29uY2F0KGNvbG9yVGh1bWIsIFwiIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb25jYXQoY29sb3JUcmFjaywgXCI7XCIpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGxpbmVzLnB1c2goXCJ9XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbGluZXMuam9pbihcIlxcblwiKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldE1vZGlmaWVkRmFsbGJhY2tTdHlsZShmaWx0ZXIsIF9hKSB7XHJcbiAgICAgICAgdmFyIHN0cmljdCA9IF9hLnN0cmljdDtcclxuICAgICAgICB2YXIgZmFjdG9yeSA9IGRlZmF1bHRGYWxsYmFja0ZhY3Rvcnk7XHJcbiAgICAgICAgcmV0dXJuIGZhY3RvcnkoZmlsdGVyLCB7c3RyaWN0OiBzdHJpY3R9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGRlZmF1bHRGYWxsYmFja0ZhY3RvcnkoZmlsdGVyLCBfYSkge1xyXG4gICAgICAgIHZhciBzdHJpY3QgPSBfYS5zdHJpY3Q7XHJcbiAgICAgICAgdmFyIGxpbmVzID0gW107XHJcbiAgICAgICAgdmFyIGlzTWljcm9zb2Z0ID0gW1wibWljcm9zb2Z0LmNvbVwiLCBcImRvY3MubWljcm9zb2Z0LmNvbVwiXS5pbmNsdWRlcyhcclxuICAgICAgICAgICAgbG9jYXRpb24uaG9zdG5hbWVcclxuICAgICAgICApO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXHJcbiAgICAgICAgICAgIFwiaHRtbCwgYm9keSwgXCIuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgc3RyaWN0XHJcbiAgICAgICAgICAgICAgICAgICAgPyBcImJvZHkgOm5vdChpZnJhbWUpXCIuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWljcm9zb2Z0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJzpub3QoZGl2W3N0eWxlXj1cInBvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6LVwiXSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgOiBcImJvZHkgPiA6bm90KGlmcmFtZSlcIixcclxuICAgICAgICAgICAgICAgIFwiIHtcIlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFxyXG4gICAgICAgICAgICBcIiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICBtb2RpZnlCYWNrZ3JvdW5kQ29sb3Ioe3I6IDI1NSwgZzogMjU1LCBiOiAyNTV9LCBmaWx0ZXIpLFxyXG4gICAgICAgICAgICAgICAgXCIgIWltcG9ydGFudDtcIlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKTtcclxuICAgICAgICBsaW5lcy5wdXNoKFxyXG4gICAgICAgICAgICBcIiAgICBib3JkZXItY29sb3I6IFwiLmNvbmNhdChcclxuICAgICAgICAgICAgICAgIG1vZGlmeUJvcmRlckNvbG9yKHtyOiA2NCwgZzogNjQsIGI6IDY0fSwgZmlsdGVyKSxcclxuICAgICAgICAgICAgICAgIFwiICFpbXBvcnRhbnQ7XCJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgbGluZXMucHVzaChcclxuICAgICAgICAgICAgXCIgICAgY29sb3I6IFwiLmNvbmNhdChcclxuICAgICAgICAgICAgICAgIG1vZGlmeUZvcmVncm91bmRDb2xvcih7cjogMCwgZzogMCwgYjogMH0sIGZpbHRlciksXHJcbiAgICAgICAgICAgICAgICBcIiAhaW1wb3J0YW50O1wiXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG4gICAgICAgIGxpbmVzLnB1c2goXCJ9XCIpO1xyXG4gICAgICAgIHJldHVybiBsaW5lcy5qb2luKFwiXFxuXCIpO1xyXG4gICAgfVxyXG4gICAgdmFyIHVucGFyc2FibGVDb2xvcnMgPSBuZXcgU2V0KFtcclxuICAgICAgICBcImluaGVyaXRcIixcclxuICAgICAgICBcInRyYW5zcGFyZW50XCIsXHJcbiAgICAgICAgXCJpbml0aWFsXCIsXHJcbiAgICAgICAgXCJjdXJyZW50Y29sb3JcIixcclxuICAgICAgICBcIm5vbmVcIixcclxuICAgICAgICBcInVuc2V0XCJcclxuICAgIF0pO1xyXG4gICAgZnVuY3Rpb24gZ2V0Q29sb3JNb2RpZmllcihwcm9wLCB2YWx1ZSwgcnVsZSkge1xyXG4gICAgICAgIGlmICh1bnBhcnNhYmxlQ29sb3JzLmhhcyh2YWx1ZS50b0xvd2VyQ2FzZSgpKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZ2IgPSBwYXJzZUNvbG9yV2l0aENhY2hlKHZhbHVlKTtcclxuICAgICAgICBpZiAoIXJnYikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHByb3AuaW5jbHVkZXMoXCJiYWNrZ3JvdW5kXCIpKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIChydWxlLnN0eWxlLndlYmtpdE1hc2tJbWFnZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJ1bGUuc3R5bGUud2Via2l0TWFza0ltYWdlICE9PSBcIm5vbmVcIikgfHxcclxuICAgICAgICAgICAgICAgIChydWxlLnN0eWxlLndlYmtpdE1hc2sgJiZcclxuICAgICAgICAgICAgICAgICAgICAhcnVsZS5zdHlsZS53ZWJraXRNYXNrLnN0YXJ0c1dpdGgoXCJub25lXCIpKSB8fFxyXG4gICAgICAgICAgICAgICAgKHJ1bGUuc3R5bGUubWFzayAmJiBydWxlLnN0eWxlLm1hc2sgIT09IFwibm9uZVwiKSB8fFxyXG4gICAgICAgICAgICAgICAgKHJ1bGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcIm1hc2staW1hZ2VcIikgJiZcclxuICAgICAgICAgICAgICAgICAgICBydWxlLnN0eWxlLmdldFByb3BlcnR5VmFsdWUoXCJtYXNrLWltYWdlXCIpICE9PSBcIm5vbmVcIilcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RpZnlGb3JlZ3JvdW5kQ29sb3IocmdiLCBmaWx0ZXIpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGlmeUJhY2tncm91bmRDb2xvcihyZ2IsIGZpbHRlcik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcm9wLmluY2x1ZGVzKFwiYm9yZGVyXCIpIHx8IHByb3AuaW5jbHVkZXMoXCJvdXRsaW5lXCIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbW9kaWZ5Qm9yZGVyQ29sb3IocmdiLCBmaWx0ZXIpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZpbHRlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbW9kaWZ5Rm9yZWdyb3VuZENvbG9yKHJnYiwgZmlsdGVyKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgdmFyIGltYWdlRGV0YWlsc0NhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgdmFyIGF3YWl0aW5nRm9ySW1hZ2VMb2FkaW5nID0gbmV3IE1hcCgpO1xyXG4gICAgZnVuY3Rpb24gc2hvdWxkSWdub3JlSW1hZ2Uoc2VsZWN0b3JUZXh0LCBzZWxlY3RvcnMpIHtcclxuICAgICAgICBpZiAoIXNlbGVjdG9yVGV4dCB8fCBzZWxlY3RvcnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBzZWxlY3RvcnMuc29tZShmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHMgPT09IFwiKlwiO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJ1bGVTZWxlY3RvcnMgPSBzZWxlY3RvclRleHQuc3BsaXQoLyxcXHMqL2cpO1xyXG4gICAgICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgdmFyIGlnbm9yZWRTZWxlY3RvciA9IHNlbGVjdG9yc1tpXTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgcnVsZVNlbGVjdG9ycy5zb21lKGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMgPT09IGlnbm9yZWRTZWxlY3RvcjtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHt2YWx1ZTogdHJ1ZX07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0b3JzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzdGF0ZV8xID0gX2xvb3BfMShpKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdGF0ZV8xID09PSBcIm9iamVjdFwiKSByZXR1cm4gc3RhdGVfMS52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0QmdJbWFnZU1vZGlmaWVyKFxyXG4gICAgICAgIHZhbHVlLFxyXG4gICAgICAgIHJ1bGUsXHJcbiAgICAgICAgaWdub3JlSW1hZ2VTZWxlY3RvcnMsXHJcbiAgICAgICAgaXNDYW5jZWxsZWRcclxuICAgICkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGdyYWRpZW50cyA9IHBhcnNlR3JhZGllbnQodmFsdWUpO1xyXG4gICAgICAgICAgICB2YXIgdXJscyA9IGdldE1hdGNoZXMoY3NzVVJMUmVnZXgsIHZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKHVybHMubGVuZ3RoID09PSAwICYmIGdyYWRpZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZ2V0SW5kaWNlcyA9IGZ1bmN0aW9uIChtYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXMubWFwKGZ1bmN0aW9uIChtYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZUluZGV4ID0gdmFsdWUuaW5kZXhPZihtYXRjaCwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gdmFsdWVJbmRleCArIG1hdGNoLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge21hdGNoOiBtYXRjaCwgaW5kZXg6IHZhbHVlSW5kZXh9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBtYXRjaGVzXzEgPSBncmFkaWVudHNcclxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oe3R5cGU6IFwiZ3JhZGllbnRcIn0sIGkpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0SW5kaWNlcyh1cmxzKS5tYXAoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt0eXBlOiBcInVybFwiLCBvZmZzZXQ6IDB9LCBpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5pbmRleCA+IGIuaW5kZXggPyAxIDogLTE7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIGdldEdyYWRpZW50TW9kaWZpZXJfMSA9IGZ1bmN0aW9uIChncmFkaWVudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGVHcmFkaWVudCA9IGdyYWRpZW50LnR5cGVHcmFkaWVudCxcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IGdyYWRpZW50Lm1hdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgIGhhc0NvbW1hID0gZ3JhZGllbnQuaGFzQ29tbWE7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydHNSZWdleCA9XHJcbiAgICAgICAgICAgICAgICAgICAgLyhbXlxcKFxcKSxdKyhcXChbXlxcKFxcKV0qKFxcKFteXFwoXFwpXSpcXCkqW15cXChcXCldKik/XFwpKT8oW15cXChcXCksIF18KCAoPyFjYWxjKSkpKiksPy9nO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yU3RvcFJlZ2V4ID1cclxuICAgICAgICAgICAgICAgICAgICAvXihmcm9tfGNvbG9yLXN0b3B8dG8pXFwoKFteXFwoXFwpXSo/LFxccyopPyguKj8pXFwpJC87XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBnZXRNYXRjaGVzKHBhcnRzUmVnZXgsIG1hdGNoLCAxKS5tYXAoXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHBhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFydCA9IHBhcnQudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmdiID0gcGFyc2VDb2xvcldpdGhDYWNoZShwYXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJnYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kaWZ5R3JhZGllbnRDb2xvcihyZ2IsIGZpbHRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZSA9IHBhcnQubGFzdEluZGV4T2YoXCIgXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZ2IgPSBwYXJzZUNvbG9yV2l0aENhY2hlKHBhcnQuc3Vic3RyaW5nKDAsIHNwYWNlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZ2IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZmlsdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmeUdyYWRpZW50Q29sb3IocmdiLCBmaWx0ZXIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KHBhcnQuc3Vic3RyaW5nKHNwYWNlICsgMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3JTdG9wTWF0Y2ggPSBwYXJ0Lm1hdGNoKGNvbG9yU3RvcFJlZ2V4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbG9yU3RvcE1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZ2IgPSBwYXJzZUNvbG9yV2l0aENhY2hlKGNvbG9yU3RvcE1hdGNoWzNdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZ2IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChjb2xvclN0b3BNYXRjaFsxXSwgXCIoXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yU3RvcE1hdGNoWzJdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yU3RvcE1hdGNoWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiwgXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZnlHcmFkaWVudENvbG9yKHJnYiwgZmlsdGVyKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIilcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KHR5cGVHcmFkaWVudCwgXCIoXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKG1vZGlmeSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW9kaWZ5KGZpbHRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuam9pbihcIiwgXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIpXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KGhhc0NvbW1hID8gXCIsIFwiIDogXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgZ2V0VVJMTW9kaWZpZXJfMSA9IGZ1bmN0aW9uICh1cmxWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZElnbm9yZUltYWdlKHJ1bGUuc2VsZWN0b3JUZXh0LCBpZ25vcmVJbWFnZVNlbGVjdG9ycylcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IGdldENTU1VSTFZhbHVlKHVybFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHZhciBpc1VSTEVtcHR5ID0gdXJsLmxlbmd0aCA9PT0gMDtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRTdHlsZVNoZWV0ID0gcnVsZS5wYXJlbnRTdHlsZVNoZWV0O1xyXG4gICAgICAgICAgICAgICAgdmFyIGJhc2VVUkwgPVxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFN0eWxlU2hlZXQgJiYgcGFyZW50U3R5bGVTaGVldC5ocmVmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZ2V0Q1NTQmFzZUJhdGgocGFyZW50U3R5bGVTaGVldC5ocmVmKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICgoX2EgPSBwYXJlbnRTdHlsZVNoZWV0Lm93bmVyTm9kZSkgPT09IG51bGwgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBfYSA9PT0gdm9pZCAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdm9pZCAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX2EuYmFzZVVSSSkgfHwgbG9jYXRpb24ub3JpZ2luO1xyXG4gICAgICAgICAgICAgICAgdXJsID0gZ2V0QWJzb2x1dGVVUkwoYmFzZVVSTCwgdXJsKTtcclxuICAgICAgICAgICAgICAgIHZhciBhYnNvbHV0ZVZhbHVlID0gJ3VybChcIicuY29uY2F0KHVybCwgJ1wiKScpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VEZXRhaWxzLCBhd2FpdGVyc18xLCBlcnJfMSwgYmdJbWFnZVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNVUkxFbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCBcInVybCgnJylcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbWFnZURldGFpbHNDYWNoZS5oYXModXJsKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRGV0YWlscyA9IGltYWdlRGV0YWlsc0NhY2hlLmdldCh1cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCA2LCAsIDddKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhd2FpdGluZ0ZvckltYWdlTG9hZGluZy5oYXModXJsKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0ZXJzXzEgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXRpbmdGb3JJbWFnZUxvYWRpbmcuZ2V0KHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXRlcnNfMS5wdXNoKHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRGV0YWlscyA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbWFnZURldGFpbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiwgbnVsbF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCA1XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0aW5nRm9ySW1hZ2VMb2FkaW5nLnNldCh1cmwsIFtdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBnZXRJbWFnZURldGFpbHModXJsKV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURldGFpbHMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRGV0YWlsc0NhY2hlLnNldCh1cmwsIGltYWdlRGV0YWlscyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0aW5nRm9ySW1hZ2VMb2FkaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KHVybClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoaW1hZ2VEZXRhaWxzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdGluZ0ZvckltYWdlTG9hZGluZy5kZWxldGUodXJsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ2FuY2VsbGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiwgbnVsbF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCA3XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycl8xID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dXYXJuKGVycl8xKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF3YWl0aW5nRm9ySW1hZ2VMb2FkaW5nLmhhcyh1cmwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdGluZ0ZvckltYWdlTG9hZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXQodXJsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXRpbmdGb3JJbWFnZUxvYWRpbmcuZGVsZXRlKHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCBhYnNvbHV0ZVZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJnSW1hZ2VWYWx1ZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRCZ0ltYWdlVmFsdWVfMShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURldGFpbHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHx8IGFic29sdXRlVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiwgYmdJbWFnZVZhbHVlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgZ2V0QmdJbWFnZVZhbHVlXzEgPSBmdW5jdGlvbiAoaW1hZ2VEZXRhaWxzLCBmaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc0RhcmsgPSBpbWFnZURldGFpbHMuaXNEYXJrLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzTGlnaHQgPSBpbWFnZURldGFpbHMuaXNMaWdodCxcclxuICAgICAgICAgICAgICAgICAgICBpc1RyYW5zcGFyZW50ID0gaW1hZ2VEZXRhaWxzLmlzVHJhbnNwYXJlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNMYXJnZSA9IGltYWdlRGV0YWlscy5pc0xhcmdlLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID0gaW1hZ2VEZXRhaWxzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIGlmIChpc0xhcmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nSW5mbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJOb3QgbW9kaWZ5aW5nIHRvbyBsYXJnZSBpbWFnZSBcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURldGFpbHMuc3JjXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9ICd1cmwoXCInLmNvbmNhdChpbWFnZURldGFpbHMuc3JjLCAnXCIpJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIGlzRGFyayAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGlzVHJhbnNwYXJlbnQgJiZcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXIubW9kZSA9PT0gMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoID4gMlxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nSW5mbyhcIkludmVydGluZyBkYXJrIGltYWdlIFwiLmNvbmNhdChpbWFnZURldGFpbHMuc3JjKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludmVydGVkID0gZ2V0RmlsdGVyZWRJbWFnZURhdGFVUkwoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRGV0YWlscyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX19hc3NpZ24oX19hc3NpZ24oe30sIGZpbHRlciksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcGlhOiBjbGFtcChmaWx0ZXIuc2VwaWEgKyAxMCwgMCwgMTAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gJ3VybChcIicuY29uY2F0KGludmVydGVkLCAnXCIpJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzTGlnaHQgJiYgIWlzVHJhbnNwYXJlbnQgJiYgZmlsdGVyLm1vZGUgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2dJbmZvKFwiRGltbWluZyBsaWdodCBpbWFnZSBcIi5jb25jYXQoaW1hZ2VEZXRhaWxzLnNyYykpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkaW1tZWQgPSBnZXRGaWx0ZXJlZEltYWdlRGF0YVVSTChpbWFnZURldGFpbHMsIGZpbHRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gJ3VybChcIicuY29uY2F0KGRpbW1lZCwgJ1wiKScpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXIubW9kZSA9PT0gMCAmJiBpc0xpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nSW5mbyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJBcHBseWluZyBmaWx0ZXIgdG8gaW1hZ2UgXCIuY29uY2F0KGltYWdlRGV0YWlscy5zcmMpXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSBnZXRGaWx0ZXJlZEltYWdlRGF0YVVSTChcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEZXRhaWxzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZmlsdGVyKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJpZ2h0bmVzczogY2xhbXAoZmlsdGVyLmJyaWdodG5lc3MgLSAxMCwgNSwgMjAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcGlhOiBjbGFtcChmaWx0ZXIuc2VwaWEgKyAxMCwgMCwgMTAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gJ3VybChcIicuY29uY2F0KGZpbHRlcmVkLCAnXCIpJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ0luZm8oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiTm90IG1vZGlmeWluZyB0b28gbGFyZ2UgaW1hZ2UgXCIuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEZXRhaWxzLnNyY1xyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIG1vZGlmaWVyc18xID0gW107XHJcbiAgICAgICAgICAgIHZhciBtYXRjaEluZGV4XzEgPSAwO1xyXG4gICAgICAgICAgICB2YXIgcHJldkhhc0NvbW1hXzEgPSBmYWxzZTtcclxuICAgICAgICAgICAgbWF0Y2hlc18xLmZvckVhY2goZnVuY3Rpb24gKF9hLCBpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IF9hLnR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBfYS5tYXRjaCxcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IF9hLmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGVHcmFkaWVudCA9IF9hLnR5cGVHcmFkaWVudCxcclxuICAgICAgICAgICAgICAgICAgICBoYXNDb21tYSA9IF9hLmhhc0NvbW1hLFxyXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IF9hLm9mZnNldDtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaFN0YXJ0ID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJlZml4U3RhcnQgPSBtYXRjaEluZGV4XzE7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hFbmQgPSBtYXRjaFN0YXJ0ICsgbWF0Y2gubGVuZ3RoICsgb2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgbWF0Y2hJbmRleF8xID0gbWF0Y2hFbmQ7XHJcbiAgICAgICAgICAgICAgICBpZiAocHJlZml4U3RhcnQgIT09IG1hdGNoU3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldkhhc0NvbW1hXzEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzXzEucHVzaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmV0d2VlblZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZWZpeFN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoU3RhcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmV0d2VlblZhbHVlWzBdID09PSBcIixcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJldHdlZW5WYWx1ZSA9IGJldHdlZW5WYWx1ZS5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmV0d2VlblZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllcnNfMS5wdXNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHJpbmcocHJlZml4U3RhcnQsIG1hdGNoU3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwcmV2SGFzQ29tbWFfMSA9IGhhc0NvbW1hIHx8IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwidXJsXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RpZmllcnNfMS5wdXNoKGdldFVSTE1vZGlmaWVyXzEobWF0Y2gpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJncmFkaWVudFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzXzEucHVzaChcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0R3JhZGllbnRNb2RpZmllcl8xKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoOiBtYXRjaCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVHcmFkaWVudDogdHlwZUdyYWRpZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ29tbWE6IGhhc0NvbW1hIHx8IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBvZmZzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IG1hdGNoZXNfMS5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzXzEucHVzaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZS5zdWJzdHJpbmcobWF0Y2hFbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHRzID0gbW9kaWZpZXJzXzFcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAobW9kaWZ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RpZnkoZmlsdGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnNvbWUoZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIgaW5zdGFuY2VvZiBQcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVzdWx0cykudGhlbihmdW5jdGlvbiAoYXN5bmNSZXN1bHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhc3luY1Jlc3VsdHMuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tYmluZWRSZXN1bHQgPSByZXN1bHRzLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tYmluZWRSZXN1bHQuZW5kc1dpdGgoXCIsIGluaXRpYWxcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tYmluZWRSZXN1bHQuc2xpY2UoMCwgLTkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbWJpbmVkUmVzdWx0O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRTaGFkb3dNb2RpZmllcldpdGhJbmZvKHZhbHVlKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGluZGV4XzEgPSAwO1xyXG4gICAgICAgICAgICB2YXIgY29sb3JNYXRjaGVzXzEgPSBnZXRNYXRjaGVzKFxyXG4gICAgICAgICAgICAgICAgLyhefFxccykoPyFjYWxjKShbYS16XStcXCguKz9cXCl8I1swLTlhLWZdK3xbYS16XSspKC4qPyhpbnNldHxvdXRzZXQpPygkfCwpKS9naSxcclxuICAgICAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgMlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB2YXIgbm90UGFyc2VkXzEgPSAwO1xyXG4gICAgICAgICAgICB2YXIgbW9kaWZpZXJzXzIgPSBjb2xvck1hdGNoZXNfMS5tYXAoZnVuY3Rpb24gKG1hdGNoLCBpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJlZml4SW5kZXggPSBpbmRleF8xO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoSW5kZXggPSB2YWx1ZS5pbmRleE9mKG1hdGNoLCBpbmRleF8xKTtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaEVuZCA9IG1hdGNoSW5kZXggKyBtYXRjaC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpbmRleF8xID0gbWF0Y2hFbmQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmdiID0gcGFyc2VDb2xvcldpdGhDYWNoZShtYXRjaCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJnYikge1xyXG4gICAgICAgICAgICAgICAgICAgIG5vdFBhcnNlZF8xKys7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnN1YnN0cmluZyhwcmVmaXhJbmRleCwgbWF0Y2hFbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGZpbHRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQodmFsdWUuc3Vic3RyaW5nKHByZWZpeEluZGV4LCBtYXRjaEluZGV4KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChtb2RpZnlTaGFkb3dDb2xvcihyZ2IsIGZpbHRlcikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID09PSBjb2xvck1hdGNoZXNfMS5sZW5ndGggLSAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB2YWx1ZS5zdWJzdHJpbmcobWF0Y2hFbmQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtb2RpZmllZCA9IG1vZGlmaWVyc18yXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAobW9kaWZ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RpZnkoZmlsdGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaGVzTGVuZ3RoOiBjb2xvck1hdGNoZXNfMS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgdW5wYXJzZWFibGVNYXRjaGVzTGVuZ3RoOiBub3RQYXJzZWRfMSxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IG1vZGlmaWVkXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRTaGFkb3dNb2RpZmllcih2YWx1ZSkge1xyXG4gICAgICAgIHZhciBzaGFkb3dNb2RpZmllciA9IGdldFNoYWRvd01vZGlmaWVyV2l0aEluZm8odmFsdWUpO1xyXG4gICAgICAgIGlmICghc2hhZG93TW9kaWZpZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodGhlbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNoYWRvd01vZGlmaWVyKHRoZW1lKS5yZXN1bHQ7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldFZhcmlhYmxlTW9kaWZpZXIoXHJcbiAgICAgICAgdmFyaWFibGVzU3RvcmUsXHJcbiAgICAgICAgcHJvcCxcclxuICAgICAgICB2YWx1ZSxcclxuICAgICAgICBydWxlLFxyXG4gICAgICAgIGlnbm9yZWRJbWdTZWxlY3RvcnMsXHJcbiAgICAgICAgaXNDYW5jZWxsZWRcclxuICAgICkge1xyXG4gICAgICAgIHJldHVybiB2YXJpYWJsZXNTdG9yZS5nZXRNb2RpZmllckZvclZhcmlhYmxlKHtcclxuICAgICAgICAgICAgdmFyTmFtZTogcHJvcCxcclxuICAgICAgICAgICAgc291cmNlVmFsdWU6IHZhbHVlLFxyXG4gICAgICAgICAgICBydWxlOiBydWxlLFxyXG4gICAgICAgICAgICBpZ25vcmVkSW1nU2VsZWN0b3JzOiBpZ25vcmVkSW1nU2VsZWN0b3JzLFxyXG4gICAgICAgICAgICBpc0NhbmNlbGxlZDogaXNDYW5jZWxsZWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdldFZhcmlhYmxlRGVwZW5kYW50TW9kaWZpZXIodmFyaWFibGVzU3RvcmUsIHByb3AsIHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhcmlhYmxlc1N0b3JlLmdldE1vZGlmaWVyRm9yVmFyRGVwZW5kYW50KHByb3AsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNsZWFuTW9kaWZpY2F0aW9uQ2FjaGUoKSB7XHJcbiAgICAgICAgY2xlYXJDb2xvck1vZGlmaWNhdGlvbkNhY2hlKCk7XHJcbiAgICAgICAgaW1hZ2VEZXRhaWxzQ2FjaGUuY2xlYXIoKTtcclxuICAgICAgICBjbGVhbkltYWdlUHJvY2Vzc2luZ0NhY2hlKCk7XHJcbiAgICAgICAgYXdhaXRpbmdGb3JJbWFnZUxvYWRpbmcuY2xlYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgVkFSX1RZUEVfQkdDT0xPUiA9IDEgPDwgMDtcclxuICAgIHZhciBWQVJfVFlQRV9URVhUQ09MT1IgPSAxIDw8IDE7XHJcbiAgICB2YXIgVkFSX1RZUEVfQk9SREVSQ09MT1IgPSAxIDw8IDI7XHJcbiAgICB2YXIgVkFSX1RZUEVfQkdJTUcgPSAxIDw8IDM7XHJcbiAgICB2YXIgVmFyaWFibGVzU3RvcmUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIFZhcmlhYmxlc1N0b3JlKCkge1xyXG4gICAgICAgICAgICB0aGlzLnZhclR5cGVzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnJ1bGVzUXVldWUgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5kZWZpbmVkVmFycyA9IG5ldyBTZXQoKTtcclxuICAgICAgICAgICAgdGhpcy52YXJSZWZzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICB0aGlzLnVua25vd25Db2xvclZhcnMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMudW5rbm93bkJnVmFycyA9IG5ldyBTZXQoKTtcclxuICAgICAgICAgICAgdGhpcy51bmRlZmluZWRWYXJzID0gbmV3IFNldCgpO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxWYXJUeXBlcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkVHlwZVZhcnMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgICAgIHRoaXMudHlwZUNoYW5nZVN1YnNjcmlwdGlvbnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIHRoaXMudW5zdGFibGVWYXJWYWx1ZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFZhcmlhYmxlc1N0b3JlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy52YXJUeXBlcy5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLnJ1bGVzUXVldWUuc3BsaWNlKDApO1xyXG4gICAgICAgICAgICB0aGlzLmRlZmluZWRWYXJzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMudmFyUmVmcy5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLnVua25vd25Db2xvclZhcnMuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy51bmtub3duQmdWYXJzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMudW5kZWZpbmVkVmFycy5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxWYXJUeXBlcy5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZWRUeXBlVmFycy5jbGVhcigpO1xyXG4gICAgICAgICAgICB0aGlzLnR5cGVDaGFuZ2VTdWJzY3JpcHRpb25zLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHRoaXMudW5zdGFibGVWYXJWYWx1ZXMuY2xlYXIoKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFZhcmlhYmxlc1N0b3JlLnByb3RvdHlwZS5pc1ZhclR5cGUgPSBmdW5jdGlvbiAodmFyTmFtZSwgdHlwZU51bSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgdGhpcy52YXJUeXBlcy5oYXModmFyTmFtZSkgJiZcclxuICAgICAgICAgICAgICAgICh0aGlzLnZhclR5cGVzLmdldCh2YXJOYW1lKSAmIHR5cGVOdW0pID4gMFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmFyaWFibGVzU3RvcmUucHJvdG90eXBlLmFkZFJ1bGVzRm9yTWF0Y2hpbmcgPSBmdW5jdGlvbiAocnVsZXMpIHtcclxuICAgICAgICAgICAgdGhpcy5ydWxlc1F1ZXVlLnB1c2gocnVsZXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmFyaWFibGVzU3RvcmUucHJvdG90eXBlLm1hdGNoVmFyaWFibGVzQW5kRGVwZW5kZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VkVHlwZVZhcnMuY2xlYXIoKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsVmFyVHlwZXMgPSBuZXcgTWFwKHRoaXMudmFyVHlwZXMpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3RSb290VmFyaWFibGVzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29sbGVjdFZhcmlhYmxlc0FuZFZhckRlcCh0aGlzLnJ1bGVzUXVldWUpO1xyXG4gICAgICAgICAgICB0aGlzLnJ1bGVzUXVldWUuc3BsaWNlKDApO1xyXG4gICAgICAgICAgICB0aGlzLmNvbGxlY3RSb290VmFyRGVwZW5kZW50cygpO1xyXG4gICAgICAgICAgICB0aGlzLnZhclJlZnMuZm9yRWFjaChmdW5jdGlvbiAocmVmcywgdikge1xyXG4gICAgICAgICAgICAgICAgcmVmcy5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnZhclR5cGVzLmhhcyh2KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZXNvbHZlVmFyaWFibGVUeXBlKHIsIF90aGlzLnZhclR5cGVzLmdldCh2KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLnVua25vd25Db2xvclZhcnMuZm9yRWFjaChmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnVua25vd25CZ1ZhcnMuaGFzKHYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudW5rbm93bkNvbG9yVmFycy5kZWxldGUodik7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudW5rbm93bkJnVmFycy5kZWxldGUodik7XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMucmVzb2x2ZVZhcmlhYmxlVHlwZSh2LCBWQVJfVFlQRV9CR0NPTE9SKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaXNWYXJUeXBlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBWQVJfVFlQRV9CR0NPTE9SIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZBUl9UWVBFX1RFWFRDT0xPUiB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBWQVJfVFlQRV9CT1JERVJDT0xPUlxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVua25vd25Db2xvclZhcnMuZGVsZXRlKHYpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy51bmRlZmluZWRWYXJzLmFkZCh2KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudW5rbm93bkJnVmFycy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGFzQ29sb3IgPVxyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmZpbmRWYXJSZWYodiwgZnVuY3Rpb24gKHJlZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudW5rbm93bkNvbG9yVmFycy5oYXMocmVmKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaXNWYXJUeXBlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWQVJfVFlQRV9URVhUQ09MT1IgfCBWQVJfVFlQRV9CT1JERVJDT0xPUlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pICE9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAoaGFzQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pdGVyYXRlVmFyUmVmcyh2LCBmdW5jdGlvbiAocmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc29sdmVWYXJpYWJsZVR5cGUocmVmLCBWQVJfVFlQRV9CR0NPTE9SKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuaXNWYXJUeXBlKHYsIFZBUl9UWVBFX0JHQ09MT1IgfCBWQVJfVFlQRV9CR0lNRylcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnVua25vd25CZ1ZhcnMuZGVsZXRlKHYpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy51bmRlZmluZWRWYXJzLmFkZCh2KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZFR5cGVWYXJzLmZvckVhY2goZnVuY3Rpb24gKHZhck5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy50eXBlQ2hhbmdlU3Vic2NyaXB0aW9ucy5oYXModmFyTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy50eXBlQ2hhbmdlU3Vic2NyaXB0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZ2V0KHZhck5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZWRUeXBlVmFycy5jbGVhcigpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmFyaWFibGVzU3RvcmUucHJvdG90eXBlLmdldE1vZGlmaWVyRm9yVmFyaWFibGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRoZW1lKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFyTmFtZSA9IG9wdGlvbnMudmFyTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VWYWx1ZSA9IG9wdGlvbnMuc291cmNlVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcnVsZSA9IG9wdGlvbnMucnVsZSxcclxuICAgICAgICAgICAgICAgICAgICBpZ25vcmVkSW1nU2VsZWN0b3JzID0gb3B0aW9ucy5pZ25vcmVkSW1nU2VsZWN0b3JzLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzQ2FuY2VsbGVkID0gb3B0aW9ucy5pc0NhbmNlbGxlZDtcclxuICAgICAgICAgICAgICAgIHZhciBnZXREZWNsYXJhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlY2xhcmF0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhZGRNb2RpZmllZFZhbHVlID0gZnVuY3Rpb24gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlTnVtLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJOYW1lV3JhcHBlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3JNb2RpZmllclxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLmlzVmFyVHlwZSh2YXJOYW1lLCB0eXBlTnVtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHZhck5hbWVXcmFwcGVyKHZhck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kaWZpZWRWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFyRGVwZW5kYW50KHNvdXJjZVZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29uc3RydWN0ZWRDb2xvclZhcihzb3VyY2VWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpbnNlcnRWYXJWYWx1ZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51bnN0YWJsZVZhclZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlTnVtID09PSBWQVJfVFlQRV9CR0NPTE9SXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIiNmZmZmZmZcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCIjMDAwMDAwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkVmFsdWUgPSBjb2xvck1vZGlmaWVyKHZhbHVlLCB0aGVtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkVmFsdWUgPSByZXBsYWNlQ1NTVmFyaWFibGVzTmFtZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhck5hbWVXcmFwcGVyKHYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xvck1vZGlmaWVyKGZhbGxiYWNrLCB0aGVtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRWYWx1ZSA9IGNvbG9yTW9kaWZpZXIoc291cmNlVmFsdWUsIHRoZW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbW9kaWZpZWRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZE1vZGlmaWVkVmFsdWUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZBUl9UWVBFX0JHQ09MT1IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBCZ0NvbG9yVmFyaWFibGVOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnlNb2RpZnlCZ0NvbG9yXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBhZGRNb2RpZmllZFZhbHVlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBWQVJfVFlQRV9URVhUQ09MT1IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBUZXh0Q29sb3JWYXJpYWJsZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeU1vZGlmeVRleHRDb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkTW9kaWZpZWRWYWx1ZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgVkFSX1RZUEVfQk9SREVSQ09MT1IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBCb3JkZXJDb2xvclZhcmlhYmxlTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5TW9kaWZ5Qm9yZGVyQ29sb3JcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc1ZhclR5cGUodmFyTmFtZSwgVkFSX1RZUEVfQkdJTUcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHdyYXBCZ0ltZ1ZhcmlhYmxlTmFtZSh2YXJOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGlmaWVkVmFsdWUgPSBzb3VyY2VWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFyRGVwZW5kYW50KHNvdXJjZVZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRWYWx1ZSA9IHJlcGxhY2VDU1NWYXJpYWJsZXNOYW1lcyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JhcEJnQ29sb3JWYXJpYWJsZU5hbWUodik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyeU1vZGlmeUJnQ29sb3IoZmFsbGJhY2ssIHRoZW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZ01vZGlmaWVyID0gZ2V0QmdJbWFnZU1vZGlmaWVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZ25vcmVkSW1nU2VsZWN0b3JzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDYW5jZWxsZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRWYWx1ZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgYmdNb2RpZmllciA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBiZ01vZGlmaWVyKHRoZW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogYmdNb2RpZmllcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1vZGlmaWVkVmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWNsYXJhdGlvbnM7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IG5ldyBTZXQoKTtcclxuICAgICAgICAgICAgICAgIHZhciBhZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChvblR5cGVDaGFuZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWNzID0gZ2V0RGVjbGFyYXRpb25zKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uVHlwZUNoYW5nZShkZWNzKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZUZvclZhclR5cGVDaGFuZ2UodmFyTmFtZSwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciByZW1vdmVMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVuc3Vic2NyaWJlRnJvbVZhcmlhYmxlVHlwZUNoYW5nZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogZ2V0RGVjbGFyYXRpb25zKCksXHJcbiAgICAgICAgICAgICAgICAgICAgb25UeXBlQ2hhbmdlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZExpc3RlbmVyOiBhZGRMaXN0ZW5lcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlTGlzdGVuZXJzOiByZW1vdmVMaXN0ZW5lcnNcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmFyaWFibGVzU3RvcmUucHJvdG90eXBlLmdldE1vZGlmaWVyRm9yVmFyRGVwZW5kYW50ID0gZnVuY3Rpb24gKFxyXG4gICAgICAgICAgICBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgc291cmNlVmFsdWVcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKHNvdXJjZVZhbHVlLm1hdGNoKC9eXFxzKihyZ2J8aHNsKWE/XFwoLykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc0JnXzEgPSBwcm9wZXJ0eS5zdGFydHNXaXRoKFwiYmFja2dyb3VuZFwiKTtcclxuICAgICAgICAgICAgICAgIHZhciBpc1RleHRfMSA9IGlzVGV4dENvbG9yUHJvcGVydHkocHJvcGVydHkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0aGVtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGluc2VydFZhclZhbHVlcyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVuc3RhYmxlVmFyVmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gaXNCZ18xID8gXCIjZmZmZmZmXCIgOiBcIiMwMDAwMDBcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGlmaWVyID0gaXNCZ18xXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdHJ5TW9kaWZ5QmdDb2xvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGlzVGV4dF8xXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0cnlNb2RpZnlUZXh0Q29sb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRyeU1vZGlmeUJvcmRlckNvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RpZmllcih2YWx1ZSwgdGhlbWUpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocHJvcGVydHkgPT09IFwiYmFja2dyb3VuZC1jb2xvclwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRoZW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VDU1NWYXJpYWJsZXNOYW1lcyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JhcEJnQ29sb3JWYXJpYWJsZU5hbWUodik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChmYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyeU1vZGlmeUJnQ29sb3IoZmFsbGJhY2ssIHRoZW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc1RleHRDb2xvclByb3BlcnR5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0aGVtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXBsYWNlQ1NTVmFyaWFibGVzTmFtZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyYXBUZXh0Q29sb3JWYXJpYWJsZU5hbWUodik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChmYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyeU1vZGlmeVRleHRDb2xvcihmYWxsYmFjaywgdGhlbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPT09IFwiYmFja2dyb3VuZFwiIHx8XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9PT0gXCJiYWNrZ3JvdW5kLWltYWdlXCIgfHxcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5ID09PSBcImJveC1zaGFkb3dcIlxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodGhlbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdW5rbm93blZhcnMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGlmeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhcmlhYmxlUmVwbGFjZWQgPSByZXBsYWNlQ1NTVmFyaWFibGVzTmFtZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmlzVmFyVHlwZSh2LCBWQVJfVFlQRV9CR0NPTE9SKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JhcEJnQ29sb3JWYXJpYWJsZU5hbWUodik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc1ZhclR5cGUodiwgVkFSX1RZUEVfQkdJTUcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cmFwQmdJbWdWYXJpYWJsZU5hbWUodik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVua25vd25WYXJzLmFkZCh2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZmFsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ5TW9kaWZ5QmdDb2xvcihmYWxsYmFjaywgdGhlbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkgPT09IFwiYm94LXNoYWRvd1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hhZG93TW9kaWZpZXIgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFNoYWRvd01vZGlmaWVyV2l0aEluZm8odmFyaWFibGVSZXBsYWNlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kaWZpZWRTaGFkb3cgPSBzaGFkb3dNb2RpZmllcih0aGVtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRTaGFkb3cudW5wYXJzZWFibGVNYXRjaGVzTGVuZ3RoICE9PVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkU2hhZG93Lm1hdGNoZXNMZW5ndGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtb2RpZmllZFNoYWRvdy5yZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhcmlhYmxlUmVwbGFjZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kaWZpZWQgPSBtb2RpZnkoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodW5rbm93blZhcnMuc2l6ZSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3RVbmtub3duVmFyID0gdW5rbm93blZhcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudmFsdWVzKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAubmV4dCgpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVuc3Vic2NyaWJlRnJvbVZhcmlhYmxlVHlwZUNoYW5nZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0VW5rbm93blZhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IG1vZGlmeSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobmV3VmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZUZvclZhclR5cGVDaGFuZ2UoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RVbmtub3duVmFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZGlmaWVkO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zdGFydHNXaXRoKFwiYm9yZGVyXCIpIHx8XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zdGFydHNXaXRoKFwib3V0bGluZVwiKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodGhlbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZUNTU1ZhcmlhYmxlc05hbWVzKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VWYWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cmFwQm9yZGVyQ29sb3JWYXJpYWJsZU5hbWUodik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChmYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRyeU1vZGlmeUJvcmRlckNvbG9yKGZhbGxiYWNrLCB0aGVtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFZhcmlhYmxlc1N0b3JlLnByb3RvdHlwZS5zdWJzY3JpYmVGb3JWYXJUeXBlQ2hhbmdlID0gZnVuY3Rpb24gKFxyXG4gICAgICAgICAgICB2YXJOYW1lLFxyXG4gICAgICAgICAgICBjYWxsYmFja1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMudHlwZUNoYW5nZVN1YnNjcmlwdGlvbnMuaGFzKHZhck5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGVDaGFuZ2VTdWJzY3JpcHRpb25zLnNldCh2YXJOYW1lLCBuZXcgU2V0KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByb290U3RvcmUgPSB0aGlzLnR5cGVDaGFuZ2VTdWJzY3JpcHRpb25zLmdldCh2YXJOYW1lKTtcclxuICAgICAgICAgICAgaWYgKCFyb290U3RvcmUuaGFzKGNhbGxiYWNrKSkge1xyXG4gICAgICAgICAgICAgICAgcm9vdFN0b3JlLmFkZChjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFZhcmlhYmxlc1N0b3JlLnByb3RvdHlwZS51bnN1YnNjcmliZUZyb21WYXJpYWJsZVR5cGVDaGFuZ2VzID0gZnVuY3Rpb24gKFxyXG4gICAgICAgICAgICB2YXJOYW1lLFxyXG4gICAgICAgICAgICBjYWxsYmFja1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy50eXBlQ2hhbmdlU3Vic2NyaXB0aW9ucy5oYXModmFyTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZUNoYW5nZVN1YnNjcmlwdGlvbnMuZ2V0KHZhck5hbWUpLmRlbGV0ZShjYWxsYmFjayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIFZhcmlhYmxlc1N0b3JlLnByb3RvdHlwZS5jb2xsZWN0VmFyaWFibGVzQW5kVmFyRGVwID0gZnVuY3Rpb24gKFxyXG4gICAgICAgICAgICBydWxlTGlzdFxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBydWxlTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChydWxlcykge1xyXG4gICAgICAgICAgICAgICAgaXRlcmF0ZUNTU1J1bGVzKHJ1bGVzLCBmdW5jdGlvbiAocnVsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ1bGUuc3R5bGUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0ZUNTU0RlY2xhcmF0aW9ucyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGUuc3R5bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFyaWFibGUocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmluc3BlY3RWYXJpYWJsZShwcm9wZXJ0eSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYXJEZXBlbmRhbnQodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmluc3BlY3RWYXJEZXBlbmRhbnQocHJvcGVydHksIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBWYXJpYWJsZXNTdG9yZS5wcm90b3R5cGUuY29sbGVjdFJvb3RWYXJpYWJsZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIGl0ZXJhdGVDU1NEZWNsYXJhdGlvbnMoXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFyaWFibGUocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmluc3BlY3RWYXJpYWJsZShwcm9wZXJ0eSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFZhcmlhYmxlc1N0b3JlLnByb3RvdHlwZS5pbnNwZWN0VmFyaWFibGUgPSBmdW5jdGlvbiAodmFyTmFtZSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy51bnN0YWJsZVZhclZhbHVlcy5zZXQodmFyTmFtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAoaXNWYXJEZXBlbmRhbnQodmFsdWUpICYmIGlzQ29uc3RydWN0ZWRDb2xvclZhcih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5rbm93bkNvbG9yVmFycy5hZGQodmFyTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRlZmluZWRWYXJzLmFkZCh2YXJOYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5kZWZpbmVkVmFycy5oYXModmFyTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRlZmluZWRWYXJzLmFkZCh2YXJOYW1lKTtcclxuICAgICAgICAgICAgdmFyIGlzQ29sb3IgPVxyXG4gICAgICAgICAgICAgICAgcmF3VmFsdWVSZWdleC50ZXN0KHZhbHVlKSB8fCBwYXJzZUNvbG9yV2l0aENhY2hlKHZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKGlzQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5rbm93bkNvbG9yVmFycy5hZGQodmFyTmFtZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5pbmNsdWRlcyhcInVybChcIikgfHxcclxuICAgICAgICAgICAgICAgIHZhbHVlLmluY2x1ZGVzKFwibGluZWFyLWdyYWRpZW50KFwiKSB8fFxyXG4gICAgICAgICAgICAgICAgdmFsdWUuaW5jbHVkZXMoXCJyYWRpYWwtZ3JhZGllbnQoXCIpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlVmFyaWFibGVUeXBlKHZhck5hbWUsIFZBUl9UWVBFX0JHSU1HKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmFyaWFibGVzU3RvcmUucHJvdG90eXBlLnJlc29sdmVWYXJpYWJsZVR5cGUgPSBmdW5jdGlvbiAoXHJcbiAgICAgICAgICAgIHZhck5hbWUsXHJcbiAgICAgICAgICAgIHR5cGVOdW1cclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgdmFyIGluaXRpYWxUeXBlID0gdGhpcy5pbml0aWFsVmFyVHlwZXMuZ2V0KHZhck5hbWUpIHx8IDA7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50VHlwZSA9IHRoaXMudmFyVHlwZXMuZ2V0KHZhck5hbWUpIHx8IDA7XHJcbiAgICAgICAgICAgIHZhciBuZXdUeXBlID0gY3VycmVudFR5cGUgfCB0eXBlTnVtO1xyXG4gICAgICAgICAgICB0aGlzLnZhclR5cGVzLnNldCh2YXJOYW1lLCBuZXdUeXBlKTtcclxuICAgICAgICAgICAgaWYgKG5ld1R5cGUgIT09IGluaXRpYWxUeXBlIHx8IHRoaXMudW5kZWZpbmVkVmFycy5oYXModmFyTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlZFR5cGVWYXJzLmFkZCh2YXJOYW1lKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudW5kZWZpbmVkVmFycy5kZWxldGUodmFyTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy51bmtub3duQ29sb3JWYXJzLmRlbGV0ZSh2YXJOYW1lKTtcclxuICAgICAgICAgICAgdGhpcy51bmtub3duQmdWYXJzLmRlbGV0ZSh2YXJOYW1lKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFZhcmlhYmxlc1N0b3JlLnByb3RvdHlwZS5jb2xsZWN0Um9vdFZhckRlcGVuZGVudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgICAgIGl0ZXJhdGVDU1NEZWNsYXJhdGlvbnMoXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFyRGVwZW5kYW50KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbnNwZWN0VmFyRGVwZW5kYW50KHByb3BlcnR5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmFyaWFibGVzU3RvcmUucHJvdG90eXBlLmluc3BlY3RWYXJEZXBlbmRhbnQgPSBmdW5jdGlvbiAoXHJcbiAgICAgICAgICAgIHByb3BlcnR5LFxyXG4gICAgICAgICAgICB2YWx1ZVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAoaXNWYXJpYWJsZShwcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlcmF0ZVZhckRlcHModmFsdWUsIGZ1bmN0aW9uIChyZWYpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzLnZhclJlZnMuaGFzKHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy52YXJSZWZzLnNldChwcm9wZXJ0eSwgbmV3IFNldCgpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudmFyUmVmcy5nZXQocHJvcGVydHkpLmFkZChyZWYpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9PT0gXCJiYWNrZ3JvdW5kLWNvbG9yXCIgfHxcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5ID09PSBcImJveC1zaGFkb3dcIlxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlcmF0ZVZhckRlcHModmFsdWUsIGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlc29sdmVWYXJpYWJsZVR5cGUodiwgVkFSX1RZUEVfQkdDT0xPUik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1RleHRDb2xvclByb3BlcnR5KHByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVyYXRlVmFyRGVwcyh2YWx1ZSwgZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucmVzb2x2ZVZhcmlhYmxlVHlwZSh2LCBWQVJfVFlQRV9URVhUQ09MT1IpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zdGFydHNXaXRoKFwiYm9yZGVyXCIpIHx8XHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5zdGFydHNXaXRoKFwib3V0bGluZVwiKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlcmF0ZVZhckRlcHModmFsdWUsIGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlc29sdmVWYXJpYWJsZVR5cGUodiwgVkFSX1RZUEVfQk9SREVSQ09MT1IpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9PT0gXCJiYWNrZ3JvdW5kXCIgfHxcclxuICAgICAgICAgICAgICAgIHByb3BlcnR5ID09PSBcImJhY2tncm91bmQtaW1hZ2VcIlxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXRlcmF0ZVZhckRlcHModmFsdWUsIGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmlzVmFyVHlwZSh2LCBWQVJfVFlQRV9CR0NPTE9SIHwgVkFSX1RZUEVfQkdJTUcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzQmdDb2xvciA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmZpbmRWYXJSZWYodiwgZnVuY3Rpb24gKHJlZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51bmtub3duQ29sb3JWYXJzLmhhcyhyZWYpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaXNWYXJUeXBlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZBUl9UWVBFX1RFWFRDT0xPUiB8IFZBUl9UWVBFX0JPUkRFUkNPTE9SXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkgIT0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5pdGVyYXRlVmFyUmVmcyh2LCBmdW5jdGlvbiAocmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0JnQ29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlc29sdmVWYXJpYWJsZVR5cGUocmVmLCBWQVJfVFlQRV9CR0NPTE9SKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVua25vd25CZ1ZhcnMuYWRkKHJlZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBWYXJpYWJsZXNTdG9yZS5wcm90b3R5cGUuaXRlcmF0ZVZhckRlcHMgPSBmdW5jdGlvbiAodmFsdWUsIGl0ZXJhdG9yKSB7XHJcbiAgICAgICAgICAgIHZhciB2YXJEZXBzID0gbmV3IFNldCgpO1xyXG4gICAgICAgICAgICBpdGVyYXRlVmFyRGVwZW5kZW5jaWVzKHZhbHVlLCBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhckRlcHMuYWRkKHYpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyRGVwcy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlcmF0b3Iodik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgVmFyaWFibGVzU3RvcmUucHJvdG90eXBlLmZpbmRWYXJSZWYgPSBmdW5jdGlvbiAoXHJcbiAgICAgICAgICAgIHZhck5hbWUsXHJcbiAgICAgICAgICAgIGl0ZXJhdG9yLFxyXG4gICAgICAgICAgICBzdGFja1xyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB2YXIgZV8xLCBfYTtcclxuICAgICAgICAgICAgaWYgKHN0YWNrID09PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgICAgIHN0YWNrID0gbmV3IFNldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdGFjay5oYXModmFyTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0YWNrLmFkZCh2YXJOYW1lKTtcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yKHZhck5hbWUpO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFyTmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVmcyA9IHRoaXMudmFyUmVmcy5nZXQodmFyTmFtZSk7XHJcbiAgICAgICAgICAgIGlmICghcmVmcyB8fCByZWZzLnNpemUgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZWZzXzEgPSBfX3ZhbHVlcyhyZWZzKSwgcmVmc18xXzEgPSByZWZzXzEubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICFyZWZzXzFfMS5kb25lO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZnNfMV8xID0gcmVmc18xLm5leHQoKVxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZiA9IHJlZnNfMV8xLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZCA9IHRoaXMuZmluZFZhclJlZihyZWYsIGl0ZXJhdG9yLCBzdGFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVfMV8xKSB7XHJcbiAgICAgICAgICAgICAgICBlXzEgPSB7ZXJyb3I6IGVfMV8xfTtcclxuICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlZnNfMV8xICYmICFyZWZzXzFfMS5kb25lICYmIChfYSA9IHJlZnNfMS5yZXR1cm4pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5jYWxsKHJlZnNfMSk7XHJcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFZhcmlhYmxlc1N0b3JlLnByb3RvdHlwZS5pdGVyYXRlVmFyUmVmcyA9IGZ1bmN0aW9uICh2YXJOYW1lLCBpdGVyYXRvcikge1xyXG4gICAgICAgICAgICB0aGlzLmZpbmRWYXJSZWYodmFyTmFtZSwgZnVuY3Rpb24gKHJlZikge1xyXG4gICAgICAgICAgICAgICAgaXRlcmF0b3IocmVmKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBWYXJpYWJsZXNTdG9yZS5wcm90b3R5cGUuc2V0T25Sb290VmFyaWFibGVDaGFuZ2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5vblJvb3RWYXJpYWJsZURlZmluZWQgPSBjYWxsYmFjaztcclxuICAgICAgICB9O1xyXG4gICAgICAgIFZhcmlhYmxlc1N0b3JlLnByb3RvdHlwZS5wdXRSb290VmFycyA9IGZ1bmN0aW9uIChzdHlsZUVsZW1lbnQsIHRoZW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBlXzIsIF9hO1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgc2hlZXQgPSBzdHlsZUVsZW1lbnQuc2hlZXQ7XHJcbiAgICAgICAgICAgIGlmIChzaGVldC5jc3NSdWxlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBzaGVldC5kZWxldGVSdWxlKDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBkZWNsYXJhdGlvbnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIGl0ZXJhdGVDU1NEZWNsYXJhdGlvbnMoXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocHJvcGVydHksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFyaWFibGUocHJvcGVydHkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc1ZhclR5cGUocHJvcGVydHksIFZBUl9UWVBFX0JHQ09MT1IpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnMuc2V0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBCZ0NvbG9yVmFyaWFibGVOYW1lKHByb3BlcnR5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlNb2RpZnlCZ0NvbG9yKHZhbHVlLCB0aGVtZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLmlzVmFyVHlwZShwcm9wZXJ0eSwgVkFSX1RZUEVfVEVYVENPTE9SKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zLnNldChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwVGV4dENvbG9yVmFyaWFibGVOYW1lKHByb3BlcnR5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlNb2RpZnlUZXh0Q29sb3IodmFsdWUsIHRoZW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaXNWYXJUeXBlKHByb3BlcnR5LCBWQVJfVFlQRV9CT1JERVJDT0xPUikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9ucy5zZXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcEJvcmRlckNvbG9yVmFyaWFibGVOYW1lKHByb3BlcnR5KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnlNb2RpZnlCb3JkZXJDb2xvcih2YWx1ZSwgdGhlbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZUZvclZhclR5cGVDaGFuZ2UoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9uUm9vdFZhcmlhYmxlRGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgdmFyIGNzc0xpbmVzID0gW107XHJcbiAgICAgICAgICAgIGNzc0xpbmVzLnB1c2goXCI6cm9vdCB7XCIpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVjbGFyYXRpb25zXzEgPSBfX3ZhbHVlcyhkZWNsYXJhdGlvbnMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnNfMV8xID0gZGVjbGFyYXRpb25zXzEubmV4dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICFkZWNsYXJhdGlvbnNfMV8xLmRvbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zXzFfMSA9IGRlY2xhcmF0aW9uc18xLm5leHQoKVxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9iID0gX19yZWFkKGRlY2xhcmF0aW9uc18xXzEudmFsdWUsIDIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IF9iWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9iWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNzc0xpbmVzLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiICAgIFwiLmNvbmNhdChwcm9wZXJ0eSwgXCI6IFwiKS5jb25jYXQodmFsdWUsIFwiO1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVfMl8xKSB7XHJcbiAgICAgICAgICAgICAgICBlXzIgPSB7ZXJyb3I6IGVfMl8xfTtcclxuICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnNfMV8xICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFkZWNsYXJhdGlvbnNfMV8xLmRvbmUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gZGVjbGFyYXRpb25zXzEucmV0dXJuKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EuY2FsbChkZWNsYXJhdGlvbnNfMSk7XHJcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjc3NMaW5lcy5wdXNoKFwifVwiKTtcclxuICAgICAgICAgICAgdmFyIGNzc1RleHQgPSBjc3NMaW5lcy5qb2luKFwiXFxuXCIpO1xyXG4gICAgICAgICAgICBzaGVldC5pbnNlcnRSdWxlKGNzc1RleHQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIFZhcmlhYmxlc1N0b3JlO1xyXG4gICAgfSkoKTtcclxuICAgIHZhciB2YXJpYWJsZXNTdG9yZSA9IG5ldyBWYXJpYWJsZXNTdG9yZSgpO1xyXG4gICAgZnVuY3Rpb24gZ2V0VmFyaWFibGVSYW5nZShpbnB1dCwgc2VhcmNoU3RhcnQpIHtcclxuICAgICAgICBpZiAoc2VhcmNoU3RhcnQgPT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICBzZWFyY2hTdGFydCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzdGFydCA9IGlucHV0LmluZGV4T2YoXCJ2YXIoXCIsIHNlYXJjaFN0YXJ0KTtcclxuICAgICAgICBpZiAoc3RhcnQgPj0gMCkge1xyXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBnZXRQYXJlbnRoZXNlc1JhbmdlKGlucHV0LCBzdGFydCArIDMpO1xyXG4gICAgICAgICAgICBpZiAocmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7c3RhcnQ6IHN0YXJ0LCBlbmQ6IHJhbmdlLmVuZH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRWYXJpYWJsZXNNYXRjaGVzKGlucHV0KSB7XHJcbiAgICAgICAgdmFyIHJhbmdlcyA9IFtdO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICB2YXIgcmFuZ2U7XHJcbiAgICAgICAgd2hpbGUgKChyYW5nZSA9IGdldFZhcmlhYmxlUmFuZ2UoaW5wdXQsIGkpKSkge1xyXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSByYW5nZS5zdGFydCxcclxuICAgICAgICAgICAgICAgIGVuZCA9IHJhbmdlLmVuZDtcclxuICAgICAgICAgICAgcmFuZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxyXG4gICAgICAgICAgICAgICAgZW5kOiBlbmQsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogaW5wdXQuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpID0gcmFuZ2UuZW5kICsgMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJhbmdlcztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlcGxhY2VWYXJpYWJsZXNNYXRjaGVzKGlucHV0LCByZXBsYWNlcikge1xyXG4gICAgICAgIHZhciBtYXRjaGVzID0gZ2V0VmFyaWFibGVzTWF0Y2hlcyhpbnB1dCk7XHJcbiAgICAgICAgdmFyIG1hdGNoZXNDb3VudCA9IG1hdGNoZXMubGVuZ3RoO1xyXG4gICAgICAgIGlmIChtYXRjaGVzQ291bnQgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgdmFyIHJlcGxhY2VtZW50cyA9IG1hdGNoZXMubWFwKGZ1bmN0aW9uIChtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXBsYWNlcihtLnZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcGFydHMgPSBbXTtcclxuICAgICAgICBwYXJ0cy5wdXNoKGlucHV0LnN1YnN0cmluZygwLCBtYXRjaGVzWzBdLnN0YXJ0KSk7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRjaGVzQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBwYXJ0cy5wdXNoKHJlcGxhY2VtZW50c1tpXSk7XHJcbiAgICAgICAgICAgIHZhciBzdGFydCA9IG1hdGNoZXNbaV0uZW5kO1xyXG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IG1hdGNoZXNDb3VudCAtIDEgPyBtYXRjaGVzW2kgKyAxXS5zdGFydCA6IGlucHV0TGVuZ3RoO1xyXG4gICAgICAgICAgICBwYXJ0cy5wdXNoKGlucHV0LnN1YnN0cmluZyhzdGFydCwgZW5kKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXJ0cy5qb2luKFwiXCIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0VmFyaWFibGVOYW1lQW5kRmFsbGJhY2sobWF0Y2gpIHtcclxuICAgICAgICB2YXIgY29tbWFJbmRleCA9IG1hdGNoLmluZGV4T2YoXCIsXCIpO1xyXG4gICAgICAgIHZhciBuYW1lO1xyXG4gICAgICAgIHZhciBmYWxsYmFjaztcclxuICAgICAgICBpZiAoY29tbWFJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaC5zdWJzdHJpbmcoNCwgY29tbWFJbmRleCkudHJpbSgpO1xyXG4gICAgICAgICAgICBmYWxsYmFjayA9IG1hdGNoLnN1YnN0cmluZyhjb21tYUluZGV4ICsgMSwgbWF0Y2gubGVuZ3RoIC0gMSkudHJpbSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5hbWUgPSBtYXRjaC5zdWJzdHJpbmcoNCwgbWF0Y2gubGVuZ3RoIC0gMSkudHJpbSgpO1xyXG4gICAgICAgICAgICBmYWxsYmFjayA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7bmFtZTogbmFtZSwgZmFsbGJhY2s6IGZhbGxiYWNrfTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlcGxhY2VDU1NWYXJpYWJsZXNOYW1lcyh2YWx1ZSwgbmFtZVJlcGxhY2VyLCBmYWxsYmFja1JlcGxhY2VyKSB7XHJcbiAgICAgICAgdmFyIG1hdGNoUmVwbGFjZXIgPSBmdW5jdGlvbiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgdmFyIF9hID0gZ2V0VmFyaWFibGVOYW1lQW5kRmFsbGJhY2sobWF0Y2gpLFxyXG4gICAgICAgICAgICAgICAgbmFtZSA9IF9hLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBmYWxsYmFjayA9IF9hLmZhbGxiYWNrO1xyXG4gICAgICAgICAgICB2YXIgbmV3TmFtZSA9IG5hbWVSZXBsYWNlcihuYW1lKTtcclxuICAgICAgICAgICAgaWYgKCFmYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwidmFyKFwiLmNvbmNhdChuZXdOYW1lLCBcIilcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG5ld0ZhbGxiYWNrO1xyXG4gICAgICAgICAgICBpZiAoaXNWYXJEZXBlbmRhbnQoZmFsbGJhY2spKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdGYWxsYmFjayA9IHJlcGxhY2VDU1NWYXJpYWJsZXNOYW1lcyhcclxuICAgICAgICAgICAgICAgICAgICBmYWxsYmFjayxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lUmVwbGFjZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgZmFsbGJhY2tSZXBsYWNlclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChmYWxsYmFja1JlcGxhY2VyKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdGYWxsYmFjayA9IGZhbGxiYWNrUmVwbGFjZXIoZmFsbGJhY2spO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV3RmFsbGJhY2sgPSBmYWxsYmFjaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gXCJ2YXIoXCIuY29uY2F0KG5ld05hbWUsIFwiLCBcIikuY29uY2F0KG5ld0ZhbGxiYWNrLCBcIilcIik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gcmVwbGFjZVZhcmlhYmxlc01hdGNoZXModmFsdWUsIG1hdGNoUmVwbGFjZXIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXRlcmF0ZVZhckRlcGVuZGVuY2llcyh2YWx1ZSwgaXRlcmF0b3IpIHtcclxuICAgICAgICByZXBsYWNlQ1NTVmFyaWFibGVzTmFtZXModmFsdWUsIGZ1bmN0aW9uICh2YXJOYW1lKSB7XHJcbiAgICAgICAgICAgIGl0ZXJhdG9yKHZhck5hbWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFyTmFtZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHdyYXBCZ0NvbG9yVmFyaWFibGVOYW1lKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gXCItLWRhcmtyZWFkZXItYmdcIi5jb25jYXQobmFtZSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB3cmFwVGV4dENvbG9yVmFyaWFibGVOYW1lKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gXCItLWRhcmtyZWFkZXItdGV4dFwiLmNvbmNhdChuYW1lKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHdyYXBCb3JkZXJDb2xvclZhcmlhYmxlTmFtZShuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiLS1kYXJrcmVhZGVyLWJvcmRlclwiLmNvbmNhdChuYW1lKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHdyYXBCZ0ltZ1ZhcmlhYmxlTmFtZShuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiLS1kYXJrcmVhZGVyLWJnaW1nXCIuY29uY2F0KG5hbWUpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNWYXJpYWJsZShwcm9wZXJ0eSkge1xyXG4gICAgICAgIHJldHVybiBwcm9wZXJ0eS5zdGFydHNXaXRoKFwiLS1cIik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc1ZhckRlcGVuZGFudCh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZS5pbmNsdWRlcyhcInZhcihcIik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0NvbnN0cnVjdGVkQ29sb3JWYXIodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gdmFsdWUubWF0Y2goL15cXHMqKHJnYnxoc2wpYT9cXCgvKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzVGV4dENvbG9yUHJvcGVydHkocHJvcGVydHkpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICBwcm9wZXJ0eSA9PT0gXCJjb2xvclwiIHx8XHJcbiAgICAgICAgICAgIHByb3BlcnR5ID09PSBcImNhcmV0LWNvbG9yXCIgfHxcclxuICAgICAgICAgICAgcHJvcGVydHkgPT09IFwiLXdlYmtpdC10ZXh0LWZpbGwtY29sb3JcIlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICB2YXIgcmF3VmFsdWVSZWdleCA9IC9eXFxkezEsM30sID9cXGR7MSwzfSwgP1xcZHsxLDN9JC87XHJcbiAgICBmdW5jdGlvbiBwYXJzZVJhd1ZhbHVlKGNvbG9yKSB7XHJcbiAgICAgICAgaWYgKHJhd1ZhbHVlUmVnZXgudGVzdChjb2xvcikpIHtcclxuICAgICAgICAgICAgdmFyIHNwbGl0dGVkID0gY29sb3Iuc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICB2YXIgcmVzdWx0SW5SR0JfMSA9IFwicmdiKFwiO1xyXG4gICAgICAgICAgICBzcGxpdHRlZC5mb3JFYWNoKGZ1bmN0aW9uIChudW1iZXIpIHtcclxuICAgICAgICAgICAgICAgIHJlc3VsdEluUkdCXzEgKz0gXCJcIi5jb25jYXQobnVtYmVyLnRyaW0oKSwgXCIsIFwiKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlc3VsdEluUkdCXzEgPSByZXN1bHRJblJHQl8xLnN1YnN0cmluZyhcclxuICAgICAgICAgICAgICAgIDAsXHJcbiAgICAgICAgICAgICAgICByZXN1bHRJblJHQl8xLmxlbmd0aCAtIDJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgcmVzdWx0SW5SR0JfMSArPSBcIilcIjtcclxuICAgICAgICAgICAgcmV0dXJuIHtpc1JhdzogdHJ1ZSwgY29sb3I6IHJlc3VsdEluUkdCXzF9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge2lzUmF3OiBmYWxzZSwgY29sb3I6IGNvbG9yfTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGhhbmRsZVJhd1ZhbHVlKGNvbG9yLCB0aGVtZSwgbW9kaWZ5RnVuY3Rpb24pIHtcclxuICAgICAgICB2YXIgX2EgPSBwYXJzZVJhd1ZhbHVlKGNvbG9yKSxcclxuICAgICAgICAgICAgaXNSYXcgPSBfYS5pc1JhdyxcclxuICAgICAgICAgICAgbmV3Q29sb3IgPSBfYS5jb2xvcjtcclxuICAgICAgICB2YXIgcmdiID0gcGFyc2VDb2xvcldpdGhDYWNoZShuZXdDb2xvcik7XHJcbiAgICAgICAgaWYgKHJnYikge1xyXG4gICAgICAgICAgICB2YXIgb3V0cHV0Q29sb3IgPSBtb2RpZnlGdW5jdGlvbihyZ2IsIHRoZW1lKTtcclxuICAgICAgICAgICAgaWYgKGlzUmF3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3V0cHV0SW5SR0IgPSBwYXJzZUNvbG9yV2l0aENhY2hlKG91dHB1dENvbG9yKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvdXRwdXRJblJHQlxyXG4gICAgICAgICAgICAgICAgICAgID8gXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQob3V0cHV0SW5SR0IuciwgXCIsIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQob3V0cHV0SW5SR0IuZywgXCIsIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQob3V0cHV0SW5SR0IuYilcclxuICAgICAgICAgICAgICAgICAgICA6IG91dHB1dENvbG9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXRDb2xvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ld0NvbG9yO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdHJ5TW9kaWZ5QmdDb2xvcihjb2xvciwgdGhlbWUpIHtcclxuICAgICAgICByZXR1cm4gaGFuZGxlUmF3VmFsdWUoY29sb3IsIHRoZW1lLCBtb2RpZnlCYWNrZ3JvdW5kQ29sb3IpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gdHJ5TW9kaWZ5VGV4dENvbG9yKGNvbG9yLCB0aGVtZSkge1xyXG4gICAgICAgIHJldHVybiBoYW5kbGVSYXdWYWx1ZShjb2xvciwgdGhlbWUsIG1vZGlmeUZvcmVncm91bmRDb2xvcik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB0cnlNb2RpZnlCb3JkZXJDb2xvcihjb2xvciwgdGhlbWUpIHtcclxuICAgICAgICByZXR1cm4gaGFuZGxlUmF3VmFsdWUoY29sb3IsIHRoZW1lLCBtb2RpZnlCb3JkZXJDb2xvcik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpbnNlcnRWYXJWYWx1ZXMoc291cmNlLCB2YXJWYWx1ZXMsIHN0YWNrKSB7XHJcbiAgICAgICAgaWYgKHN0YWNrID09PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgc3RhY2sgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb250YWluc1VucmVzb2x2ZWRWYXIgPSBmYWxzZTtcclxuICAgICAgICB2YXIgbWF0Y2hSZXBsYWNlciA9IGZ1bmN0aW9uIChtYXRjaCkge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSBnZXRWYXJpYWJsZU5hbWVBbmRGYWxsYmFjayhtYXRjaCksXHJcbiAgICAgICAgICAgICAgICBuYW1lID0gX2EubmFtZSxcclxuICAgICAgICAgICAgICAgIGZhbGxiYWNrID0gX2EuZmFsbGJhY2s7XHJcbiAgICAgICAgICAgIGlmIChzdGFjay5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5zVW5yZXNvbHZlZFZhciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdGFjay5hZGQobmFtZSk7XHJcbiAgICAgICAgICAgIHZhciB2YXJWYWx1ZSA9IHZhclZhbHVlcy5nZXQobmFtZSkgfHwgZmFsbGJhY2s7XHJcbiAgICAgICAgICAgIHZhciBpbnNlcnRlZCA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICh2YXJWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzVmFyRGVwZW5kYW50KHZhclZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluc2VydGVkID0gaW5zZXJ0VmFyVmFsdWVzKHZhclZhbHVlLCB2YXJWYWx1ZXMsIHN0YWNrKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ZWQgPSB2YXJWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWluc2VydGVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb250YWluc1VucmVzb2x2ZWRWYXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGluc2VydGVkO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHJlcGxhY2VkID0gcmVwbGFjZVZhcmlhYmxlc01hdGNoZXMoc291cmNlLCBtYXRjaFJlcGxhY2VyKTtcclxuICAgICAgICBpZiAoY29udGFpbnNVbnJlc29sdmVkVmFyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVwbGFjZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG92ZXJyaWRlcyA9IHtcclxuICAgICAgICBcImJhY2tncm91bmQtY29sb3JcIjoge1xyXG4gICAgICAgICAgICBjdXN0b21Qcm9wOiBcIi0tZGFya3JlYWRlci1pbmxpbmUtYmdjb2xvclwiLFxyXG4gICAgICAgICAgICBjc3NQcm9wOiBcImJhY2tncm91bmQtY29sb3JcIixcclxuICAgICAgICAgICAgZGF0YUF0dHI6IFwiZGF0YS1kYXJrcmVhZGVyLWlubGluZS1iZ2NvbG9yXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiYmFja2dyb3VuZC1pbWFnZVwiOiB7XHJcbiAgICAgICAgICAgIGN1c3RvbVByb3A6IFwiLS1kYXJrcmVhZGVyLWlubGluZS1iZ2ltYWdlXCIsXHJcbiAgICAgICAgICAgIGNzc1Byb3A6IFwiYmFja2dyb3VuZC1pbWFnZVwiLFxyXG4gICAgICAgICAgICBkYXRhQXR0cjogXCJkYXRhLWRhcmtyZWFkZXItaW5saW5lLWJnaW1hZ2VcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJib3JkZXItY29sb3JcIjoge1xyXG4gICAgICAgICAgICBjdXN0b21Qcm9wOiBcIi0tZGFya3JlYWRlci1pbmxpbmUtYm9yZGVyXCIsXHJcbiAgICAgICAgICAgIGNzc1Byb3A6IFwiYm9yZGVyLWNvbG9yXCIsXHJcbiAgICAgICAgICAgIGRhdGFBdHRyOiBcImRhdGEtZGFya3JlYWRlci1pbmxpbmUtYm9yZGVyXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiYm9yZGVyLWJvdHRvbS1jb2xvclwiOiB7XHJcbiAgICAgICAgICAgIGN1c3RvbVByb3A6IFwiLS1kYXJrcmVhZGVyLWlubGluZS1ib3JkZXItYm90dG9tXCIsXHJcbiAgICAgICAgICAgIGNzc1Byb3A6IFwiYm9yZGVyLWJvdHRvbS1jb2xvclwiLFxyXG4gICAgICAgICAgICBkYXRhQXR0cjogXCJkYXRhLWRhcmtyZWFkZXItaW5saW5lLWJvcmRlci1ib3R0b21cIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJib3JkZXItbGVmdC1jb2xvclwiOiB7XHJcbiAgICAgICAgICAgIGN1c3RvbVByb3A6IFwiLS1kYXJrcmVhZGVyLWlubGluZS1ib3JkZXItbGVmdFwiLFxyXG4gICAgICAgICAgICBjc3NQcm9wOiBcImJvcmRlci1sZWZ0LWNvbG9yXCIsXHJcbiAgICAgICAgICAgIGRhdGFBdHRyOiBcImRhdGEtZGFya3JlYWRlci1pbmxpbmUtYm9yZGVyLWxlZnRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJib3JkZXItcmlnaHQtY29sb3JcIjoge1xyXG4gICAgICAgICAgICBjdXN0b21Qcm9wOiBcIi0tZGFya3JlYWRlci1pbmxpbmUtYm9yZGVyLXJpZ2h0XCIsXHJcbiAgICAgICAgICAgIGNzc1Byb3A6IFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIsXHJcbiAgICAgICAgICAgIGRhdGFBdHRyOiBcImRhdGEtZGFya3JlYWRlci1pbmxpbmUtYm9yZGVyLXJpZ2h0XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiYm9yZGVyLXRvcC1jb2xvclwiOiB7XHJcbiAgICAgICAgICAgIGN1c3RvbVByb3A6IFwiLS1kYXJrcmVhZGVyLWlubGluZS1ib3JkZXItdG9wXCIsXHJcbiAgICAgICAgICAgIGNzc1Byb3A6IFwiYm9yZGVyLXRvcC1jb2xvclwiLFxyXG4gICAgICAgICAgICBkYXRhQXR0cjogXCJkYXRhLWRhcmtyZWFkZXItaW5saW5lLWJvcmRlci10b3BcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJib3gtc2hhZG93XCI6IHtcclxuICAgICAgICAgICAgY3VzdG9tUHJvcDogXCItLWRhcmtyZWFkZXItaW5saW5lLWJveHNoYWRvd1wiLFxyXG4gICAgICAgICAgICBjc3NQcm9wOiBcImJveC1zaGFkb3dcIixcclxuICAgICAgICAgICAgZGF0YUF0dHI6IFwiZGF0YS1kYXJrcmVhZGVyLWlubGluZS1ib3hzaGFkb3dcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJjb2xvclwiOiB7XHJcbiAgICAgICAgICAgIGN1c3RvbVByb3A6IFwiLS1kYXJrcmVhZGVyLWlubGluZS1jb2xvclwiLFxyXG4gICAgICAgICAgICBjc3NQcm9wOiBcImNvbG9yXCIsXHJcbiAgICAgICAgICAgIGRhdGFBdHRyOiBcImRhdGEtZGFya3JlYWRlci1pbmxpbmUtY29sb3JcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJmaWxsXCI6IHtcclxuICAgICAgICAgICAgY3VzdG9tUHJvcDogXCItLWRhcmtyZWFkZXItaW5saW5lLWZpbGxcIixcclxuICAgICAgICAgICAgY3NzUHJvcDogXCJmaWxsXCIsXHJcbiAgICAgICAgICAgIGRhdGFBdHRyOiBcImRhdGEtZGFya3JlYWRlci1pbmxpbmUtZmlsbFwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInN0cm9rZVwiOiB7XHJcbiAgICAgICAgICAgIGN1c3RvbVByb3A6IFwiLS1kYXJrcmVhZGVyLWlubGluZS1zdHJva2VcIixcclxuICAgICAgICAgICAgY3NzUHJvcDogXCJzdHJva2VcIixcclxuICAgICAgICAgICAgZGF0YUF0dHI6IFwiZGF0YS1kYXJrcmVhZGVyLWlubGluZS1zdHJva2VcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJvdXRsaW5lLWNvbG9yXCI6IHtcclxuICAgICAgICAgICAgY3VzdG9tUHJvcDogXCItLWRhcmtyZWFkZXItaW5saW5lLW91dGxpbmVcIixcclxuICAgICAgICAgICAgY3NzUHJvcDogXCJvdXRsaW5lLWNvbG9yXCIsXHJcbiAgICAgICAgICAgIGRhdGFBdHRyOiBcImRhdGEtZGFya3JlYWRlci1pbmxpbmUtb3V0bGluZVwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInN0b3AtY29sb3JcIjoge1xyXG4gICAgICAgICAgICBjdXN0b21Qcm9wOiBcIi0tZGFya3JlYWRlci1pbmxpbmUtc3RvcGNvbG9yXCIsXHJcbiAgICAgICAgICAgIGNzc1Byb3A6IFwic3RvcC1jb2xvclwiLFxyXG4gICAgICAgICAgICBkYXRhQXR0cjogXCJkYXRhLWRhcmtyZWFkZXItaW5saW5lLXN0b3Bjb2xvclwiXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHZhciBvdmVycmlkZXNMaXN0ID0gT2JqZWN0LnZhbHVlcyhvdmVycmlkZXMpO1xyXG4gICAgdmFyIG5vcm1hbGl6ZWRQcm9wTGlzdCA9IHt9O1xyXG4gICAgb3ZlcnJpZGVzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgIHZhciBjc3NQcm9wID0gX2EuY3NzUHJvcCxcclxuICAgICAgICAgICAgY3VzdG9tUHJvcCA9IF9hLmN1c3RvbVByb3A7XHJcbiAgICAgICAgcmV0dXJuIChub3JtYWxpemVkUHJvcExpc3RbY3VzdG9tUHJvcF0gPSBjc3NQcm9wKTtcclxuICAgIH0pO1xyXG4gICAgdmFyIElOTElORV9TVFlMRV9BVFRSUyA9IFtcclxuICAgICAgICBcInN0eWxlXCIsXHJcbiAgICAgICAgXCJmaWxsXCIsXHJcbiAgICAgICAgXCJzdG9wLWNvbG9yXCIsXHJcbiAgICAgICAgXCJzdHJva2VcIixcclxuICAgICAgICBcImJnY29sb3JcIixcclxuICAgICAgICBcImNvbG9yXCJcclxuICAgIF07XHJcbiAgICB2YXIgSU5MSU5FX1NUWUxFX1NFTEVDVE9SID0gSU5MSU5FX1NUWUxFX0FUVFJTLm1hcChmdW5jdGlvbiAoYXR0cikge1xyXG4gICAgICAgIHJldHVybiBcIltcIi5jb25jYXQoYXR0ciwgXCJdXCIpO1xyXG4gICAgfSkuam9pbihcIiwgXCIpO1xyXG4gICAgZnVuY3Rpb24gZ2V0SW5saW5lT3ZlcnJpZGVTdHlsZSgpIHtcclxuICAgICAgICByZXR1cm4gb3ZlcnJpZGVzTGlzdFxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGFBdHRyID0gX2EuZGF0YUF0dHIsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tUHJvcCA9IF9hLmN1c3RvbVByb3AsXHJcbiAgICAgICAgICAgICAgICAgICAgY3NzUHJvcCA9IF9hLmNzc1Byb3A7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIFwiW1wiLmNvbmNhdChkYXRhQXR0ciwgXCJdIHtcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgXCIgIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoY3NzUHJvcCwgXCI6IHZhcihcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChjdXN0b21Qcm9wLCBcIikgIWltcG9ydGFudDtcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ9XCJcclxuICAgICAgICAgICAgICAgIF0uam9pbihcIlxcblwiKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmpvaW4oXCJcXG5cIik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRJbmxpbmVTdHlsZUVsZW1lbnRzKHJvb3QpIHtcclxuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xyXG4gICAgICAgIGlmIChyb290IGluc3RhbmNlb2YgRWxlbWVudCAmJiByb290Lm1hdGNoZXMoSU5MSU5FX1NUWUxFX1NFTEVDVE9SKSkge1xyXG4gICAgICAgICAgICByZXN1bHRzLnB1c2gocm9vdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgcm9vdCBpbnN0YW5jZW9mIEVsZW1lbnQgfHxcclxuICAgICAgICAgICAgKGlzU2hhZG93RG9tU3VwcG9ydGVkICYmIHJvb3QgaW5zdGFuY2VvZiBTaGFkb3dSb290KSB8fFxyXG4gICAgICAgICAgICByb290IGluc3RhbmNlb2YgRG9jdW1lbnRcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcHVzaChyZXN1bHRzLCByb290LnF1ZXJ5U2VsZWN0b3JBbGwoSU5MSU5FX1NUWUxFX1NFTEVDVE9SKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgfVxyXG4gICAgdmFyIHRyZWVPYnNlcnZlcnMgPSBuZXcgTWFwKCk7XHJcbiAgICB2YXIgYXR0ck9ic2VydmVycyA9IG5ldyBNYXAoKTtcclxuICAgIGZ1bmN0aW9uIHdhdGNoRm9ySW5saW5lU3R5bGVzKGVsZW1lbnRTdHlsZURpZENoYW5nZSwgc2hhZG93Um9vdERpc2NvdmVyZWQpIHtcclxuICAgICAgICBkZWVwV2F0Y2hGb3JJbmxpbmVTdHlsZXMoXHJcbiAgICAgICAgICAgIGRvY3VtZW50LFxyXG4gICAgICAgICAgICBlbGVtZW50U3R5bGVEaWRDaGFuZ2UsXHJcbiAgICAgICAgICAgIHNoYWRvd1Jvb3REaXNjb3ZlcmVkXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpdGVyYXRlU2hhZG93SG9zdHMoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBmdW5jdGlvbiAoaG9zdCkge1xyXG4gICAgICAgICAgICBkZWVwV2F0Y2hGb3JJbmxpbmVTdHlsZXMoXHJcbiAgICAgICAgICAgICAgICBob3N0LnNoYWRvd1Jvb3QsXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50U3R5bGVEaWRDaGFuZ2UsXHJcbiAgICAgICAgICAgICAgICBzaGFkb3dSb290RGlzY292ZXJlZFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZGVlcFdhdGNoRm9ySW5saW5lU3R5bGVzKFxyXG4gICAgICAgIHJvb3QsXHJcbiAgICAgICAgZWxlbWVudFN0eWxlRGlkQ2hhbmdlLFxyXG4gICAgICAgIHNoYWRvd1Jvb3REaXNjb3ZlcmVkXHJcbiAgICApIHtcclxuICAgICAgICBpZiAodHJlZU9ic2VydmVycy5oYXMocm9vdCkpIHtcclxuICAgICAgICAgICAgdHJlZU9ic2VydmVycy5nZXQocm9vdCkuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICBhdHRyT2JzZXJ2ZXJzLmdldChyb290KS5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkaXNjb3ZlcmVkTm9kZXMgPSBuZXcgV2Vha1NldCgpO1xyXG4gICAgICAgIGZ1bmN0aW9uIGRpc2NvdmVyTm9kZXMobm9kZSkge1xyXG4gICAgICAgICAgICBnZXRJbmxpbmVTdHlsZUVsZW1lbnRzKG5vZGUpLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlzY292ZXJlZE5vZGVzLmhhcyhlbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkaXNjb3ZlcmVkTm9kZXMuYWRkKGVsKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnRTdHlsZURpZENoYW5nZShlbCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpdGVyYXRlU2hhZG93SG9zdHMobm9kZSwgZnVuY3Rpb24gKG4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChkaXNjb3ZlcmVkTm9kZXMuaGFzKG5vZGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZGlzY292ZXJlZE5vZGVzLmFkZChub2RlKTtcclxuICAgICAgICAgICAgICAgIHNoYWRvd1Jvb3REaXNjb3ZlcmVkKG4uc2hhZG93Um9vdCk7XHJcbiAgICAgICAgICAgICAgICBkZWVwV2F0Y2hGb3JJbmxpbmVTdHlsZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgbi5zaGFkb3dSb290LFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRTdHlsZURpZENoYW5nZSxcclxuICAgICAgICAgICAgICAgICAgICBzaGFkb3dSb290RGlzY292ZXJlZFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0cmVlT2JzZXJ2ZXIgPSBjcmVhdGVPcHRpbWl6ZWRUcmVlT2JzZXJ2ZXIocm9vdCwge1xyXG4gICAgICAgICAgICBvbk1pbm9yTXV0YXRpb25zOiBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhZGRpdGlvbnMgPSBfYS5hZGRpdGlvbnM7XHJcbiAgICAgICAgICAgICAgICBhZGRpdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoYWRkZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGlzY292ZXJOb2RlcyhhZGRlZCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25IdWdlTXV0YXRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNjb3Zlck5vZGVzKHJvb3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdHJlZU9ic2VydmVycy5zZXQocm9vdCwgdHJlZU9ic2VydmVyKTtcclxuICAgICAgICB2YXIgYXR0ZW1wdENvdW50ID0gMDtcclxuICAgICAgICB2YXIgc3RhcnQgPSBudWxsO1xyXG4gICAgICAgIHZhciBBVFRFTVBUU19JTlRFUlZBTCA9IGdldER1cmF0aW9uKHtzZWNvbmRzOiAxMH0pO1xyXG4gICAgICAgIHZhciBSRVRSWV9USU1FT1VUID0gZ2V0RHVyYXRpb24oe3NlY29uZHM6IDJ9KTtcclxuICAgICAgICB2YXIgTUFYX0FUVEVNUFRTX0NPVU5UID0gNTA7XHJcbiAgICAgICAgdmFyIGNhY2hlID0gW107XHJcbiAgICAgICAgdmFyIHRpbWVvdXRJZCA9IG51bGw7XHJcbiAgICAgICAgdmFyIGhhbmRsZUF0dHJpYnV0ZU11dGF0aW9ucyA9IHRocm90dGxlKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHtcclxuICAgICAgICAgICAgdmFyIGhhbmRsZWRUYXJnZXRzID0gbmV3IFNldCgpO1xyXG4gICAgICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IG0udGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZWRUYXJnZXRzLmhhcyh0YXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKElOTElORV9TVFlMRV9BVFRSUy5pbmNsdWRlcyhtLmF0dHJpYnV0ZU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlZFRhcmdldHMuYWRkKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFN0eWxlRGlkQ2hhbmdlKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHZhciBhdHRyT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAobXV0YXRpb25zKSB7XHJcbiAgICAgICAgICAgIGlmICh0aW1lb3V0SWQpIHtcclxuICAgICAgICAgICAgICAgIGNhY2hlLnB1c2guYXBwbHkoXHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGUsXHJcbiAgICAgICAgICAgICAgICAgICAgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKG11dGF0aW9ucyksIGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhdHRlbXB0Q291bnQrKztcclxuICAgICAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIGlmIChzdGFydCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IG5vdztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRlbXB0Q291bnQgPj0gTUFYX0FUVEVNUFRTX0NPVU5UKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobm93IC0gc3RhcnQgPCBBVFRFTVBUU19JTlRFUlZBTCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGVtcHRDb3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXRJZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVDYWNoZSA9IGNhY2hlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVBdHRyaWJ1dGVNdXRhdGlvbnMoYXR0cmlidXRlQ2FjaGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIFJFVFJZX1RJTUVPVVQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlLnB1c2guYXBwbHkoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQobXV0YXRpb25zKSwgZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IG5vdztcclxuICAgICAgICAgICAgICAgIGF0dGVtcHRDb3VudCA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaGFuZGxlQXR0cmlidXRlTXV0YXRpb25zKG11dGF0aW9ucyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXR0ck9ic2VydmVyLm9ic2VydmUocm9vdCwge1xyXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxyXG4gICAgICAgICAgICBhdHRyaWJ1dGVGaWx0ZXI6IElOTElORV9TVFlMRV9BVFRSUy5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICBvdmVycmlkZXNMaXN0Lm1hcChmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUF0dHIgPSBfYS5kYXRhQXR0cjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YUF0dHI7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApLFxyXG4gICAgICAgICAgICBzdWJ0cmVlOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXR0ck9ic2VydmVycy5zZXQocm9vdCwgYXR0ck9ic2VydmVyKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHN0b3BXYXRjaGluZ0ZvcklubGluZVN0eWxlcygpIHtcclxuICAgICAgICB0cmVlT2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG8uZGlzY29ubmVjdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGF0dHJPYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAobykge1xyXG4gICAgICAgICAgICByZXR1cm4gby5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdHJlZU9ic2VydmVycy5jbGVhcigpO1xyXG4gICAgICAgIGF0dHJPYnNlcnZlcnMuY2xlYXIoKTtcclxuICAgIH1cclxuICAgIHZhciBpbmxpbmVTdHlsZUNhY2hlID0gbmV3IFdlYWtNYXAoKTtcclxuICAgIHZhciBmaWx0ZXJQcm9wcyA9IFtcImJyaWdodG5lc3NcIiwgXCJjb250cmFzdFwiLCBcImdyYXlzY2FsZVwiLCBcInNlcGlhXCIsIFwibW9kZVwiXTtcclxuICAgIGZ1bmN0aW9uIGdldElubGluZVN0eWxlQ2FjaGVLZXkoZWwsIHRoZW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIElOTElORV9TVFlMRV9BVFRSUy5tYXAoZnVuY3Rpb24gKGF0dHIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KGF0dHIsICc9XCInKS5jb25jYXQoZWwuZ2V0QXR0cmlidXRlKGF0dHIpLCAnXCInKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgZmlsdGVyUHJvcHMubWFwKGZ1bmN0aW9uIChwcm9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHByb3AsICc9XCInKS5jb25jYXQodGhlbWVbcHJvcF0sICdcIicpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAuam9pbihcIiBcIik7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzaG91bGRJZ25vcmVJbmxpbmVTdHlsZShlbGVtZW50LCBzZWxlY3RvcnMpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gc2VsZWN0b3JzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmdub3JlZFNlbGVjdG9yID0gc2VsZWN0b3JzW2ldO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5tYXRjaGVzKGluZ25vcmVkU2VsZWN0b3IpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBvdmVycmlkZUlubGluZVN0eWxlKFxyXG4gICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgdGhlbWUsXHJcbiAgICAgICAgaWdub3JlSW5saW5lU2VsZWN0b3JzLFxyXG4gICAgICAgIGlnbm9yZUltYWdlU2VsZWN0b3JzXHJcbiAgICApIHtcclxuICAgICAgICB2YXIgY2FjaGVLZXkgPSBnZXRJbmxpbmVTdHlsZUNhY2hlS2V5KGVsZW1lbnQsIHRoZW1lKTtcclxuICAgICAgICBpZiAoY2FjaGVLZXkgPT09IGlubGluZVN0eWxlQ2FjaGUuZ2V0KGVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVuc2V0UHJvcHMgPSBuZXcgU2V0KE9iamVjdC5rZXlzKG92ZXJyaWRlcykpO1xyXG4gICAgICAgIGZ1bmN0aW9uIHNldEN1c3RvbVByb3AodGFyZ2V0Q1NTUHJvcCwgbW9kaWZpZXJDU1NQcm9wLCBjc3NWYWwpIHtcclxuICAgICAgICAgICAgdmFyIGlzUHJvcGVydHlWYXJpYWJsZSA9IHRhcmdldENTU1Byb3Auc3RhcnRzV2l0aChcIi0tXCIpO1xyXG4gICAgICAgICAgICB2YXIgX2EgPSBpc1Byb3BlcnR5VmFyaWFibGUgPyB7fSA6IG92ZXJyaWRlc1t0YXJnZXRDU1NQcm9wXSxcclxuICAgICAgICAgICAgICAgIGN1c3RvbVByb3AgPSBfYS5jdXN0b21Qcm9wLFxyXG4gICAgICAgICAgICAgICAgZGF0YUF0dHIgPSBfYS5kYXRhQXR0cjtcclxuICAgICAgICAgICAgdmFyIG1vZCA9IGdldE1vZGlmaWFibGVDU1NEZWNsYXJhdGlvbihcclxuICAgICAgICAgICAgICAgIG1vZGlmaWVyQ1NTUHJvcCxcclxuICAgICAgICAgICAgICAgIGNzc1ZhbCxcclxuICAgICAgICAgICAgICAgIHtzdHlsZTogZWxlbWVudC5zdHlsZX0sXHJcbiAgICAgICAgICAgICAgICB2YXJpYWJsZXNTdG9yZSxcclxuICAgICAgICAgICAgICAgIGlnbm9yZUltYWdlU2VsZWN0b3JzLFxyXG4gICAgICAgICAgICAgICAgbnVsbFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoIW1vZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG1vZC52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlKHRoZW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNQcm9wZXJ0eVZhcmlhYmxlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGVkVmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIHR5cGVkVmFsdWUuZGVjbGFyYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gX2EucHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX2EudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgISh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkocHJvcGVydHksIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShjdXN0b21Qcm9wLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQuaGFzQXR0cmlidXRlKGRhdGFBdHRyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGRhdGFBdHRyLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHVuc2V0UHJvcHMuZGVsZXRlKHRhcmdldENTU1Byb3ApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpZ25vcmVJbmxpbmVTZWxlY3RvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkSWdub3JlSW5saW5lU3R5bGUoZWxlbWVudCwgaWdub3JlSW5saW5lU2VsZWN0b3JzKSkge1xyXG4gICAgICAgICAgICAgICAgdW5zZXRQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChjc3NQcm9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUob3ZlcnJpZGVzW2Nzc1Byb3BdLmRhdGFBdHRyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZShcImJnY29sb3JcIikpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJiZ2NvbG9yXCIpO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5tYXRjaCgvXlswLTlhLWZdezN9JC9pKSB8fFxyXG4gICAgICAgICAgICAgICAgdmFsdWUubWF0Y2goL15bMC05YS1mXXs2fSQvaSlcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IFwiI1wiLmNvbmNhdCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0Q3VzdG9tUHJvcChcImJhY2tncm91bmQtY29sb3JcIiwgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKFwiY29sb3JcIikgJiYgZWxlbWVudC5yZWwgIT09IFwibWFzay1pY29uXCIpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjb2xvclwiKTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdmFsdWUubWF0Y2goL15bMC05YS1mXXszfSQvaSkgfHxcclxuICAgICAgICAgICAgICAgIHZhbHVlLm1hdGNoKC9eWzAtOWEtZl17Nn0kL2kpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBcIiNcIi5jb25jYXQodmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldEN1c3RvbVByb3AoXCJjb2xvclwiLCBcImNvbG9yXCIsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZShcImZpbGxcIikpIHtcclxuICAgICAgICAgICAgICAgIHZhciBTTUFMTF9TVkdfTElNSVRfMSA9IDMyO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlXzEgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImZpbGxcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWVfMSAhPT0gXCJub25lXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShlbGVtZW50IGluc3RhbmNlb2YgU1ZHVGV4dEVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVTVkdFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IF9hLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IF9hLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0JnID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA+IFNNQUxMX1NWR19MSU1JVF8xIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID4gU01BTExfU1ZHX0xJTUlUXzE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXN0b21Qcm9wKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZmlsbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQmcgPyBcImJhY2tncm91bmQtY29sb3JcIiA6IFwiY29sb3JcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZV8xXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNSZWFkeVN0YXRlQ29tcGxldGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlU1ZHRWxlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUmVhZHlTdGF0ZUNvbXBsZXRlTGlzdGVuZXIoaGFuZGxlU1ZHRWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXN0b21Qcm9wKFwiZmlsbFwiLCBcImNvbG9yXCIsIHZhbHVlXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJzdG9wLWNvbG9yXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRDdXN0b21Qcm9wKFxyXG4gICAgICAgICAgICAgICAgICAgIFwic3RvcC1jb2xvclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYmFja2dyb3VuZC1jb2xvclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwic3RvcC1jb2xvclwiKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJzdHJva2VcIikpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJzdHJva2VcIik7XHJcbiAgICAgICAgICAgIHNldEN1c3RvbVByb3AoXHJcbiAgICAgICAgICAgICAgICBcInN0cm9rZVwiLFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudCBpbnN0YW5jZW9mIFNWR0xpbmVFbGVtZW50IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudCBpbnN0YW5jZW9mIFNWR1RleHRFbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgPyBcImJvcmRlci1jb2xvclwiXHJcbiAgICAgICAgICAgICAgICAgICAgOiBcImNvbG9yXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LnN0eWxlICYmXHJcbiAgICAgICAgICAgIGl0ZXJhdGVDU1NEZWNsYXJhdGlvbnMoZWxlbWVudC5zdHlsZSwgZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHByb3BlcnR5ID09PSBcImJhY2tncm91bmQtaW1hZ2VcIiAmJiB2YWx1ZS5pbmNsdWRlcyhcInVybFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBvdmVycmlkZXMuaGFzT3duUHJvcGVydHkocHJvcGVydHkpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgKHByb3BlcnR5LnN0YXJ0c1dpdGgoXCItLVwiKSAmJiAhbm9ybWFsaXplZFByb3BMaXN0W3Byb3BlcnR5XSlcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEN1c3RvbVByb3AocHJvcGVydHksIHByb3BlcnR5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdmVycmlkZW5Qcm9wID0gbm9ybWFsaXplZFByb3BMaXN0W3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlblByb3AgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgIWVsZW1lbnQuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShvdmVycmlkZW5Qcm9wKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhZWxlbWVudC5oYXNBdHRyaWJ1dGUob3ZlcnJpZGVuUHJvcClcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVuUHJvcCA9PT0gXCJiYWNrZ3JvdW5kLWNvbG9yXCIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaGFzQXR0cmlidXRlKFwiYmdjb2xvclwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5LCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZSAmJlxyXG4gICAgICAgICAgICBlbGVtZW50IGluc3RhbmNlb2YgU1ZHVGV4dEVsZW1lbnQgJiZcclxuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5maWxsXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHNldEN1c3RvbVByb3AoXHJcbiAgICAgICAgICAgICAgICBcImZpbGxcIixcclxuICAgICAgICAgICAgICAgIFwiY29sb3JcIixcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcImZpbGxcIilcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yRWFjaCh1bnNldFByb3BzLCBmdW5jdGlvbiAoY3NzUHJvcCkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShvdmVycmlkZXNbY3NzUHJvcF0uZGF0YUF0dHIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlubGluZVN0eWxlQ2FjaGUuc2V0KGVsZW1lbnQsIGdldElubGluZVN0eWxlQ2FjaGVLZXkoZWxlbWVudCwgdGhlbWUpKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbWV0YVRoZW1lQ29sb3JOYW1lID0gXCJ0aGVtZS1jb2xvclwiO1xyXG4gICAgdmFyIG1ldGFUaGVtZUNvbG9yU2VsZWN0b3IgPSAnbWV0YVtuYW1lPVwiJy5jb25jYXQobWV0YVRoZW1lQ29sb3JOYW1lLCAnXCJdJyk7XHJcbiAgICB2YXIgc3JjTWV0YVRoZW1lQ29sb3IgPSBudWxsO1xyXG4gICAgdmFyIG9ic2VydmVyID0gbnVsbDtcclxuICAgIGZ1bmN0aW9uIGNoYW5nZU1ldGFUaGVtZUNvbG9yKG1ldGEsIHRoZW1lKSB7XHJcbiAgICAgICAgc3JjTWV0YVRoZW1lQ29sb3IgPSBzcmNNZXRhVGhlbWVDb2xvciB8fCBtZXRhLmNvbnRlbnQ7XHJcbiAgICAgICAgdmFyIGNvbG9yID0gcGFyc2VDb2xvcldpdGhDYWNoZShzcmNNZXRhVGhlbWVDb2xvcik7XHJcbiAgICAgICAgaWYgKCFjb2xvcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1ldGEuY29udGVudCA9IG1vZGlmeUJhY2tncm91bmRDb2xvcihjb2xvciwgdGhlbWUpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY2hhbmdlTWV0YVRoZW1lQ29sb3JXaGVuQXZhaWxhYmxlKHRoZW1lKSB7XHJcbiAgICAgICAgdmFyIG1ldGEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG1ldGFUaGVtZUNvbG9yU2VsZWN0b3IpO1xyXG4gICAgICAgIGlmIChtZXRhKSB7XHJcbiAgICAgICAgICAgIGNoYW5nZU1ldGFUaGVtZUNvbG9yKG1ldGEsIHRoZW1lKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGxvb3A6IGZvciAodmFyIGkgPSAwOyBpIDwgbXV0YXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFkZGVkTm9kZXMgPSBtdXRhdGlvbnNbaV0uYWRkZWROb2RlcztcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFkZGVkTm9kZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBhZGRlZE5vZGVzW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlIGluc3RhbmNlb2YgSFRNTE1ldGFFbGVtZW50ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLm5hbWUgPT09IG1ldGFUaGVtZUNvbG9yTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZU1ldGFUaGVtZUNvbG9yKG5vZGUsIHRoZW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGxvb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmhlYWQsIHtjaGlsZExpc3Q6IHRydWV9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXN0b3JlTWV0YVRoZW1lQ29sb3IoKSB7XHJcbiAgICAgICAgaWYgKG9ic2VydmVyKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbWV0YSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobWV0YVRoZW1lQ29sb3JTZWxlY3Rvcik7XHJcbiAgICAgICAgaWYgKG1ldGEgJiYgc3JjTWV0YVRoZW1lQ29sb3IpIHtcclxuICAgICAgICAgICAgbWV0YS5jb250ZW50ID0gc3JjTWV0YVRoZW1lQ29sb3I7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciB0aGVtZUNhY2hlS2V5cyA9IFtcclxuICAgICAgICBcIm1vZGVcIixcclxuICAgICAgICBcImJyaWdodG5lc3NcIixcclxuICAgICAgICBcImNvbnRyYXN0XCIsXHJcbiAgICAgICAgXCJncmF5c2NhbGVcIixcclxuICAgICAgICBcInNlcGlhXCIsXHJcbiAgICAgICAgXCJkYXJrU2NoZW1lQmFja2dyb3VuZENvbG9yXCIsXHJcbiAgICAgICAgXCJkYXJrU2NoZW1lVGV4dENvbG9yXCIsXHJcbiAgICAgICAgXCJsaWdodFNjaGVtZUJhY2tncm91bmRDb2xvclwiLFxyXG4gICAgICAgIFwibGlnaHRTY2hlbWVUZXh0Q29sb3JcIlxyXG4gICAgXTtcclxuICAgIGZ1bmN0aW9uIGdldFRoZW1lS2V5KHRoZW1lKSB7XHJcbiAgICAgICAgdmFyIHJlc3VsdEtleSA9IFwiXCI7XHJcbiAgICAgICAgdGhlbWVDYWNoZUtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHJlc3VsdEtleSArPSBcIlwiLmNvbmNhdChrZXksIFwiOlwiKS5jb25jYXQodGhlbWVba2V5XSwgXCI7XCIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiByZXN1bHRLZXk7XHJcbiAgICB9XHJcbiAgICB2YXIgYXN5bmNRdWV1ZSA9IGNyZWF0ZUFzeW5jVGFza3NRdWV1ZSgpO1xyXG4gICAgZnVuY3Rpb24gY3JlYXRlU3R5bGVTaGVldE1vZGlmaWVyKCkge1xyXG4gICAgICAgIHZhciByZW5kZXJJZCA9IDA7XHJcbiAgICAgICAgdmFyIHJ1bGVzVGV4dENhY2hlID0gbmV3IFNldCgpO1xyXG4gICAgICAgIHZhciBydWxlc01vZENhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHZhciB2YXJUeXBlQ2hhbmdlQ2xlYW5lcnMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgdmFyIHByZXZGaWx0ZXJLZXkgPSBudWxsO1xyXG4gICAgICAgIHZhciBoYXNOb25Mb2FkZWRMaW5rID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIHdhc1JlYnVpbHQgPSBmYWxzZTtcclxuICAgICAgICBmdW5jdGlvbiBzaG91bGRSZWJ1aWxkU3R5bGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoYXNOb25Mb2FkZWRMaW5rICYmICF3YXNSZWJ1aWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBtb2RpZnlTaGVldChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHZhciBydWxlcyA9IG9wdGlvbnMuc291cmNlQ1NTUnVsZXM7XHJcbiAgICAgICAgICAgIHZhciB0aGVtZSA9IG9wdGlvbnMudGhlbWUsXHJcbiAgICAgICAgICAgICAgICBpZ25vcmVJbWFnZUFuYWx5c2lzID0gb3B0aW9ucy5pZ25vcmVJbWFnZUFuYWx5c2lzLFxyXG4gICAgICAgICAgICAgICAgZm9yY2UgPSBvcHRpb25zLmZvcmNlLFxyXG4gICAgICAgICAgICAgICAgcHJlcGFyZVNoZWV0ID0gb3B0aW9ucy5wcmVwYXJlU2hlZXQsXHJcbiAgICAgICAgICAgICAgICBpc0FzeW5jQ2FuY2VsbGVkID0gb3B0aW9ucy5pc0FzeW5jQ2FuY2VsbGVkO1xyXG4gICAgICAgICAgICB2YXIgcnVsZXNDaGFuZ2VkID0gcnVsZXNNb2RDYWNoZS5zaXplID09PSAwO1xyXG4gICAgICAgICAgICB2YXIgbm90Rm91bmRDYWNoZUtleXMgPSBuZXcgU2V0KHJ1bGVzTW9kQ2FjaGUua2V5cygpKTtcclxuICAgICAgICAgICAgdmFyIHRoZW1lS2V5ID0gZ2V0VGhlbWVLZXkodGhlbWUpO1xyXG4gICAgICAgICAgICB2YXIgdGhlbWVDaGFuZ2VkID0gdGhlbWVLZXkgIT09IHByZXZGaWx0ZXJLZXk7XHJcbiAgICAgICAgICAgIGlmIChoYXNOb25Mb2FkZWRMaW5rKSB7XHJcbiAgICAgICAgICAgICAgICB3YXNSZWJ1aWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbW9kUnVsZXMgPSBbXTtcclxuICAgICAgICAgICAgaXRlcmF0ZUNTU1J1bGVzKFxyXG4gICAgICAgICAgICAgICAgcnVsZXMsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAocnVsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjc3NUZXh0ID0gcnVsZS5jc3NUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0RGlmZmVyc0Zyb21QcmV2ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbm90Rm91bmRDYWNoZUtleXMuZGVsZXRlKGNzc1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChydWxlLnBhcmVudFJ1bGUgaW5zdGFuY2VvZiBDU1NNZWRpYVJ1bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCArPSBcIjtcIi5jb25jYXQocnVsZS5wYXJlbnRSdWxlLm1lZGlhLm1lZGlhVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcnVsZXNUZXh0Q2FjaGUuaGFzKGNzc1RleHQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzVGV4dENhY2hlLmFkZChjc3NUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dERpZmZlcnNGcm9tUHJldiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0RGlmZmVyc0Zyb21QcmV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGVzQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kUnVsZXMucHVzaChydWxlc01vZENhY2hlLmdldChjc3NUZXh0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bGUuc3R5bGUuYWxsID09PSBcInJldmVydFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZERlY3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBydWxlLnN0eWxlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGVDU1NEZWNsYXJhdGlvbnMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2QgPSBnZXRNb2RpZmlhYmxlQ1NTRGVjbGFyYXRpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzU3RvcmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZUltYWdlQW5hbHlzaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXN5bmNDYW5jZWxsZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kRGVjcy5wdXNoKG1vZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RSdWxlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobW9kRGVjcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRSdWxlID0gcnVsZS5wYXJlbnRSdWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RSdWxlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6IHJ1bGUuc2VsZWN0b3JUZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBtb2REZWNzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50UnVsZTogcGFyZW50UnVsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RSdWxlcy5wdXNoKG1vZFJ1bGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBydWxlc01vZENhY2hlLnNldChjc3NUZXh0LCBtb2RSdWxlKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFzTm9uTG9hZGVkTGluayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIG5vdEZvdW5kQ2FjaGVLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICAgICAgcnVsZXNUZXh0Q2FjaGUuZGVsZXRlKGtleSk7XHJcbiAgICAgICAgICAgICAgICBydWxlc01vZENhY2hlLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcHJldkZpbHRlcktleSA9IHRoZW1lS2V5O1xyXG4gICAgICAgICAgICBpZiAoIWZvcmNlICYmICFydWxlc0NoYW5nZWQgJiYgIXRoZW1lQ2hhbmdlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlbmRlcklkKys7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldFJ1bGUodGFyZ2V0LCBpbmRleCwgcnVsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gcnVsZS5zZWxlY3RvcixcclxuICAgICAgICAgICAgICAgICAgICBkZWNsYXJhdGlvbnMgPSBydWxlLmRlY2xhcmF0aW9ucztcclxuICAgICAgICAgICAgICAgIHZhciBnZXREZWNsYXJhdGlvblRleHQgPSBmdW5jdGlvbiAoZGVjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gZGVjLnByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGRlYy52YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0YW50ID0gZGVjLmltcG9ydGFudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlVmFsdWUgPSBkZWMuc291cmNlVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChwcm9wZXJ0eSwgXCI6IFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KHZhbHVlID09IG51bGwgPyBzb3VyY2VWYWx1ZSA6IHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KGltcG9ydGFudCA/IFwiICFpbXBvcnRhbnRcIiA6IFwiXCIsIFwiO1wiKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgY3NzUnVsZXNUZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChkZWNsYXJhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjc3NSdWxlc1RleHQgKz0gXCJcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldERlY2xhcmF0aW9uVGV4dChkZWNsYXJhdGlvbnMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBcIlxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RvclRleHQgPSBzZWxlY3RvcjtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBpc0Nocm9taXVtICYmXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3Iuc3RhcnRzV2l0aChcIjppcyhcIikgJiZcclxuICAgICAgICAgICAgICAgICAgICAoc2VsZWN0b3IuaW5jbHVkZXMoXCI6aXMoKVwiKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rvci5pbmNsdWRlcyhcIjp3aGVyZSgpXCIpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZWxlY3Rvci5pbmNsdWRlcyhcIjp3aGVyZShcIikgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yLmluY2x1ZGVzKFwiOi1tb3pcIikpKVxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3JUZXh0ID0gXCIuZGFya3JlYWRlci11bnN1cHBvcnRlZC1zZWxlY3RvclwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHJ1bGVUZXh0ID0gXCJcIlxyXG4gICAgICAgICAgICAgICAgICAgIC5jb25jYXQoc2VsZWN0b3JUZXh0LCBcIiB7IFwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb25jYXQoY3NzUnVsZXNUZXh0LCBcIiB9XCIpO1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0Lmluc2VydFJ1bGUocnVsZVRleHQsIGluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgYXN5bmNEZWNsYXJhdGlvbnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIHZhciB2YXJEZWNsYXJhdGlvbnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgICAgIHZhciBhc3luY0RlY2xhcmF0aW9uQ291bnRlciA9IDA7XHJcbiAgICAgICAgICAgIHZhciB2YXJEZWNsYXJhdGlvbkNvdW50ZXIgPSAwO1xyXG4gICAgICAgICAgICB2YXIgcm9vdFJlYWR5R3JvdXAgPSB7cnVsZTogbnVsbCwgcnVsZXM6IFtdLCBpc0dyb3VwOiB0cnVlfTtcclxuICAgICAgICAgICAgdmFyIGdyb3VwUmVmcyA9IG5ldyBXZWFrTWFwKCk7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEdyb3VwKHJ1bGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChydWxlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm9vdFJlYWR5R3JvdXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JvdXBSZWZzLmhhcyhydWxlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBncm91cFJlZnMuZ2V0KHJ1bGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGdyb3VwID0ge3J1bGU6IHJ1bGUsIHJ1bGVzOiBbXSwgaXNHcm91cDogdHJ1ZX07XHJcbiAgICAgICAgICAgICAgICBncm91cFJlZnMuc2V0KHJ1bGUsIGdyb3VwKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRHcm91cCA9IGdldEdyb3VwKHJ1bGUucGFyZW50UnVsZSk7XHJcbiAgICAgICAgICAgICAgICBwYXJlbnRHcm91cC5ydWxlcy5wdXNoKGdyb3VwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBncm91cDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXJUeXBlQ2hhbmdlQ2xlYW5lcnMuZm9yRWFjaChmdW5jdGlvbiAoY2xlYXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjbGVhcigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyVHlwZUNoYW5nZUNsZWFuZXJzLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIG1vZFJ1bGVzXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gX2Euc2VsZWN0b3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9ucyA9IF9hLmRlY2xhcmF0aW9ucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50UnVsZSA9IF9hLnBhcmVudFJ1bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwID0gZ2V0R3JvdXAocGFyZW50UnVsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWR5U3R5bGVSdWxlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9uczogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzR3JvdXA6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZHlEZWNsYXJhdGlvbnMgPSByZWFkeVN0eWxlUnVsZS5kZWNsYXJhdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAucnVsZXMucHVzaChyZWFkeVN0eWxlUnVsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlQXN5bmNEZWNsYXJhdGlvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRhbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhc3luY0tleSA9ICsrYXN5bmNEZWNsYXJhdGlvbkNvdW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhc3luY0RlY2xhcmF0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRhbnQ6IGltcG9ydGFudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jS2V5OiBhc3luY0tleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVZhbHVlOiBzb3VyY2VWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkeURlY2xhcmF0aW9ucy5wdXNoKGFzeW5jRGVjbGFyYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFJlbmRlcklkID0gcmVuZGVySWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkLnRoZW4oZnVuY3Rpb24gKGFzeW5jVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhYXN5bmNWYWx1ZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzQXN5bmNDYW5jZWxsZWQoKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSZW5kZXJJZCAhPT0gcmVuZGVySWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzeW5jRGVjbGFyYXRpb24udmFsdWUgPSBhc3luY1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN5bmNRdWV1ZS5hZGQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBc3luY0NhbmNlbGxlZCgpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSZW5kZXJJZCAhPT0gcmVuZGVySWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWJ1aWxkQXN5bmNSdWxlKGFzeW5jS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlVmFyRGVjbGFyYXRpb25zKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydGFudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlVmFsdWVcclxuICAgICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhckRlY3MgPSBtb2RpZmllZC5kZWNsYXJhdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblR5cGVDaGFuZ2UgPSBtb2RpZmllZC5vblR5cGVDaGFuZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YXJLZXkgPSArK3ZhckRlY2xhcmF0aW9uQ291bnRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRSZW5kZXJJZCA9IHJlbmRlcklkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5pdGlhbEluZGV4ID0gcmVhZHlEZWNsYXJhdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkRGVjcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFyRGVjcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wRGVjID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc291cmNlVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0YW50OiBpbXBvcnRhbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlVmFsdWU6IHNvdXJjZVZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcktleTogdmFyS2V5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZHlEZWNsYXJhdGlvbnMucHVzaCh0ZW1wRGVjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZERlY3MgPSBbdGVtcERlY107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyRGVjcy5mb3JFYWNoKGZ1bmN0aW9uIChtb2QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2QudmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQXN5bmNEZWNsYXJhdGlvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kLnByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2QudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydGFudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlVmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZHlEZWMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5OiBtb2QucHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtb2QudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydGFudDogaW1wb3J0YW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VWYWx1ZTogc291cmNlVmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcktleTogdmFyS2V5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkeURlY2xhcmF0aW9ucy5wdXNoKHJlYWR5RGVjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGREZWNzLnB1c2gocmVhZHlEZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25UeXBlQ2hhbmdlLmFkZExpc3RlbmVyKGZ1bmN0aW9uIChuZXdEZWNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBc3luY0NhbmNlbGxlZCgpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFJlbmRlcklkICE9PSByZW5kZXJJZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWR5VmFyRGVjcyA9IG5ld0RlY3MubWFwKGZ1bmN0aW9uIChtb2QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogbW9kLnByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbW9kLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRhbnQ6IGltcG9ydGFudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlVmFsdWU6IHNvdXJjZVZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJLZXk6IHZhcktleVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHJlYWR5RGVjbGFyYXRpb25zLmluZGV4T2YoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkRGVjc1swXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsSW5kZXhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkeURlY2xhcmF0aW9ucy5zcGxpY2UuYXBwbHkoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZHlEZWNsYXJhdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19zcHJlYWRBcnJheShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2luZGV4LCBvbGREZWNzLmxlbmd0aF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fcmVhZChyZWFkeVZhckRlY3MpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGREZWNzID0gcmVhZHlWYXJEZWNzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVidWlsZFZhclJ1bGUodmFyS2V5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhclR5cGVDaGFuZ2VDbGVhbmVycy5hZGQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uVHlwZUNoYW5nZS5yZW1vdmVMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRlY2xhcmF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBfYS5wcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX2EudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRhbnQgPSBfYS5pbXBvcnRhbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VWYWx1ZSA9IF9hLnNvdXJjZVZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RpZmllZCA9IHZhbHVlKHRoZW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RpZmllZCBpbnN0YW5jZW9mIFByb21pc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVBc3luY0RlY2xhcmF0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydGFudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlVmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wZXJ0eS5zdGFydHNXaXRoKFwiLS1cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVWYXJEZWNsYXJhdGlvbnMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0YW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYWR5RGVjbGFyYXRpb25zLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eTogcHJvcGVydHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtb2RpZmllZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0YW50OiBpbXBvcnRhbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZVZhbHVlOiBzb3VyY2VWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhZHlEZWNsYXJhdGlvbnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHk6IHByb3BlcnR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRhbnQ6IGltcG9ydGFudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VWYWx1ZTogc291cmNlVmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIHNoZWV0ID0gcHJlcGFyZVNoZWV0KCk7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGJ1aWxkU3R5bGVTaGVldCgpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRhcmdldChncm91cCwgcGFyZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJ1bGUgPSBncm91cC5ydWxlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChydWxlIGluc3RhbmNlb2YgQ1NTTWVkaWFSdWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZWRpYSA9IHJ1bGUubWVkaWE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHBhcmVudC5jc3NSdWxlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRSdWxlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJAbWVkaWEgXCIuY29uY2F0KG1lZGlhLm1lZGlhVGV4dCwgXCIge31cIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50LmNzc1J1bGVzW2luZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGl0ZXJhdGVSZWFkeVJ1bGVzKGdyb3VwLCB0YXJnZXQsIHN0eWxlSXRlcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBncm91cC5ydWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyLmlzR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gY3JlYXRlVGFyZ2V0KHIsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVyYXRlUmVhZHlSdWxlcyhyLCB0LCBzdHlsZUl0ZXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlSXRlcmF0b3IociwgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaXRlcmF0ZVJlYWR5UnVsZXMoXHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdFJlYWR5R3JvdXAsXHJcbiAgICAgICAgICAgICAgICAgICAgc2hlZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKHJ1bGUsIHRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0YXJnZXQuY3NzUnVsZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBydWxlLmRlY2xhcmF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFzeW5jS2V5ID0gX2EuYXN5bmNLZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyS2V5ID0gX2EudmFyS2V5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFzeW5jS2V5ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3luY0RlY2xhcmF0aW9ucy5zZXQoYXN5bmNLZXksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZTogcnVsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhcktleSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyRGVjbGFyYXRpb25zLnNldCh2YXJLZXksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZTogcnVsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UnVsZSh0YXJnZXQsIGluZGV4LCBydWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlYnVpbGRBc3luY1J1bGUoa2V5KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBhc3luY0RlY2xhcmF0aW9ucy5nZXQoa2V5KSxcclxuICAgICAgICAgICAgICAgICAgICBydWxlID0gX2EucnVsZSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBfYS50YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBfYS5pbmRleDtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5kZWxldGVSdWxlKGluZGV4KTtcclxuICAgICAgICAgICAgICAgIHNldFJ1bGUodGFyZ2V0LCBpbmRleCwgcnVsZSk7XHJcbiAgICAgICAgICAgICAgICBhc3luY0RlY2xhcmF0aW9ucy5kZWxldGUoa2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZWJ1aWxkVmFyUnVsZShrZXkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfYSA9IHZhckRlY2xhcmF0aW9ucy5nZXQoa2V5KSxcclxuICAgICAgICAgICAgICAgICAgICBydWxlID0gX2EucnVsZSxcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBfYS50YXJnZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBfYS5pbmRleDtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5kZWxldGVSdWxlKGluZGV4KTtcclxuICAgICAgICAgICAgICAgIHNldFJ1bGUodGFyZ2V0LCBpbmRleCwgcnVsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnVpbGRTdHlsZVNoZWV0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1vZGlmeVNoZWV0OiBtb2RpZnlTaGVldCxcclxuICAgICAgICAgICAgc2hvdWxkUmVidWlsZFN0eWxlOiBzaG91bGRSZWJ1aWxkU3R5bGVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBTVFlMRV9TRUxFQ1RPUiA9ICdzdHlsZSwgbGlua1tyZWwqPVwic3R5bGVzaGVldFwiIGldOm5vdChbZGlzYWJsZWRdKSc7XHJcbiAgICBmdW5jdGlvbiBpc0ZvbnRzR29vZ2xlQXBpU3R5bGUoZWxlbWVudCkge1xyXG4gICAgICAgIGlmICghZWxlbWVudC5ocmVmKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnRVUkwgPSBuZXcgVVJMKGVsZW1lbnQuaHJlZik7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50VVJMLmhvc3RuYW1lID09PSBcImZvbnRzLmdvb2dsZWFwaXMuY29tXCI7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGxvZ0luZm8oXCJDb3VsZG4ndCBjb25zdHJ1Y3QgXCIuY29uY2F0KGVsZW1lbnQuaHJlZiwgXCIgYXMgVVJMXCIpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNob3VsZE1hbmFnZVN0eWxlKGVsZW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxTdHlsZUVsZW1lbnQgfHxcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQgaW5zdGFuY2VvZiBTVkdTdHlsZUVsZW1lbnQgfHxcclxuICAgICAgICAgICAgICAgIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTExpbmtFbGVtZW50ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgQm9vbGVhbihlbGVtZW50LnJlbCkgJiZcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwic3R5bGVzaGVldFwiKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIEJvb2xlYW4oZWxlbWVudC5ocmVmKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFlbGVtZW50LmRpc2FibGVkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKGlzRmlyZWZveFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICFlbGVtZW50LmhyZWYuc3RhcnRzV2l0aChcIm1vei1leHRlbnNpb246Ly9cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0cnVlKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFpc0ZvbnRzR29vZ2xlQXBpU3R5bGUoZWxlbWVudCkpKSAmJlxyXG4gICAgICAgICAgICAhZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJkYXJrcmVhZGVyXCIpICYmXHJcbiAgICAgICAgICAgIGVsZW1lbnQubWVkaWEudG9Mb3dlckNhc2UoKSAhPT0gXCJwcmludFwiICYmXHJcbiAgICAgICAgICAgICFlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcInN0eWx1c1wiKVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBnZXRNYW5hZ2VhYmxlU3R5bGVzKG5vZGUsIHJlc3VsdHMsIGRlZXApIHtcclxuICAgICAgICBpZiAocmVzdWx0cyA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdHMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRlZXAgPT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICBkZWVwID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNob3VsZE1hbmFnZVN0eWxlKG5vZGUpKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChub2RlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICBub2RlIGluc3RhbmNlb2YgRWxlbWVudCB8fFxyXG4gICAgICAgICAgICAoaXNTaGFkb3dEb21TdXBwb3J0ZWQgJiYgbm9kZSBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QpIHx8XHJcbiAgICAgICAgICAgIG5vZGUgPT09IGRvY3VtZW50XHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGZvckVhY2gobm9kZS5xdWVyeVNlbGVjdG9yQWxsKFNUWUxFX1NFTEVDVE9SKSwgZnVuY3Rpb24gKHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TWFuYWdlYWJsZVN0eWxlcyhzdHlsZSwgcmVzdWx0cywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGRlZXApIHtcclxuICAgICAgICAgICAgICAgIGl0ZXJhdGVTaGFkb3dIb3N0cyhub2RlLCBmdW5jdGlvbiAoaG9zdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRNYW5hZ2VhYmxlU3R5bGVzKGhvc3Quc2hhZG93Um9vdCwgcmVzdWx0cywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICB9XHJcbiAgICB2YXIgc3luY1N0eWxlU2V0ID0gbmV3IFdlYWtTZXQoKTtcclxuICAgIHZhciBjb3JzU3R5bGVTZXQgPSBuZXcgV2Vha1NldCgpO1xyXG4gICAgdmFyIGNhbk9wdGltaXplVXNpbmdQcm94eSQxID0gZmFsc2U7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgIFwiX19kYXJrcmVhZGVyX19pbmxpbmVTY3JpcHRzQWxsb3dlZFwiLFxyXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2FuT3B0aW1pemVVc2luZ1Byb3h5JDEgPSB0cnVlO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAge29uY2U6IHRydWUsIHBhc3NpdmU6IHRydWV9XHJcbiAgICApO1xyXG4gICAgdmFyIGxvYWRpbmdMaW5rQ291bnRlciA9IDA7XHJcbiAgICB2YXIgcmVqZWN0b3JzRm9yTG9hZGluZ0xpbmtzID0gbmV3IE1hcCgpO1xyXG4gICAgZnVuY3Rpb24gY2xlYW5Mb2FkaW5nTGlua3MoKSB7XHJcbiAgICAgICAgcmVqZWN0b3JzRm9yTG9hZGluZ0xpbmtzLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBtYW5hZ2VTdHlsZShlbGVtZW50LCBfYSkge1xyXG4gICAgICAgIHZhciB1cGRhdGUgPSBfYS51cGRhdGUsXHJcbiAgICAgICAgICAgIGxvYWRpbmdTdGFydCA9IF9hLmxvYWRpbmdTdGFydCxcclxuICAgICAgICAgICAgbG9hZGluZ0VuZCA9IF9hLmxvYWRpbmdFbmQ7XHJcbiAgICAgICAgdmFyIHByZXZTdHlsZXMgPSBbXTtcclxuICAgICAgICB2YXIgbmV4dCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgd2hpbGUgKFxyXG4gICAgICAgICAgICAobmV4dCA9IG5leHQubmV4dEVsZW1lbnRTaWJsaW5nKSAmJlxyXG4gICAgICAgICAgICBuZXh0Lm1hdGNoZXMoXCIuZGFya3JlYWRlclwiKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBwcmV2U3R5bGVzLnB1c2gobmV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb3JzQ29weSA9XHJcbiAgICAgICAgICAgIHByZXZTdHlsZXMuZmluZChmdW5jdGlvbiAoZWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbC5tYXRjaGVzKFwiLmRhcmtyZWFkZXItLWNvcnNcIikgJiYgIWNvcnNTdHlsZVNldC5oYXMoZWwpO1xyXG4gICAgICAgICAgICB9KSB8fCBudWxsO1xyXG4gICAgICAgIHZhciBzeW5jU3R5bGUgPVxyXG4gICAgICAgICAgICBwcmV2U3R5bGVzLmZpbmQoZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwubWF0Y2hlcyhcIi5kYXJrcmVhZGVyLS1zeW5jXCIpICYmICFzeW5jU3R5bGVTZXQuaGFzKGVsKTtcclxuICAgICAgICAgICAgfSkgfHwgbnVsbDtcclxuICAgICAgICB2YXIgY29yc0NvcHlQb3NpdGlvbldhdGNoZXIgPSBudWxsO1xyXG4gICAgICAgIHZhciBzeW5jU3R5bGVQb3NpdGlvbldhdGNoZXIgPSBudWxsO1xyXG4gICAgICAgIHZhciBjYW5jZWxBc3luY09wZXJhdGlvbnMgPSBmYWxzZTtcclxuICAgICAgICB2YXIgaXNPdmVycmlkZUVtcHR5ID0gdHJ1ZTtcclxuICAgICAgICB2YXIgc2hlZXRNb2RpZmllciA9IGNyZWF0ZVN0eWxlU2hlZXRNb2RpZmllcigpO1xyXG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIG9ic2VydmVyT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcclxuICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgICAgICAgICBzdWJ0cmVlOiB0cnVlLFxyXG4gICAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBmdW5jdGlvbiBjb250YWluc0NTU0ltcG9ydCgpIHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICBpZiAoIShlbGVtZW50IGluc3RhbmNlb2YgSFRNTFN0eWxlRWxlbWVudCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgY3NzVGV4dCA9IHJlbW92ZUNTU0NvbW1lbnRzKFxyXG4gICAgICAgICAgICAgICAgKF9hID0gZWxlbWVudC50ZXh0Q29udGVudCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogXCJcIlxyXG4gICAgICAgICAgICApLnRyaW0oKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNzc1RleHQubWF0Y2goY3NzSW1wb3J0UmVnZXgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBoYXNJbXBvcnRzKGNzc1J1bGVzLCBjaGVja0Nyb3NzT3JpZ2luKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKGNzc1J1bGVzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcnVsZSA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIGNzc1J1bGVzTG9vcDogZm9yIChcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDAsIGxlbiA9IGNzc1J1bGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBpIDwgbGVuO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrK1xyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnVsZSA9IGNzc1J1bGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChydWxlLmhyZWYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrQ3Jvc3NPcmlnaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhcnVsZS5ocmVmLnN0YXJ0c1dpdGgoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlLmhyZWYuc3RhcnRzV2l0aChcImh0dHBcIikgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhcnVsZS5ocmVmLnN0YXJ0c1dpdGgobG9jYXRpb24ub3JpZ2luKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBjc3NSdWxlc0xvb3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgY3NzUnVsZXNMb29wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFJ1bGVzU3luYygpIHtcclxuICAgICAgICAgICAgaWYgKGNvcnNDb3B5KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29yc0NvcHkuc2hlZXQuY3NzUnVsZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5zQ1NTSW1wb3J0KCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBjc3NSdWxlcyA9IHNhZmVHZXRTaGVldFJ1bGVzKCk7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MTGlua0VsZW1lbnQgJiZcclxuICAgICAgICAgICAgICAgICFpc1JlbGF0aXZlSHJlZk9uQWJzb2x1dGVQYXRoKGVsZW1lbnQuaHJlZikgJiZcclxuICAgICAgICAgICAgICAgIGhhc0ltcG9ydHMoY3NzUnVsZXMsIGZhbHNlKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChoYXNJbXBvcnRzKGNzc1J1bGVzLCB0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNzc1J1bGVzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBpbnNlcnRTdHlsZSgpIHtcclxuICAgICAgICAgICAgaWYgKGNvcnNDb3B5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5uZXh0U2libGluZyAhPT0gY29yc0NvcHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JzQ29weSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5uZXh0U2libGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY29yc0NvcHkubmV4dFNpYmxpbmcgIT09IHN5bmNTdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNTdHlsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29yc0NvcHkubmV4dFNpYmxpbmdcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQubmV4dFNpYmxpbmcgIT09IHN5bmNTdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzeW5jU3R5bGUsIGVsZW1lbnQubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVN5bmNTdHlsZSgpIHtcclxuICAgICAgICAgICAgc3luY1N0eWxlID1cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQgaW5zdGFuY2VvZiBTVkdTdHlsZUVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHlsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcbiAgICAgICAgICAgIHN5bmNTdHlsZS5jbGFzc0xpc3QuYWRkKFwiZGFya3JlYWRlclwiKTtcclxuICAgICAgICAgICAgc3luY1N0eWxlLmNsYXNzTGlzdC5hZGQoXCJkYXJrcmVhZGVyLS1zeW5jXCIpO1xyXG4gICAgICAgICAgICBzeW5jU3R5bGUubWVkaWEgPSBcInNjcmVlblwiO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC50aXRsZSkge1xyXG4gICAgICAgICAgICAgICAgc3luY1N0eWxlLnRpdGxlID0gZWxlbWVudC50aXRsZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzeW5jU3R5bGVTZXQuYWRkKHN5bmNTdHlsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpc0xvYWRpbmdSdWxlcyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciB3YXNMb2FkaW5nRXJyb3IgPSBmYWxzZTtcclxuICAgICAgICB2YXIgbG9hZGluZ0xpbmtJZCA9ICsrbG9hZGluZ0xpbmtDb3VudGVyO1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldFJ1bGVzQXN5bmMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjc3NUZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgIGNzc0Jhc2VQYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgIF9hLFxyXG4gICAgICAgICAgICAgICAgICAgIGNzc1J1bGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjY2Vzc0Vycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bGxDU1NUZXh0O1xyXG4gICAgICAgICAgICAgICAgdmFyIF9iO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxMaW5rRWxlbWVudCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCA3XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IF9fcmVhZChnZXRSdWxlc09yRXJyb3IoKSwgMikpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjc3NSdWxlcyA9IF9hWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYWNjZXNzRXJyb3IgPSBfYVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGlzU2FmYXJpICYmICFlbGVtZW50LnNoZWV0KSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIWlzU2FmYXJpICYmICFjc3NSdWxlcyAmJiAhYWNjZXNzRXJyb3IpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzU3RpbGxMb2FkaW5nRXJyb3IoYWNjZXNzRXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgNV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIGxpbmtMb2FkaW5nKGVsZW1lbnQsIGxvYWRpbmdMaW5rSWQpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FzTG9hZGluZ0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgNF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5jZWxBc3luY09wZXJhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIsIG51bGxdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0gX19yZWFkKGdldFJ1bGVzT3JFcnJvcigpLCAyKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNzc1J1bGVzID0gX2JbMF0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhY2Nlc3NFcnJvciA9IF9iWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNzc1J1bGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNJbXBvcnRzKGNzc1J1bGVzLCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCBjc3NSdWxlc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBsb2FkVGV4dChlbGVtZW50LmhyZWYpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IF9jLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0Jhc2VQYXRoID0gZ2V0Q1NTQmFzZUJhdGgoZWxlbWVudC5ocmVmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5jZWxBc3luY09wZXJhdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIsIG51bGxdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCA4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5zQ1NTSW1wb3J0KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NUZXh0ID0gZWxlbWVudC50ZXh0Q29udGVudC50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzQmFzZVBhdGggPSBnZXRDU1NCYXNlQmF0aChsb2NhdGlvbi5ocmVmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCBudWxsXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gODtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjc3NUZXh0KSByZXR1cm4gWzMsIDEzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gOTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MudHJ5cy5wdXNoKFs5LCAxMSwgLCAxMl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCByZXBsYWNlQ1NTSW1wb3J0cyhjc3NUZXh0LCBjc3NCYXNlUGF0aCldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbENTU1RleHQgPSBfYy5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JzQ29weSA9IGNyZWF0ZUNPUlNDb3B5KGVsZW1lbnQsIGZ1bGxDU1NUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgMTJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAxMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29yc0NvcHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JzQ29weVBvc2l0aW9uV2F0Y2hlciA9IHdhdGNoRm9yTm9kZVBvc2l0aW9uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3JzQ29weSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwcmV2LXNpYmxpbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCBjb3JzQ29weS5zaGVldC5jc3NSdWxlc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDEzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCBudWxsXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGRldGFpbHMob3B0aW9ucykge1xyXG4gICAgICAgICAgICB2YXIgcnVsZXMgPSBnZXRSdWxlc1N5bmMoKTtcclxuICAgICAgICAgICAgaWYgKCFydWxlcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2Vjb25kUm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpc0xvYWRpbmdSdWxlcyB8fCB3YXNMb2FkaW5nRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlzTG9hZGluZ1J1bGVzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGxvYWRpbmdTdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgZ2V0UnVsZXNBc3luYygpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNMb2FkaW5nUnVsZXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZ0VuZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTG9hZGluZ1J1bGVzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdFbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB7cnVsZXM6IHJ1bGVzfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGZvcmNlUmVuZGVyU3R5bGUgPSBmYWxzZTtcclxuICAgICAgICBmdW5jdGlvbiByZW5kZXIodGhlbWUsIGlnbm9yZUltYWdlQW5hbHlzaXMpIHtcclxuICAgICAgICAgICAgdmFyIHJ1bGVzID0gZ2V0UnVsZXNTeW5jKCk7XHJcbiAgICAgICAgICAgIGlmICghcnVsZXMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYW5jZWxBc3luY09wZXJhdGlvbnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQ1NTUnVsZXNGcm9tU2hlZXQoc2hlZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghc2hlZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gc2hlZXQuY3NzUnVsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBzaGVldC5kZWxldGVSdWxlKGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBhcmVPdmVycmlkZXNTaGVldCgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghc3luY1N0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU3luY1N0eWxlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzeW5jU3R5bGVQb3NpdGlvbldhdGNoZXIgJiYgc3luY1N0eWxlUG9zaXRpb25XYXRjaGVyLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIGluc2VydFN0eWxlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3luY1N0eWxlLnNoZWV0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzeW5jU3R5bGUudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHNoZWV0ID0gc3luY1N0eWxlLnNoZWV0O1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ1NTUnVsZXNGcm9tU2hlZXQoc2hlZXQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN5bmNTdHlsZVBvc2l0aW9uV2F0Y2hlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN5bmNTdHlsZVBvc2l0aW9uV2F0Y2hlci5ydW4oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3luY1N0eWxlUG9zaXRpb25XYXRjaGVyID0gd2F0Y2hGb3JOb2RlUG9zaXRpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN5bmNTdHlsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwcmV2LXNpYmxpbmdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yY2VSZW5kZXJTdHlsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZE92ZXJyaWRlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzeW5jU3R5bGUuc2hlZXQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gYnVpbGRPdmVycmlkZXMoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm9yY2UgPSBmb3JjZVJlbmRlclN0eWxlO1xyXG4gICAgICAgICAgICAgICAgZm9yY2VSZW5kZXJTdHlsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc2hlZXRNb2RpZmllci5tb2RpZnlTaGVldCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJlcGFyZVNoZWV0OiBwcmVwYXJlT3ZlcnJpZGVzU2hlZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgc291cmNlQ1NTUnVsZXM6IHJ1bGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoZW1lOiB0aGVtZSxcclxuICAgICAgICAgICAgICAgICAgICBpZ25vcmVJbWFnZUFuYWx5c2lzOiBpZ25vcmVJbWFnZUFuYWx5c2lzLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvcmNlOiBmb3JjZSxcclxuICAgICAgICAgICAgICAgICAgICBpc0FzeW5jQ2FuY2VsbGVkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5jZWxBc3luY09wZXJhdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpc092ZXJyaWRlRW1wdHkgPSBzeW5jU3R5bGUuc2hlZXQuY3NzUnVsZXMubGVuZ3RoID09PSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoZWV0TW9kaWZpZXIuc2hvdWxkUmVidWlsZFN0eWxlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRSZWFkeVN0YXRlQ29tcGxldGVMaXN0ZW5lcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBidWlsZE92ZXJyaWRlcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRSdWxlc09yRXJyb3IoKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zaGVldCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBudWxsXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBbZWxlbWVudC5zaGVldC5jc3NSdWxlcywgbnVsbF07XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBlcnJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGlzU3RpbGxMb2FkaW5nRXJyb3IoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yICYmIGVycm9yLm1lc3NhZ2UgJiYgZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcImxvYWRpbmdcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHNhZmVHZXRTaGVldFJ1bGVzKCkge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoZ2V0UnVsZXNPckVycm9yKCksIDIpLFxyXG4gICAgICAgICAgICAgICAgY3NzUnVsZXMgPSBfYVswXSxcclxuICAgICAgICAgICAgICAgIGVyciA9IF9hWzFdO1xyXG4gICAgICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY3NzUnVsZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHdhdGNoRm9yU2hlZXRDaGFuZ2VzKCkge1xyXG4gICAgICAgICAgICB3YXRjaEZvclNoZWV0Q2hhbmdlc1VzaW5nUHJveHkoKTtcclxuICAgICAgICAgICAgaWYgKCEoY2FuT3B0aW1pemVVc2luZ1Byb3h5JDEgJiYgZWxlbWVudC5zaGVldCkpIHtcclxuICAgICAgICAgICAgICAgIHdhdGNoRm9yU2hlZXRDaGFuZ2VzVXNpbmdSQUYoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcnVsZXNDaGFuZ2VLZXkgPSBudWxsO1xyXG4gICAgICAgIHZhciBydWxlc0NoZWNrRnJhbWVJZCA9IG51bGw7XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UnVsZXNDaGFuZ2VLZXkoKSB7XHJcbiAgICAgICAgICAgIHZhciBydWxlcyA9IHNhZmVHZXRTaGVldFJ1bGVzKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBydWxlcyA/IHJ1bGVzLmxlbmd0aCA6IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGRpZFJ1bGVzS2V5Q2hhbmdlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0UnVsZXNDaGFuZ2VLZXkoKSAhPT0gcnVsZXNDaGFuZ2VLZXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHdhdGNoRm9yU2hlZXRDaGFuZ2VzVXNpbmdSQUYoKSB7XHJcbiAgICAgICAgICAgIHJ1bGVzQ2hhbmdlS2V5ID0gZ2V0UnVsZXNDaGFuZ2VLZXkoKTtcclxuICAgICAgICAgICAgc3RvcFdhdGNoaW5nRm9yU2hlZXRDaGFuZ2VzVXNpbmdSQUYoKTtcclxuICAgICAgICAgICAgdmFyIGNoZWNrRm9yVXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpZFJ1bGVzS2V5Q2hhbmdlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBydWxlc0NoYW5nZUtleSA9IGdldFJ1bGVzQ2hhbmdlS2V5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FuT3B0aW1pemVVc2luZ1Byb3h5JDEgJiYgZWxlbWVudC5zaGVldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0b3BXYXRjaGluZ0ZvclNoZWV0Q2hhbmdlc1VzaW5nUkFGKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcnVsZXNDaGVja0ZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2hlY2tGb3JVcGRhdGUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjaGVja0ZvclVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzdG9wV2F0Y2hpbmdGb3JTaGVldENoYW5nZXNVc2luZ1JBRigpIHtcclxuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocnVsZXNDaGVja0ZyYW1lSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYXJlU2hlZXRDaGFuZ2VzUGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIGZ1bmN0aW9uIG9uU2hlZXRDaGFuZ2UoKSB7XHJcbiAgICAgICAgICAgIGNhbk9wdGltaXplVXNpbmdQcm94eSQxID0gdHJ1ZTtcclxuICAgICAgICAgICAgc3RvcFdhdGNoaW5nRm9yU2hlZXRDaGFuZ2VzVXNpbmdSQUYoKTtcclxuICAgICAgICAgICAgaWYgKGFyZVNoZWV0Q2hhbmdlc1BlbmRpbmcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVTaGVldENoYW5nZXMoKSB7XHJcbiAgICAgICAgICAgICAgICBhcmVTaGVldENoYW5nZXNQZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FuY2VsQXN5bmNPcGVyYXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdXBkYXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXJlU2hlZXRDaGFuZ2VzUGVuZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcXVldWVNaWNyb3Rhc2sgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soaGFuZGxlU2hlZXRDaGFuZ2VzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShoYW5kbGVTaGVldENoYW5nZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHdhdGNoRm9yU2hlZXRDaGFuZ2VzVXNpbmdQcm94eSgpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICAgICAgXCJfX2RhcmtyZWFkZXJfX3VwZGF0ZVNoZWV0XCIsXHJcbiAgICAgICAgICAgICAgICBvblNoZWV0Q2hhbmdlLFxyXG4gICAgICAgICAgICAgICAge3Bhc3NpdmU6IHRydWV9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0b3BXYXRjaGluZ0ZvclNoZWV0Q2hhbmdlc1VzaW5nUHJveHkoKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgICAgIFwiX19kYXJrcmVhZGVyX191cGRhdGVTaGVldFwiLFxyXG4gICAgICAgICAgICAgICAgb25TaGVldENoYW5nZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzdG9wV2F0Y2hpbmdGb3JTaGVldENoYW5nZXMoKSB7XHJcbiAgICAgICAgICAgIHN0b3BXYXRjaGluZ0ZvclNoZWV0Q2hhbmdlc1VzaW5nUHJveHkoKTtcclxuICAgICAgICAgICAgc3RvcFdhdGNoaW5nRm9yU2hlZXRDaGFuZ2VzVXNpbmdSQUYoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcGF1c2UoKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgY2FuY2VsQXN5bmNPcGVyYXRpb25zID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29yc0NvcHlQb3NpdGlvbldhdGNoZXIgJiYgY29yc0NvcHlQb3NpdGlvbldhdGNoZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICBzeW5jU3R5bGVQb3NpdGlvbldhdGNoZXIgJiYgc3luY1N0eWxlUG9zaXRpb25XYXRjaGVyLnN0b3AoKTtcclxuICAgICAgICAgICAgc3RvcFdhdGNoaW5nRm9yU2hlZXRDaGFuZ2VzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgICAgIHBhdXNlKCk7XHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUoY29yc0NvcHkpO1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKHN5bmNTdHlsZSk7XHJcbiAgICAgICAgICAgIGxvYWRpbmdFbmQoKTtcclxuICAgICAgICAgICAgaWYgKHJlamVjdG9yc0ZvckxvYWRpbmdMaW5rcy5oYXMobG9hZGluZ0xpbmtJZCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZWplY3QgPSByZWplY3RvcnNGb3JMb2FkaW5nTGlua3MuZ2V0KGxvYWRpbmdMaW5rSWQpO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0b3JzRm9yTG9hZGluZ0xpbmtzLmRlbGV0ZShsb2FkaW5nTGlua0lkKTtcclxuICAgICAgICAgICAgICAgIHJlamVjdCAmJiByZWplY3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiB3YXRjaCgpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCBvYnNlcnZlck9wdGlvbnMpO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxTdHlsZUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHdhdGNoRm9yU2hlZXRDaGFuZ2VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1heE1vdmVDb3VudCA9IDEwO1xyXG4gICAgICAgIHZhciBtb3ZlQ291bnQgPSAwO1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlc3RvcmUoKSB7XHJcbiAgICAgICAgICAgIGlmICghc3luY1N0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbW92ZUNvdW50Kys7XHJcbiAgICAgICAgICAgIGlmIChtb3ZlQ291bnQgPiBtYXhNb3ZlQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbnNlcnRTdHlsZSgpO1xyXG4gICAgICAgICAgICBjb3JzQ29weVBvc2l0aW9uV2F0Y2hlciAmJiBjb3JzQ29weVBvc2l0aW9uV2F0Y2hlci5za2lwKCk7XHJcbiAgICAgICAgICAgIHN5bmNTdHlsZVBvc2l0aW9uV2F0Y2hlciAmJiBzeW5jU3R5bGVQb3NpdGlvbldhdGNoZXIuc2tpcCgpO1xyXG4gICAgICAgICAgICBpZiAoIWlzT3ZlcnJpZGVFbXB0eSkge1xyXG4gICAgICAgICAgICAgICAgZm9yY2VSZW5kZXJTdHlsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkZXRhaWxzOiBkZXRhaWxzLFxyXG4gICAgICAgICAgICByZW5kZXI6IHJlbmRlcixcclxuICAgICAgICAgICAgcGF1c2U6IHBhdXNlLFxyXG4gICAgICAgICAgICBkZXN0cm95OiBkZXN0cm95LFxyXG4gICAgICAgICAgICB3YXRjaDogd2F0Y2gsXHJcbiAgICAgICAgICAgIHJlc3RvcmU6IHJlc3RvcmVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gbGlua0xvYWRpbmcobGluaywgbG9hZGluZ0lkKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xlYW5VcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgb25Mb2FkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0b3JzRm9yTG9hZGluZ0xpbmtzLmRlbGV0ZShsb2FkaW5nSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb25Mb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW5VcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb25FcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuVXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkxpbmtlbGVtZW50IFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQobG9hZGluZ0lkLCBcIiBjb3VsZG4ndCBiZSBsb2FkZWQuIFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KGxpbmsuaHJlZilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdG9yc0ZvckxvYWRpbmdMaW5rcy5zZXQobG9hZGluZ0lkLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhblVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgb25Mb2FkLCB7cGFzc2l2ZTogdHJ1ZX0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBvbkVycm9yLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzaXZlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpbmsuaHJlZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FcnJvcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2V0Q1NTSW1wb3J0VVJMKGltcG9ydERlY2xhcmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldENTU1VSTFZhbHVlKFxyXG4gICAgICAgICAgICBpbXBvcnREZWNsYXJhdGlvblxyXG4gICAgICAgICAgICAgICAgLnN1YnN0cmluZyg3KVxyXG4gICAgICAgICAgICAgICAgLnRyaW0oKVxyXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLzskLywgXCJcIilcclxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9zY3JlZW4kLywgXCJcIilcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gbG9hZFRleHQodXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXVybC5zdGFydHNXaXRoKFwiZGF0YTpcIikpIHJldHVybiBbMywgM107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgZmV0Y2godXJsKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9hLnNlbnQoKS50ZXh0KCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCBfYS5zZW50KCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZ0ZldGNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiBcInRleHQvY3NzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyLCBfYS5zZW50KCldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlcGxhY2VDU1NJbXBvcnRzKGNzc1RleHQsIGJhc2VQYXRoLCBjYWNoZSkge1xyXG4gICAgICAgIGlmIChjYWNoZSA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgIGNhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbXBvcnRNYXRjaGVzLFxyXG4gICAgICAgICAgICAgICAgaW1wb3J0TWF0Y2hlc18xLFxyXG4gICAgICAgICAgICAgICAgaW1wb3J0TWF0Y2hlc18xXzEsXHJcbiAgICAgICAgICAgICAgICBtYXRjaCxcclxuICAgICAgICAgICAgICAgIGltcG9ydFVSTCxcclxuICAgICAgICAgICAgICAgIGFic29sdXRlVVJMLFxyXG4gICAgICAgICAgICAgICAgaW1wb3J0ZWRDU1MsXHJcbiAgICAgICAgICAgICAgICBlXzFfMTtcclxuICAgICAgICAgICAgdmFyIGVfMSwgX2E7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNzc1RleHQgPSByZW1vdmVDU1NDb21tZW50cyhjc3NUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IHJlcGxhY2VDU1NGb250RmFjZShjc3NUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IHJlcGxhY2VDU1NSZWxhdGl2ZVVSTHNXaXRoQWJzb2x1dGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NUZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFzZVBhdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0TWF0Y2hlcyA9IGdldE1hdGNoZXMoY3NzSW1wb3J0UmVnZXgsIGNzc1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDEwLCAxMSwgMTJdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGltcG9ydE1hdGNoZXNfMSA9IF9fdmFsdWVzKGltcG9ydE1hdGNoZXMpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpbXBvcnRNYXRjaGVzXzFfMSA9IGltcG9ydE1hdGNoZXNfMS5uZXh0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFpbXBvcnRNYXRjaGVzXzFfMS5kb25lKSByZXR1cm4gWzMsIDldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IGltcG9ydE1hdGNoZXNfMV8xLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRVUkwgPSBnZXRDU1NJbXBvcnRVUkwobWF0Y2gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhYnNvbHV0ZVVSTCA9IGdldEFic29sdXRlVVJMKGJhc2VQYXRoLCBpbXBvcnRVUkwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRlZENTUyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWNoZS5oYXMoYWJzb2x1dGVVUkwpKSByZXR1cm4gWzMsIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRlZENTUyA9IGNhY2hlLmdldChhYnNvbHV0ZVVSTCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgN107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzMsIDYsICwgN10pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIGxvYWRUZXh0KGFic29sdXRlVVJMKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRlZENTUyA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGUuc2V0KGFic29sdXRlVVJMLCBpbXBvcnRlZENTUyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZUNTU0ltcG9ydHMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0ZWRDU1MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Q1NTQmFzZUJhdGgoYWJzb2x1dGVVUkwpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRlZENTUyA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCA3XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0ZWRDU1MgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDddO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IGNzc1RleHQuc3BsaXQobWF0Y2gpLmpvaW4oaW1wb3J0ZWRDU1MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDg7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbXBvcnRNYXRjaGVzXzFfMSA9IGltcG9ydE1hdGNoZXNfMS5uZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDEyXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlXzFfMSA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZV8xID0ge2Vycm9yOiBlXzFfMX07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMywgMTJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1wb3J0TWF0Y2hlc18xXzEgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaW1wb3J0TWF0Y2hlc18xXzEuZG9uZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IGltcG9ydE1hdGNoZXNfMS5yZXR1cm4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EuY2FsbChpbXBvcnRNYXRjaGVzXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbN107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzVGV4dCA9IGNzc1RleHQudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIsIGNzc1RleHRdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNPUlNDb3B5KHNyY0VsZW1lbnQsIGNzc1RleHQpIHtcclxuICAgICAgICBpZiAoIWNzc1RleHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb3JzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG4gICAgICAgIGNvcnMuY2xhc3NMaXN0LmFkZChcImRhcmtyZWFkZXJcIik7XHJcbiAgICAgICAgY29ycy5jbGFzc0xpc3QuYWRkKFwiZGFya3JlYWRlci0tY29yc1wiKTtcclxuICAgICAgICBjb3JzLm1lZGlhID0gXCJzY3JlZW5cIjtcclxuICAgICAgICBjb3JzLnRleHRDb250ZW50ID0gY3NzVGV4dDtcclxuICAgICAgICBzcmNFbGVtZW50LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGNvcnMsIHNyY0VsZW1lbnQubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgIGNvcnMuc2hlZXQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIGNvcnNTdHlsZVNldC5hZGQoY29ycyk7XHJcbiAgICAgICAgcmV0dXJuIGNvcnM7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG9ic2VydmVycyA9IFtdO1xyXG4gICAgdmFyIG9ic2VydmVkUm9vdHM7XHJcbiAgICB2YXIgZGVmaW5lZEN1c3RvbUVsZW1lbnRzID0gbmV3IFNldCgpO1xyXG4gICAgdmFyIHVuZGVmaW5lZEdyb3VwcyA9IG5ldyBNYXAoKTtcclxuICAgIHZhciBlbGVtZW50c0RlZmluaXRpb25DYWxsYmFjaztcclxuICAgIGZ1bmN0aW9uIGlzQ3VzdG9tRWxlbWVudChlbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZS5pbmNsdWRlcyhcIi1cIikgfHwgZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJpc1wiKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVjb3JkVW5kZWZpbmVkRWxlbWVudChlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIHRhZyA9IGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmICghdGFnLmluY2x1ZGVzKFwiLVwiKSkge1xyXG4gICAgICAgICAgICB2YXIgZXh0ZW5kZWRUYWcgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImlzXCIpO1xyXG4gICAgICAgICAgICBpZiAoZXh0ZW5kZWRUYWcpIHtcclxuICAgICAgICAgICAgICAgIHRhZyA9IGV4dGVuZGVkVGFnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdW5kZWZpbmVkR3JvdXBzLmhhcyh0YWcpKSB7XHJcbiAgICAgICAgICAgIHVuZGVmaW5lZEdyb3Vwcy5zZXQodGFnLCBuZXcgU2V0KCkpO1xyXG4gICAgICAgICAgICBjdXN0b21FbGVtZW50c1doZW5EZWZpbmVkKHRhZykudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHNEZWZpbml0aW9uQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSB1bmRlZmluZWRHcm91cHMuZ2V0KHRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkR3JvdXBzLmRlbGV0ZSh0YWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzRGVmaW5pdGlvbkNhbGxiYWNrKEFycmF5LmZyb20oZWxlbWVudHMpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHVuZGVmaW5lZEdyb3Vwcy5nZXQodGFnKS5hZGQoZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjb2xsZWN0VW5kZWZpbmVkRWxlbWVudHMocm9vdCkge1xyXG4gICAgICAgIGlmICghaXNEZWZpbmVkU2VsZWN0b3JTdXBwb3J0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3JFYWNoKFxyXG4gICAgICAgICAgICByb290LnF1ZXJ5U2VsZWN0b3JBbGwoXCI6bm90KDpkZWZpbmVkKVwiKSxcclxuICAgICAgICAgICAgcmVjb3JkVW5kZWZpbmVkRWxlbWVudFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICB2YXIgY2FuT3B0aW1pemVVc2luZ1Byb3h5ID0gZmFsc2U7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgIFwiX19kYXJrcmVhZGVyX19pbmxpbmVTY3JpcHRzQWxsb3dlZFwiLFxyXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY2FuT3B0aW1pemVVc2luZ1Byb3h5ID0gdHJ1ZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHtvbmNlOiB0cnVlLCBwYXNzaXZlOiB0cnVlfVxyXG4gICAgKTtcclxuICAgIHZhciByZXNvbHZlcnMgPSBuZXcgTWFwKCk7XHJcbiAgICBmdW5jdGlvbiBoYW5kbGVJc0RlZmluZWQoZSkge1xyXG4gICAgICAgIGNhbk9wdGltaXplVXNpbmdQcm94eSA9IHRydWU7XHJcbiAgICAgICAgdmFyIHRhZyA9IGUuZGV0YWlsLnRhZztcclxuICAgICAgICBkZWZpbmVkQ3VzdG9tRWxlbWVudHMuYWRkKHRhZyk7XHJcbiAgICAgICAgaWYgKHJlc29sdmVycy5oYXModGFnKSkge1xyXG4gICAgICAgICAgICB2YXIgciA9IHJlc29sdmVycy5nZXQodGFnKTtcclxuICAgICAgICAgICAgcmVzb2x2ZXJzLmRlbGV0ZSh0YWcpO1xyXG4gICAgICAgICAgICByLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGN1c3RvbUVsZW1lbnRzV2hlbkRlZmluZWQodGFnKSB7XHJcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVmaW5lZEN1c3RvbUVsZW1lbnRzLmhhcyh0YWcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAgICAgMixcclxuICAgICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY3VzdG9tRWxlbWVudHMgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBjdXN0b21FbGVtZW50cy53aGVuRGVmaW5lZCA9PT0gXCJmdW5jdGlvblwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tRWxlbWVudHMud2hlbkRlZmluZWQodGFnKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FuT3B0aW1pemVVc2luZ1Byb3h5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZXJzLmhhcyh0YWcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZXJzLmdldCh0YWcpLnB1c2gocmVzb2x2ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVycy5zZXQodGFnLCBbcmVzb2x2ZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiX19kYXJrcmVhZGVyX19hZGRVbmRlZmluZWRSZXNvbHZlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGV0YWlsOiB7dGFnOiB0YWd9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hlY2tJZkRlZmluZWRfMSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSB1bmRlZmluZWRHcm91cHMuZ2V0KHRhZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzICYmIGVsZW1lbnRzLnNpemUgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnZhbHVlcygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm5leHQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC52YWx1ZS5tYXRjaGVzKFwiOmRlZmluZWRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2hlY2tJZkRlZmluZWRfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNoZWNrSWZEZWZpbmVkXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gd2F0Y2hXaGVuQ3VzdG9tRWxlbWVudHNEZWZpbmVkKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgZWxlbWVudHNEZWZpbml0aW9uQ2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHVuc3Vic2NyaWJlRnJvbURlZmluZUN1c3RvbUVsZW1lbnRzKCkge1xyXG4gICAgICAgIGVsZW1lbnRzRGVmaW5pdGlvbkNhbGxiYWNrID0gbnVsbDtcclxuICAgICAgICB1bmRlZmluZWRHcm91cHMuY2xlYXIoKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICBcIl9fZGFya3JlYWRlcl9faXNEZWZpbmVkXCIsXHJcbiAgICAgICAgICAgIGhhbmRsZUlzRGVmaW5lZFxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB3YXRjaEZvclN0eWxlQ2hhbmdlcyhjdXJyZW50U3R5bGVzLCB1cGRhdGUsIHNoYWRvd1Jvb3REaXNjb3ZlcmVkKSB7XHJcbiAgICAgICAgc3RvcFdhdGNoaW5nRm9yU3R5bGVDaGFuZ2VzKCk7XHJcbiAgICAgICAgdmFyIHByZXZTdHlsZXMgPSBuZXcgU2V0KGN1cnJlbnRTdHlsZXMpO1xyXG4gICAgICAgIHZhciBwcmV2U3R5bGVTaWJsaW5ncyA9IG5ldyBXZWFrTWFwKCk7XHJcbiAgICAgICAgdmFyIG5leHRTdHlsZVNpYmxpbmdzID0gbmV3IFdlYWtNYXAoKTtcclxuICAgICAgICBmdW5jdGlvbiBzYXZlU3R5bGVQb3NpdGlvbihzdHlsZSkge1xyXG4gICAgICAgICAgICBwcmV2U3R5bGVTaWJsaW5ncy5zZXQoc3R5bGUsIHN0eWxlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpO1xyXG4gICAgICAgICAgICBuZXh0U3R5bGVTaWJsaW5ncy5zZXQoc3R5bGUsIHN0eWxlLm5leHRFbGVtZW50U2libGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGZvcmdldFN0eWxlUG9zaXRpb24oc3R5bGUpIHtcclxuICAgICAgICAgICAgcHJldlN0eWxlU2libGluZ3MuZGVsZXRlKHN0eWxlKTtcclxuICAgICAgICAgICAgbmV4dFN0eWxlU2libGluZ3MuZGVsZXRlKHN0eWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZGlkU3R5bGVQb3NpdGlvbkNoYW5nZShzdHlsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgc3R5bGUucHJldmlvdXNFbGVtZW50U2libGluZyAhPT0gcHJldlN0eWxlU2libGluZ3MuZ2V0KHN0eWxlKSB8fFxyXG4gICAgICAgICAgICAgICAgc3R5bGUubmV4dEVsZW1lbnRTaWJsaW5nICE9PSBuZXh0U3R5bGVTaWJsaW5ncy5nZXQoc3R5bGUpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN1cnJlbnRTdHlsZXMuZm9yRWFjaChzYXZlU3R5bGVQb3NpdGlvbik7XHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlU3R5bGVPcGVyYXRpb25zKG9wZXJhdGlvbnMpIHtcclxuICAgICAgICAgICAgdmFyIGNyZWF0ZWRTdHlsZXMgPSBvcGVyYXRpb25zLmNyZWF0ZWRTdHlsZXMsXHJcbiAgICAgICAgICAgICAgICByZW1vdmVkU3R5bGVzID0gb3BlcmF0aW9ucy5yZW1vdmVkU3R5bGVzLFxyXG4gICAgICAgICAgICAgICAgbW92ZWRTdHlsZXMgPSBvcGVyYXRpb25zLm1vdmVkU3R5bGVzO1xyXG4gICAgICAgICAgICBjcmVhdGVkU3R5bGVzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzYXZlU3R5bGVQb3NpdGlvbihzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG1vdmVkU3R5bGVzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzYXZlU3R5bGVQb3NpdGlvbihzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlbW92ZWRTdHlsZXMuZm9yRWFjaChmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcmdldFN0eWxlUG9zaXRpb24ocyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjcmVhdGVkU3R5bGVzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2U3R5bGVzLmFkZChzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlbW92ZWRTdHlsZXMuZm9yRWFjaChmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXZTdHlsZXMuZGVsZXRlKHMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgY3JlYXRlZFN0eWxlcy5zaXplICsgcmVtb3ZlZFN0eWxlcy5zaXplICsgbW92ZWRTdHlsZXMuc2l6ZSA+XHJcbiAgICAgICAgICAgICAgICAwXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkOiBBcnJheS5mcm9tKGNyZWF0ZWRTdHlsZXMpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWQ6IEFycmF5LmZyb20ocmVtb3ZlZFN0eWxlcyksXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZWQ6IEFycmF5LmZyb20obW92ZWRTdHlsZXMpLFxyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWQ6IFtdXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVNaW5vclRyZWVNdXRhdGlvbnMoX2EpIHtcclxuICAgICAgICAgICAgdmFyIGFkZGl0aW9ucyA9IF9hLmFkZGl0aW9ucyxcclxuICAgICAgICAgICAgICAgIG1vdmVzID0gX2EubW92ZXMsXHJcbiAgICAgICAgICAgICAgICBkZWxldGlvbnMgPSBfYS5kZWxldGlvbnM7XHJcbiAgICAgICAgICAgIHZhciBjcmVhdGVkU3R5bGVzID0gbmV3IFNldCgpO1xyXG4gICAgICAgICAgICB2YXIgcmVtb3ZlZFN0eWxlcyA9IG5ldyBTZXQoKTtcclxuICAgICAgICAgICAgdmFyIG1vdmVkU3R5bGVzID0gbmV3IFNldCgpO1xyXG4gICAgICAgICAgICBhZGRpdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldE1hbmFnZWFibGVTdHlsZXMobm9kZSkuZm9yRWFjaChmdW5jdGlvbiAoc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlZFN0eWxlcy5hZGQoc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBkZWxldGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldE1hbmFnZWFibGVTdHlsZXMobm9kZSkuZm9yRWFjaChmdW5jdGlvbiAoc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlZFN0eWxlcy5hZGQoc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBtb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TWFuYWdlYWJsZVN0eWxlcyhub2RlKS5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtb3ZlZFN0eWxlcy5hZGQoc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBoYW5kbGVTdHlsZU9wZXJhdGlvbnMoe1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlZFN0eWxlczogY3JlYXRlZFN0eWxlcyxcclxuICAgICAgICAgICAgICAgIHJlbW92ZWRTdHlsZXM6IHJlbW92ZWRTdHlsZXMsXHJcbiAgICAgICAgICAgICAgICBtb3ZlZFN0eWxlczogbW92ZWRTdHlsZXNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGFkZGl0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgICAgICAgICAgICBleHRlbmRlZEl0ZXJhdGVTaGFkb3dIb3N0cyhuKTtcclxuICAgICAgICAgICAgICAgIGNvbGxlY3RVbmRlZmluZWRFbGVtZW50cyhuKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGFkZGl0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNDdXN0b21FbGVtZW50KG5vZGUpICYmIHJlY29yZFVuZGVmaW5lZEVsZW1lbnQobm9kZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVIdWdlVHJlZU11dGF0aW9ucyhyb290KSB7XHJcbiAgICAgICAgICAgIHZhciBzdHlsZXMgPSBuZXcgU2V0KGdldE1hbmFnZWFibGVTdHlsZXMocm9vdCkpO1xyXG4gICAgICAgICAgICB2YXIgY3JlYXRlZFN0eWxlcyA9IG5ldyBTZXQoKTtcclxuICAgICAgICAgICAgdmFyIHJlbW92ZWRTdHlsZXMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgICAgIHZhciBtb3ZlZFN0eWxlcyA9IG5ldyBTZXQoKTtcclxuICAgICAgICAgICAgc3R5bGVzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcHJldlN0eWxlcy5oYXMocykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkU3R5bGVzLmFkZChzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHByZXZTdHlsZXMuZm9yRWFjaChmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzdHlsZXMuaGFzKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZFN0eWxlcy5hZGQocyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzdHlsZXMuZm9yRWFjaChmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICFjcmVhdGVkU3R5bGVzLmhhcyhzKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFyZW1vdmVkU3R5bGVzLmhhcyhzKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGRpZFN0eWxlUG9zaXRpb25DaGFuZ2UocylcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVkU3R5bGVzLmFkZChzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGhhbmRsZVN0eWxlT3BlcmF0aW9ucyh7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVkU3R5bGVzOiBjcmVhdGVkU3R5bGVzLFxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlZFN0eWxlczogcmVtb3ZlZFN0eWxlcyxcclxuICAgICAgICAgICAgICAgIG1vdmVkU3R5bGVzOiBtb3ZlZFN0eWxlc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZXh0ZW5kZWRJdGVyYXRlU2hhZG93SG9zdHMocm9vdCk7XHJcbiAgICAgICAgICAgIGNvbGxlY3RVbmRlZmluZWRFbGVtZW50cyhyb290KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlQXR0cmlidXRlTXV0YXRpb25zKG11dGF0aW9ucykge1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlZFN0eWxlcyA9IG5ldyBTZXQoKTtcclxuICAgICAgICAgICAgdmFyIHJlbW92ZWRTdHlsZXMgPSBuZXcgU2V0KCk7XHJcbiAgICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gbS50YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmlzQ29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNob3VsZE1hbmFnZVN0eWxlKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFN0eWxlcy5hZGQodGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgaW5zdGFuY2VvZiBIVE1MTGlua0VsZW1lbnQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWRTdHlsZXMuYWRkKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHVwZGF0ZWRTdHlsZXMuc2l6ZSArIHJlbW92ZWRTdHlsZXMuc2l6ZSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZDogQXJyYXkuZnJvbSh1cGRhdGVkU3R5bGVzKSxcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVkOiBBcnJheS5mcm9tKHJlbW92ZWRTdHlsZXMpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vdmVkOiBbXVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gb2JzZXJ2ZShyb290KSB7XHJcbiAgICAgICAgICAgIGlmIChvYnNlcnZlZFJvb3RzLmhhcyhyb290KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB0cmVlT2JzZXJ2ZXIgPSBjcmVhdGVPcHRpbWl6ZWRUcmVlT2JzZXJ2ZXIocm9vdCwge1xyXG4gICAgICAgICAgICAgICAgb25NaW5vck11dGF0aW9uczogaGFuZGxlTWlub3JUcmVlTXV0YXRpb25zLFxyXG4gICAgICAgICAgICAgICAgb25IdWdlTXV0YXRpb25zOiBoYW5kbGVIdWdlVHJlZU11dGF0aW9uc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIGF0dHJPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGhhbmRsZUF0dHJpYnV0ZU11dGF0aW9ucyk7XHJcbiAgICAgICAgICAgIGF0dHJPYnNlcnZlci5vYnNlcnZlKHJvb3QsIHtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZUZpbHRlcjogW1wicmVsXCIsIFwiZGlzYWJsZWRcIiwgXCJtZWRpYVwiLCBcImhyZWZcIl0sXHJcbiAgICAgICAgICAgICAgICBzdWJ0cmVlOiB0cnVlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvYnNlcnZlcnMucHVzaCh0cmVlT2JzZXJ2ZXIsIGF0dHJPYnNlcnZlcik7XHJcbiAgICAgICAgICAgIG9ic2VydmVkUm9vdHMuYWRkKHJvb3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzdWJzY3JpYmVGb3JTaGFkb3dSb290Q2hhbmdlcyhub2RlKSB7XHJcbiAgICAgICAgICAgIHZhciBzaGFkb3dSb290ID0gbm9kZS5zaGFkb3dSb290O1xyXG4gICAgICAgICAgICBpZiAoc2hhZG93Um9vdCA9PSBudWxsIHx8IG9ic2VydmVkUm9vdHMuaGFzKHNoYWRvd1Jvb3QpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb2JzZXJ2ZShzaGFkb3dSb290KTtcclxuICAgICAgICAgICAgc2hhZG93Um9vdERpc2NvdmVyZWQoc2hhZG93Um9vdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGV4dGVuZGVkSXRlcmF0ZVNoYWRvd0hvc3RzKG5vZGUpIHtcclxuICAgICAgICAgICAgaXRlcmF0ZVNoYWRvd0hvc3RzKG5vZGUsIHN1YnNjcmliZUZvclNoYWRvd1Jvb3RDaGFuZ2VzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgb2JzZXJ2ZShkb2N1bWVudCk7XHJcbiAgICAgICAgZXh0ZW5kZWRJdGVyYXRlU2hhZG93SG9zdHMoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcclxuICAgICAgICB3YXRjaFdoZW5DdXN0b21FbGVtZW50c0RlZmluZWQoZnVuY3Rpb24gKGhvc3RzKSB7XHJcbiAgICAgICAgICAgIHZhciBuZXdTdHlsZXMgPSBbXTtcclxuICAgICAgICAgICAgaG9zdHMuZm9yRWFjaChmdW5jdGlvbiAoaG9zdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHB1c2gobmV3U3R5bGVzLCBnZXRNYW5hZ2VhYmxlU3R5bGVzKGhvc3Quc2hhZG93Um9vdCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdXBkYXRlKHtjcmVhdGVkOiBuZXdTdHlsZXMsIHVwZGF0ZWQ6IFtdLCByZW1vdmVkOiBbXSwgbW92ZWQ6IFtdfSk7XHJcbiAgICAgICAgICAgIGhvc3RzLmZvckVhY2goZnVuY3Rpb24gKGhvc3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzaGFkb3dSb290ID0gaG9zdC5zaGFkb3dSb290O1xyXG4gICAgICAgICAgICAgICAgaWYgKHNoYWRvd1Jvb3QgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN1YnNjcmliZUZvclNoYWRvd1Jvb3RDaGFuZ2VzKGhvc3QpO1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5kZWRJdGVyYXRlU2hhZG93SG9zdHMoc2hhZG93Um9vdCk7XHJcbiAgICAgICAgICAgICAgICBjb2xsZWN0VW5kZWZpbmVkRWxlbWVudHMoc2hhZG93Um9vdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJfX2RhcmtyZWFkZXJfX2lzRGVmaW5lZFwiLCBoYW5kbGVJc0RlZmluZWQsIHtcclxuICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbGxlY3RVbmRlZmluZWRFbGVtZW50cyhkb2N1bWVudCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXNldE9ic2VydmVycygpIHtcclxuICAgICAgICBvYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiAobykge1xyXG4gICAgICAgICAgICByZXR1cm4gby5kaXNjb25uZWN0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgb2JzZXJ2ZXJzLnNwbGljZSgwLCBvYnNlcnZlcnMubGVuZ3RoKTtcclxuICAgICAgICBvYnNlcnZlZFJvb3RzID0gbmV3IFdlYWtTZXQoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHN0b3BXYXRjaGluZ0ZvclN0eWxlQ2hhbmdlcygpIHtcclxuICAgICAgICByZXNldE9ic2VydmVycygpO1xyXG4gICAgICAgIHVuc3Vic2NyaWJlRnJvbURlZmluZUN1c3RvbUVsZW1lbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGFkb3B0ZWRTdHlsZU92ZXJyaWRlcyA9IG5ldyBXZWFrTWFwKCk7XHJcbiAgICB2YXIgb3ZlcnJpZGVMaXN0ID0gbmV3IFdlYWtTZXQoKTtcclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUFkb3B0ZWRTdHlsZVNoZWV0T3ZlcnJpZGUobm9kZSkge1xyXG4gICAgICAgIHZhciBjYW5jZWxBc3luY09wZXJhdGlvbnMgPSBmYWxzZTtcclxuICAgICAgICBmdW5jdGlvbiBpbmplY3RTaGVldChzaGVldCwgb3ZlcnJpZGUpIHtcclxuICAgICAgICAgICAgdmFyIG5ld1NoZWV0cyA9IF9fc3ByZWFkQXJyYXkoXHJcbiAgICAgICAgICAgICAgICBbXSxcclxuICAgICAgICAgICAgICAgIF9fcmVhZChub2RlLmFkb3B0ZWRTdHlsZVNoZWV0cyksXHJcbiAgICAgICAgICAgICAgICBmYWxzZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB2YXIgc2hlZXRJbmRleCA9IG5ld1NoZWV0cy5pbmRleE9mKHNoZWV0KTtcclxuICAgICAgICAgICAgdmFyIGV4aXN0aW5nSW5kZXggPSBuZXdTaGVldHMuaW5kZXhPZihvdmVycmlkZSk7XHJcbiAgICAgICAgICAgIGlmIChzaGVldEluZGV4ID09PSBleGlzdGluZ0luZGV4IC0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0luZGV4ID49IDApIHtcclxuICAgICAgICAgICAgICAgIG5ld1NoZWV0cy5zcGxpY2UoZXhpc3RpbmdJbmRleCwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbmV3U2hlZXRzLnNwbGljZShzaGVldEluZGV4ICsgMSwgMCwgb3ZlcnJpZGUpO1xyXG4gICAgICAgICAgICBub2RlLmFkb3B0ZWRTdHlsZVNoZWV0cyA9IG5ld1NoZWV0cztcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgICAgICAgY2FuY2VsQXN5bmNPcGVyYXRpb25zID0gdHJ1ZTtcclxuICAgICAgICAgICAgdmFyIG5ld1NoZWV0cyA9IF9fc3ByZWFkQXJyYXkoXHJcbiAgICAgICAgICAgICAgICBbXSxcclxuICAgICAgICAgICAgICAgIF9fcmVhZChub2RlLmFkb3B0ZWRTdHlsZVNoZWV0cyksXHJcbiAgICAgICAgICAgICAgICBmYWxzZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBub2RlLmFkb3B0ZWRTdHlsZVNoZWV0cy5mb3JFYWNoKGZ1bmN0aW9uIChhZG9wdGVkU3R5bGVTaGVldCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG92ZXJyaWRlTGlzdC5oYXMoYWRvcHRlZFN0eWxlU2hlZXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4aXN0aW5nSW5kZXggPSBuZXdTaGVldHMuaW5kZXhPZihhZG9wdGVkU3R5bGVTaGVldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nSW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTaGVldHMuc3BsaWNlKGV4aXN0aW5nSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBhZG9wdGVkU3R5bGVPdmVycmlkZXMuZGVsZXRlKGFkb3B0ZWRTdHlsZVNoZWV0KTtcclxuICAgICAgICAgICAgICAgICAgICBvdmVycmlkZUxpc3QuZGVsZXRlKGFkb3B0ZWRTdHlsZVNoZWV0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIG5vZGUuYWRvcHRlZFN0eWxlU2hlZXRzID0gbmV3U2hlZXRzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiByZW5kZXIodGhlbWUsIGlnbm9yZUltYWdlQW5hbHlzaXMpIHtcclxuICAgICAgICAgICAgbm9kZS5hZG9wdGVkU3R5bGVTaGVldHMuZm9yRWFjaChmdW5jdGlvbiAoc2hlZXQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvdmVycmlkZUxpc3QuaGFzKHNoZWV0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBydWxlcyA9IHNoZWV0LnJ1bGVzO1xyXG4gICAgICAgICAgICAgICAgdmFyIG92ZXJyaWRlID0gbmV3IENTU1N0eWxlU2hlZXQoKTtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBhcmVPdmVycmlkZXNTaGVldCgpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gb3ZlcnJpZGUuY3NzUnVsZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGUuZGVsZXRlUnVsZShpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0U2hlZXQoc2hlZXQsIG92ZXJyaWRlKTtcclxuICAgICAgICAgICAgICAgICAgICBhZG9wdGVkU3R5bGVPdmVycmlkZXMuc2V0KHNoZWV0LCBvdmVycmlkZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVMaXN0LmFkZChvdmVycmlkZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG92ZXJyaWRlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHNoZWV0TW9kaWZpZXIgPSBjcmVhdGVTdHlsZVNoZWV0TW9kaWZpZXIoKTtcclxuICAgICAgICAgICAgICAgIHNoZWV0TW9kaWZpZXIubW9kaWZ5U2hlZXQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXBhcmVTaGVldDogcHJlcGFyZU92ZXJyaWRlc1NoZWV0LFxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUNTU1J1bGVzOiBydWxlcyxcclxuICAgICAgICAgICAgICAgICAgICB0aGVtZTogdGhlbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgaWdub3JlSW1hZ2VBbmFseXNpczogaWdub3JlSW1hZ2VBbmFseXNpcyxcclxuICAgICAgICAgICAgICAgICAgICBmb3JjZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNBc3luY0NhbmNlbGxlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FuY2VsQXN5bmNPcGVyYXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVuZGVyOiByZW5kZXIsXHJcbiAgICAgICAgICAgIGRlc3Ryb3k6IGRlc3Ryb3lcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluamVjdFByb3h5KFxyXG4gICAgICAgIGVuYWJsZVN0eWxlU2hlZXRzUHJveHksXHJcbiAgICAgICAgZW5hYmxlQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5UHJveHlcclxuICAgICkge1xyXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXHJcbiAgICAgICAgICAgIG5ldyBDdXN0b21FdmVudChcIl9fZGFya3JlYWRlcl9faW5saW5lU2NyaXB0c0FsbG93ZWRcIilcclxuICAgICAgICApO1xyXG4gICAgICAgIHZhciBhZGRSdWxlRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXHJcbiAgICAgICAgICAgIENTU1N0eWxlU2hlZXQucHJvdG90eXBlLFxyXG4gICAgICAgICAgICBcImFkZFJ1bGVcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdmFyIGluc2VydFJ1bGVEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcclxuICAgICAgICAgICAgQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUsXHJcbiAgICAgICAgICAgIFwiaW5zZXJ0UnVsZVwiXHJcbiAgICAgICAgKTtcclxuICAgICAgICB2YXIgZGVsZXRlUnVsZURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxyXG4gICAgICAgICAgICBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZSxcclxuICAgICAgICAgICAgXCJkZWxldGVSdWxlXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHZhciByZW1vdmVSdWxlRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXHJcbiAgICAgICAgICAgIENTU1N0eWxlU2hlZXQucHJvdG90eXBlLFxyXG4gICAgICAgICAgICBcInJlbW92ZVJ1bGVcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdmFyIGRvY3VtZW50U3R5bGVTaGVldHNEZXNjcmlwdG9yID0gZW5hYmxlU3R5bGVTaGVldHNQcm94eVxyXG4gICAgICAgICAgICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRG9jdW1lbnQucHJvdG90eXBlLCBcInN0eWxlU2hlZXRzXCIpXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICB2YXIgY3VzdG9tRWxlbWVudFJlZ2lzdHJ5RGVmaW5lRGVzY3JpcHRvciA9XHJcbiAgICAgICAgICAgIGVuYWJsZUN1c3RvbUVsZW1lbnRSZWdpc3RyeVByb3h5XHJcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXHJcbiAgICAgICAgICAgICAgICAgICAgICBDdXN0b21FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgXCJkZWZpbmVcIlxyXG4gICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICA6IG51bGw7XHJcbiAgICAgICAgdmFyIHNob3VsZFdyYXBIVE1MRWxlbWVudCA9IFtcclxuICAgICAgICAgICAgXCJiYWlkdS5jb21cIixcclxuICAgICAgICAgICAgXCJiYWlrZS5iYWlkdS5jb21cIixcclxuICAgICAgICAgICAgXCJkaXR1LmJhaWR1LmNvbVwiLFxyXG4gICAgICAgICAgICBcIm1hcC5iYWlkdS5jb21cIixcclxuICAgICAgICAgICAgXCJtYXBzLmJhaWR1LmNvbVwiLFxyXG4gICAgICAgICAgICBcImhhb2thbi5iYWlkdS5jb21cIixcclxuICAgICAgICAgICAgXCJwYW4uYmFpZHUuY29tXCIsXHJcbiAgICAgICAgICAgIFwicGFzc3BvcnQuYmFpZHUuY29tXCIsXHJcbiAgICAgICAgICAgIFwidGllYmEuYmFpZHUuY29tXCIsXHJcbiAgICAgICAgICAgIFwid3d3LmJhaWR1LmNvbVwiXHJcbiAgICAgICAgXS5pbmNsdWRlcyhsb2NhdGlvbi5ob3N0bmFtZSk7XHJcbiAgICAgICAgdmFyIGdldEVsZW1lbnRzQnlUYWdOYW1lRGVzY3JpcHRvciA9IHNob3VsZFdyYXBIVE1MRWxlbWVudFxyXG4gICAgICAgICAgICA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXHJcbiAgICAgICAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLFxyXG4gICAgICAgICAgICAgICAgICBcImdldEVsZW1lbnRzQnlUYWdOYW1lXCJcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICB2YXIgc2hvdWxkUHJveHlDaGlsZE5vZGVzID0gbG9jYXRpb24uaG9zdG5hbWUgPT09IFwid3d3LnZ5Lm5vXCI7XHJcbiAgICAgICAgdmFyIGNoaWxkTm9kZXNEZXNjcmlwdG9yID0gc2hvdWxkUHJveHlDaGlsZE5vZGVzXHJcbiAgICAgICAgICAgID8gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihOb2RlLnByb3RvdHlwZSwgXCJjaGlsZE5vZGVzXCIpXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICB2YXIgY2xlYW5VcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxyXG4gICAgICAgICAgICAgICAgQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUsXHJcbiAgICAgICAgICAgICAgICBcImFkZFJ1bGVcIixcclxuICAgICAgICAgICAgICAgIGFkZFJ1bGVEZXNjcmlwdG9yXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcclxuICAgICAgICAgICAgICAgIENTU1N0eWxlU2hlZXQucHJvdG90eXBlLFxyXG4gICAgICAgICAgICAgICAgXCJpbnNlcnRSdWxlXCIsXHJcbiAgICAgICAgICAgICAgICBpbnNlcnRSdWxlRGVzY3JpcHRvclxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXHJcbiAgICAgICAgICAgICAgICBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZSxcclxuICAgICAgICAgICAgICAgIFwiZGVsZXRlUnVsZVwiLFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlUnVsZURlc2NyaXB0b3JcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxyXG4gICAgICAgICAgICAgICAgQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUsXHJcbiAgICAgICAgICAgICAgICBcInJlbW92ZVJ1bGVcIixcclxuICAgICAgICAgICAgICAgIHJlbW92ZVJ1bGVEZXNjcmlwdG9yXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJfX2RhcmtyZWFkZXJfX2NsZWFuVXBcIiwgY2xlYW5VcCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICAgICAgICBcIl9fZGFya3JlYWRlcl9fYWRkVW5kZWZpbmVkUmVzb2x2ZXJcIixcclxuICAgICAgICAgICAgICAgIGFkZFVuZGVmaW5lZFJlc29sdmVyXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmIChlbmFibGVTdHlsZVNoZWV0c1Byb3h5KSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXHJcbiAgICAgICAgICAgICAgICAgICAgRG9jdW1lbnQucHJvdG90eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIFwic3R5bGVTaGVldHNcIixcclxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudFN0eWxlU2hlZXRzRGVzY3JpcHRvclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZW5hYmxlQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5UHJveHkpIHtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcclxuICAgICAgICAgICAgICAgICAgICBDdXN0b21FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiZGVmaW5lXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY3VzdG9tRWxlbWVudFJlZ2lzdHJ5RGVmaW5lRGVzY3JpcHRvclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2hvdWxkV3JhcEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXHJcbiAgICAgICAgICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJnZXRFbGVtZW50c0J5VGFnTmFtZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGdldEVsZW1lbnRzQnlUYWdOYW1lRGVzY3JpcHRvclxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2hvdWxkUHJveHlDaGlsZE5vZGVzKSB7XHJcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXHJcbiAgICAgICAgICAgICAgICAgICAgTm9kZS5wcm90b3R5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJjaGlsZE5vZGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2hpbGROb2Rlc0Rlc2NyaXB0b3JcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBhZGRVbmRlZmluZWRSZXNvbHZlcklubmVyID0gZnVuY3Rpb24gKHRhZykge1xyXG4gICAgICAgICAgICBjdXN0b21FbGVtZW50cy53aGVuRGVmaW5lZCh0YWcpLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChcclxuICAgICAgICAgICAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoXCJfX2RhcmtyZWFkZXJfX2lzRGVmaW5lZFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDoge3RhZzogdGFnfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciBhZGRVbmRlZmluZWRSZXNvbHZlciA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhZGRVbmRlZmluZWRSZXNvbHZlcklubmVyKGUuZGV0YWlsLnRhZyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiX19kYXJrcmVhZGVyX19jbGVhblVwXCIsIGNsZWFuVXAsIHtcclxuICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICAgIFwiX19kYXJrcmVhZGVyX19hZGRVbmRlZmluZWRSZXNvbHZlclwiLFxyXG4gICAgICAgICAgICBhZGRVbmRlZmluZWRSZXNvbHZlcixcclxuICAgICAgICAgICAge3Bhc3NpdmU6IHRydWV9XHJcbiAgICAgICAgKTtcclxuICAgICAgICB2YXIgdXBkYXRlU2hlZXRFdmVudCA9IG5ldyBFdmVudChcIl9fZGFya3JlYWRlcl9fdXBkYXRlU2hlZXRcIik7XHJcbiAgICAgICAgZnVuY3Rpb24gcHJveHlBZGRSdWxlKHNlbGVjdG9yLCBzdHlsZSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgYWRkUnVsZURlc2NyaXB0b3IudmFsdWUuY2FsbCh0aGlzLCBzZWxlY3Rvciwgc3R5bGUsIGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5vd25lck5vZGUgJiZcclxuICAgICAgICAgICAgICAgICEoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vd25lck5vZGUuY2xhc3NMaXN0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vd25lck5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGFya3JlYWRlclwiKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3duZXJOb2RlLmRpc3BhdGNoRXZlbnQodXBkYXRlU2hlZXRFdmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwcm94eUluc2VydFJ1bGUocnVsZSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gaW5zZXJ0UnVsZURlc2NyaXB0b3IudmFsdWUuY2FsbChcclxuICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICBydWxlLFxyXG4gICAgICAgICAgICAgICAgaW5kZXhcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5vd25lck5vZGUgJiZcclxuICAgICAgICAgICAgICAgICEoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vd25lck5vZGUuY2xhc3NMaXN0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vd25lck5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGFya3JlYWRlclwiKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3duZXJOb2RlLmRpc3BhdGNoRXZlbnQodXBkYXRlU2hlZXRFdmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwcm94eURlbGV0ZVJ1bGUoaW5kZXgpIHtcclxuICAgICAgICAgICAgZGVsZXRlUnVsZURlc2NyaXB0b3IudmFsdWUuY2FsbCh0aGlzLCBpbmRleCk7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMub3duZXJOb2RlICYmXHJcbiAgICAgICAgICAgICAgICAhKFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3duZXJOb2RlLmNsYXNzTGlzdCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3duZXJOb2RlLmNsYXNzTGlzdC5jb250YWlucyhcImRhcmtyZWFkZXJcIilcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm93bmVyTm9kZS5kaXNwYXRjaEV2ZW50KHVwZGF0ZVNoZWV0RXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHByb3h5UmVtb3ZlUnVsZShpbmRleCkge1xyXG4gICAgICAgICAgICByZW1vdmVSdWxlRGVzY3JpcHRvci52YWx1ZS5jYWxsKHRoaXMsIGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5vd25lck5vZGUgJiZcclxuICAgICAgICAgICAgICAgICEoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vd25lck5vZGUuY2xhc3NMaXN0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vd25lck5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGFya3JlYWRlclwiKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMub3duZXJOb2RlLmRpc3BhdGNoRXZlbnQodXBkYXRlU2hlZXRFdmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcHJveHlEb2N1bWVudFN0eWxlU2hlZXRzKCkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgZ2V0Q3VycmVudFZhbHVlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRvY1NoZWV0cyA9IGRvY3VtZW50U3R5bGVTaGVldHNEZXNjcmlwdG9yLmdldC5jYWxsKF90aGlzKTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZFNoZWV0cyA9IF9fc3ByZWFkQXJyYXkoXHJcbiAgICAgICAgICAgICAgICAgICAgW10sXHJcbiAgICAgICAgICAgICAgICAgICAgX19yZWFkKGRvY1NoZWV0cyksXHJcbiAgICAgICAgICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICAgICAgICAgICkuZmlsdGVyKGZ1bmN0aW9uIChzdHlsZVNoZWV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVTaGVldC5vd25lck5vZGUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgIShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlU2hlZXQub3duZXJOb2RlLmNsYXNzTGlzdCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVTaGVldC5vd25lck5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGFya3JlYWRlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFNoZWV0cy5pdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyZWRTaGVldHNbaXRlbV07XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFNoZWV0cyxcclxuICAgICAgICAgICAgICAgICAgICBTdHlsZVNoZWV0TGlzdC5wcm90b3R5cGVcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IGdldEN1cnJlbnRWYWx1ZSgpO1xyXG4gICAgICAgICAgICB2YXIgc3R5bGVTaGVldExpc3RCZWhhdmlvciA9IHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKF8sIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEN1cnJlbnRWYWx1ZSgpW3Byb3BlcnR5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZWxlbWVudHMgPSBuZXcgUHJveHkoZWxlbWVudHMsIHN0eWxlU2hlZXRMaXN0QmVoYXZpb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHByb3h5Q3VzdG9tRWxlbWVudFJlZ2lzdHJ5RGVmaW5lKG5hbWUsIGNvbnN0cnVjdG9yLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGFkZFVuZGVmaW5lZFJlc29sdmVySW5uZXIobmFtZSk7XHJcbiAgICAgICAgICAgIGN1c3RvbUVsZW1lbnRSZWdpc3RyeURlZmluZURlc2NyaXB0b3IudmFsdWUuY2FsbChcclxuICAgICAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgY29uc3RydWN0b3IsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHByb3h5R2V0RWxlbWVudHNCeVRhZ05hbWUodGFnTmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAodGFnTmFtZSAhPT0gXCJzdHlsZVwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RWxlbWVudHNCeVRhZ05hbWVEZXNjcmlwdG9yLnZhbHVlLmNhbGwodGhpcywgdGFnTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGdldEN1cnJlbnRFbGVtZW50VmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBnZXRFbGVtZW50c0J5VGFnTmFtZURlc2NyaXB0b3IudmFsdWUuY2FsbChcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICB0YWdOYW1lXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihcclxuICAgICAgICAgICAgICAgICAgICBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoZWxlbWVudHMpLCBmYWxzZSkuZmlsdGVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJkYXJrcmVhZGVyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICAgICAgTm9kZUxpc3QucHJvdG90eXBlXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgZWxlbWVudHMgPSBnZXRDdXJyZW50RWxlbWVudFZhbHVlKCk7XHJcbiAgICAgICAgICAgIHZhciBub2RlTGlzdEJlaGF2aW9yID0ge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoXywgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q3VycmVudEVsZW1lbnRWYWx1ZSgpW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXIocHJvcGVydHkpIHx8IHByb3BlcnR5XHJcbiAgICAgICAgICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZWxlbWVudHMgPSBuZXcgUHJveHkoZWxlbWVudHMsIG5vZGVMaXN0QmVoYXZpb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHByb3h5Q2hpbGROb2RlcygpIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkTm9kZXMgPSBjaGlsZE5vZGVzRGVzY3JpcHRvci5nZXQuY2FsbCh0aGlzKTtcclxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5zZXRQcm90b3R5cGVPZihcclxuICAgICAgICAgICAgICAgIF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChjaGlsZE5vZGVzKSwgZmFsc2UpLmZpbHRlcihcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWVsZW1lbnQuY2xhc3NMaXN0IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJkYXJrcmVhZGVyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIE5vZGVMaXN0LnByb3RvdHlwZVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXHJcbiAgICAgICAgICAgIENTU1N0eWxlU2hlZXQucHJvdG90eXBlLFxyXG4gICAgICAgICAgICBcImFkZFJ1bGVcIixcclxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgYWRkUnVsZURlc2NyaXB0b3IsIHt2YWx1ZTogcHJveHlBZGRSdWxlfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcclxuICAgICAgICAgICAgQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUsXHJcbiAgICAgICAgICAgIFwiaW5zZXJ0UnVsZVwiLFxyXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBpbnNlcnRSdWxlRGVzY3JpcHRvciwge3ZhbHVlOiBwcm94eUluc2VydFJ1bGV9KVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxyXG4gICAgICAgICAgICBDU1NTdHlsZVNoZWV0LnByb3RvdHlwZSxcclxuICAgICAgICAgICAgXCJkZWxldGVSdWxlXCIsXHJcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGRlbGV0ZVJ1bGVEZXNjcmlwdG9yLCB7dmFsdWU6IHByb3h5RGVsZXRlUnVsZX0pXHJcbiAgICAgICAgKTtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXHJcbiAgICAgICAgICAgIENTU1N0eWxlU2hlZXQucHJvdG90eXBlLFxyXG4gICAgICAgICAgICBcInJlbW92ZVJ1bGVcIixcclxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgcmVtb3ZlUnVsZURlc2NyaXB0b3IsIHt2YWx1ZTogcHJveHlSZW1vdmVSdWxlfSlcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmIChlbmFibGVTdHlsZVNoZWV0c1Byb3h5KSB7XHJcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcclxuICAgICAgICAgICAgICAgIERvY3VtZW50LnByb3RvdHlwZSxcclxuICAgICAgICAgICAgICAgIFwic3R5bGVTaGVldHNcIixcclxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGRvY3VtZW50U3R5bGVTaGVldHNEZXNjcmlwdG9yLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBwcm94eURvY3VtZW50U3R5bGVTaGVldHNcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbmFibGVDdXN0b21FbGVtZW50UmVnaXN0cnlQcm94eSkge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXHJcbiAgICAgICAgICAgICAgICBDdXN0b21FbGVtZW50UmVnaXN0cnkucHJvdG90eXBlLFxyXG4gICAgICAgICAgICAgICAgXCJkZWZpbmVcIixcclxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oe30sIGN1c3RvbUVsZW1lbnRSZWdpc3RyeURlZmluZURlc2NyaXB0b3IsIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcHJveHlDdXN0b21FbGVtZW50UmVnaXN0cnlEZWZpbmVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzaG91bGRXcmFwSFRNTEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxyXG4gICAgICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUsXHJcbiAgICAgICAgICAgICAgICBcImdldEVsZW1lbnRzQnlUYWdOYW1lXCIsXHJcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHt9LCBnZXRFbGVtZW50c0J5VGFnTmFtZURlc2NyaXB0b3IsIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcHJveHlHZXRFbGVtZW50c0J5VGFnTmFtZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNob3VsZFByb3h5Q2hpbGROb2Rlcykge1xyXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXHJcbiAgICAgICAgICAgICAgICBOb2RlLnByb3RvdHlwZSxcclxuICAgICAgICAgICAgICAgIFwiY2hpbGROb2Rlc1wiLFxyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih7fSwgY2hpbGROb2Rlc0Rlc2NyaXB0b3IsIHtnZXQ6IHByb3h5Q2hpbGROb2Rlc30pXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciBkb2N1bWVudFZpc2liaWxpdHlMaXN0ZW5lciA9IG51bGw7XHJcbiAgICB2YXIgZG9jdW1lbnRJc1Zpc2libGVfID0gIWRvY3VtZW50LmhpZGRlbjtcclxuICAgIHZhciBsaXN0ZW5lck9wdGlvbnMgPSB7XHJcbiAgICAgICAgY2FwdHVyZTogdHJ1ZSxcclxuICAgICAgICBwYXNzaXZlOiB0cnVlXHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gd2F0Y2hGb3JEb2N1bWVudFZpc2liaWxpdHkoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsXHJcbiAgICAgICAgICAgIGRvY3VtZW50VmlzaWJpbGl0eUxpc3RlbmVyLFxyXG4gICAgICAgICAgICBsaXN0ZW5lck9wdGlvbnNcclxuICAgICAgICApO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICBcInBhZ2VzaG93XCIsXHJcbiAgICAgICAgICAgIGRvY3VtZW50VmlzaWJpbGl0eUxpc3RlbmVyLFxyXG4gICAgICAgICAgICBsaXN0ZW5lck9wdGlvbnNcclxuICAgICAgICApO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICBcImZvY3VzXCIsXHJcbiAgICAgICAgICAgIGRvY3VtZW50VmlzaWJpbGl0eUxpc3RlbmVyLFxyXG4gICAgICAgICAgICBsaXN0ZW5lck9wdGlvbnNcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gc3RvcFdhdGNoaW5nRm9yRG9jdW1lbnRWaXNpYmlsaXR5KCkge1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICAgIFwidmlzaWJpbGl0eWNoYW5nZVwiLFxyXG4gICAgICAgICAgICBkb2N1bWVudFZpc2liaWxpdHlMaXN0ZW5lcixcclxuICAgICAgICAgICAgbGlzdGVuZXJPcHRpb25zXHJcbiAgICAgICAgKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgXCJwYWdlc2hvd1wiLFxyXG4gICAgICAgICAgICBkb2N1bWVudFZpc2liaWxpdHlMaXN0ZW5lcixcclxuICAgICAgICAgICAgbGlzdGVuZXJPcHRpb25zXHJcbiAgICAgICAgKTtcclxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgXCJmb2N1c1wiLFxyXG4gICAgICAgICAgICBkb2N1bWVudFZpc2liaWxpdHlMaXN0ZW5lcixcclxuICAgICAgICAgICAgbGlzdGVuZXJPcHRpb25zXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHNldERvY3VtZW50VmlzaWJpbGl0eUxpc3RlbmVyKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIGFscmVhZHlXYXRjaGluZyA9IEJvb2xlYW4oZG9jdW1lbnRWaXNpYmlsaXR5TGlzdGVuZXIpO1xyXG4gICAgICAgIGRvY3VtZW50VmlzaWJpbGl0eUxpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIWRvY3VtZW50LmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlRG9jdW1lbnRWaXNpYmlsaXR5TGlzdGVuZXIoKTtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudElzVmlzaWJsZV8gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoIWFscmVhZHlXYXRjaGluZykge1xyXG4gICAgICAgICAgICB3YXRjaEZvckRvY3VtZW50VmlzaWJpbGl0eSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbW92ZURvY3VtZW50VmlzaWJpbGl0eUxpc3RlbmVyKCkge1xyXG4gICAgICAgIHN0b3BXYXRjaGluZ0ZvckRvY3VtZW50VmlzaWJpbGl0eSgpO1xyXG4gICAgICAgIGRvY3VtZW50VmlzaWJpbGl0eUxpc3RlbmVyID0gbnVsbDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGRvY3VtZW50SXNWaXNpYmxlKCkge1xyXG4gICAgICAgIHJldHVybiBkb2N1bWVudElzVmlzaWJsZV87XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIElOU1RBTkNFX0lEID0gZ2VuZXJhdGVVSUQoKTtcclxuICAgIHZhciBzdHlsZU1hbmFnZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgdmFyIGFkb3B0ZWRTdHlsZU1hbmFnZXJzID0gW107XHJcbiAgICB2YXIgZmlsdGVyID0gbnVsbDtcclxuICAgIHZhciBmaXhlcyA9IG51bGw7XHJcbiAgICB2YXIgaXNJRnJhbWUkMSA9IG51bGw7XHJcbiAgICB2YXIgaWdub3JlZEltYWdlQW5hbHlzaXNTZWxlY3RvcnMgPSBbXTtcclxuICAgIHZhciBpZ25vcmVkSW5saW5lU2VsZWN0b3JzID0gW107XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZVN0eWxlKGNsYXNzTmFtZSwgcm9vdCkge1xyXG4gICAgICAgIGlmIChyb290ID09PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgcm9vdCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBlbGVtZW50ID0gcm9vdC5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChjbGFzc05hbWUpKTtcclxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZGFya3JlYWRlclwiKTtcclxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQubWVkaWEgPSBcInNjcmVlblwiO1xyXG4gICAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVPclVwZGF0ZVNjcmlwdChjbGFzc05hbWUsIHJvb3QpIHtcclxuICAgICAgICBpZiAocm9vdCA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgIHJvb3QgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZWxlbWVudCA9IHJvb3QucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoY2xhc3NOYW1lKSk7XHJcbiAgICAgICAgaWYgKCFlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJkYXJrcmVhZGVyXCIpO1xyXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9XHJcbiAgICB2YXIgbm9kZVBvc2l0aW9uV2F0Y2hlcnMgPSBuZXcgTWFwKCk7XHJcbiAgICBmdW5jdGlvbiBzZXR1cE5vZGVQb3NpdGlvbldhdGNoZXIobm9kZSwgYWxpYXMpIHtcclxuICAgICAgICBub2RlUG9zaXRpb25XYXRjaGVycy5oYXMoYWxpYXMpICYmXHJcbiAgICAgICAgICAgIG5vZGVQb3NpdGlvbldhdGNoZXJzLmdldChhbGlhcykuc3RvcCgpO1xyXG4gICAgICAgIG5vZGVQb3NpdGlvbldhdGNoZXJzLnNldChhbGlhcywgd2F0Y2hGb3JOb2RlUG9zaXRpb24obm9kZSwgXCJoZWFkXCIpKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHN0b3BTdHlsZVBvc2l0aW9uV2F0Y2hlcnMoKSB7XHJcbiAgICAgICAgZm9yRWFjaChub2RlUG9zaXRpb25XYXRjaGVycy52YWx1ZXMoKSwgZnVuY3Rpb24gKHdhdGNoZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdhdGNoZXIuc3RvcCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG5vZGVQb3NpdGlvbldhdGNoZXJzLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVTdGF0aWNTdHlsZU92ZXJyaWRlcygpIHtcclxuICAgICAgICB2YXIgZmFsbGJhY2tTdHlsZSA9IGNyZWF0ZU9yVXBkYXRlU3R5bGUoXHJcbiAgICAgICAgICAgIFwiZGFya3JlYWRlci0tZmFsbGJhY2tcIixcclxuICAgICAgICAgICAgZG9jdW1lbnRcclxuICAgICAgICApO1xyXG4gICAgICAgIGZhbGxiYWNrU3R5bGUudGV4dENvbnRlbnQgPSBnZXRNb2RpZmllZEZhbGxiYWNrU3R5bGUoZmlsdGVyLCB7XHJcbiAgICAgICAgICAgIHN0cmljdDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuaW5zZXJ0QmVmb3JlKGZhbGxiYWNrU3R5bGUsIGRvY3VtZW50LmhlYWQuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgc2V0dXBOb2RlUG9zaXRpb25XYXRjaGVyKGZhbGxiYWNrU3R5bGUsIFwiZmFsbGJhY2tcIik7XHJcbiAgICAgICAgdmFyIHVzZXJBZ2VudFN0eWxlID0gY3JlYXRlT3JVcGRhdGVTdHlsZShcImRhcmtyZWFkZXItLXVzZXItYWdlbnRcIik7XHJcbiAgICAgICAgdXNlckFnZW50U3R5bGUudGV4dENvbnRlbnQgPSBnZXRNb2RpZmllZFVzZXJBZ2VudFN0eWxlKFxyXG4gICAgICAgICAgICBmaWx0ZXIsXHJcbiAgICAgICAgICAgIGlzSUZyYW1lJDEsXHJcbiAgICAgICAgICAgIGZpbHRlci5zdHlsZVN5c3RlbUNvbnRyb2xzXHJcbiAgICAgICAgKTtcclxuICAgICAgICBkb2N1bWVudC5oZWFkLmluc2VydEJlZm9yZSh1c2VyQWdlbnRTdHlsZSwgZmFsbGJhY2tTdHlsZS5uZXh0U2libGluZyk7XHJcbiAgICAgICAgc2V0dXBOb2RlUG9zaXRpb25XYXRjaGVyKHVzZXJBZ2VudFN0eWxlLCBcInVzZXItYWdlbnRcIik7XHJcbiAgICAgICAgdmFyIHRleHRTdHlsZSA9IGNyZWF0ZU9yVXBkYXRlU3R5bGUoXCJkYXJrcmVhZGVyLS10ZXh0XCIpO1xyXG4gICAgICAgIGlmIChmaWx0ZXIudXNlRm9udCB8fCBmaWx0ZXIudGV4dFN0cm9rZSA+IDApIHtcclxuICAgICAgICAgICAgdGV4dFN0eWxlLnRleHRDb250ZW50ID0gY3JlYXRlVGV4dFN0eWxlKGZpbHRlcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGV4dFN0eWxlLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5pbnNlcnRCZWZvcmUodGV4dFN0eWxlLCBmYWxsYmFja1N0eWxlLm5leHRTaWJsaW5nKTtcclxuICAgICAgICBzZXR1cE5vZGVQb3NpdGlvbldhdGNoZXIodGV4dFN0eWxlLCBcInRleHRcIik7XHJcbiAgICAgICAgdmFyIGludmVydFN0eWxlID0gY3JlYXRlT3JVcGRhdGVTdHlsZShcImRhcmtyZWFkZXItLWludmVydFwiKTtcclxuICAgICAgICBpZiAoZml4ZXMgJiYgQXJyYXkuaXNBcnJheShmaXhlcy5pbnZlcnQpICYmIGZpeGVzLmludmVydC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGludmVydFN0eWxlLnRleHRDb250ZW50ID0gW1xyXG4gICAgICAgICAgICAgICAgXCJcIi5jb25jYXQoZml4ZXMuaW52ZXJ0LmpvaW4oXCIsIFwiKSwgXCIge1wiKSxcclxuICAgICAgICAgICAgICAgIFwiICAgIGZpbHRlcjogXCIuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgICAgIGdldENTU0ZpbHRlclZhbHVlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZmlsdGVyKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJhc3Q6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLm1vZGUgPT09IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBmaWx0ZXIuY29udHJhc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjbGFtcChmaWx0ZXIuY29udHJhc3QgLSAxMCwgMCwgMTAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICAgICAgXCIgIWltcG9ydGFudDtcIlxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIFwifVwiXHJcbiAgICAgICAgICAgIF0uam9pbihcIlxcblwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpbnZlcnRTdHlsZS50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuaW5zZXJ0QmVmb3JlKGludmVydFN0eWxlLCB0ZXh0U3R5bGUubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgIHNldHVwTm9kZVBvc2l0aW9uV2F0Y2hlcihpbnZlcnRTdHlsZSwgXCJpbnZlcnRcIik7XHJcbiAgICAgICAgdmFyIGlubGluZVN0eWxlID0gY3JlYXRlT3JVcGRhdGVTdHlsZShcImRhcmtyZWFkZXItLWlubGluZVwiKTtcclxuICAgICAgICBpbmxpbmVTdHlsZS50ZXh0Q29udGVudCA9IGdldElubGluZU92ZXJyaWRlU3R5bGUoKTtcclxuICAgICAgICBkb2N1bWVudC5oZWFkLmluc2VydEJlZm9yZShpbmxpbmVTdHlsZSwgaW52ZXJ0U3R5bGUubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgIHNldHVwTm9kZVBvc2l0aW9uV2F0Y2hlcihpbmxpbmVTdHlsZSwgXCJpbmxpbmVcIik7XHJcbiAgICAgICAgdmFyIG92ZXJyaWRlU3R5bGUgPSBjcmVhdGVPclVwZGF0ZVN0eWxlKFwiZGFya3JlYWRlci0tb3ZlcnJpZGVcIik7XHJcbiAgICAgICAgb3ZlcnJpZGVTdHlsZS50ZXh0Q29udGVudCA9XHJcbiAgICAgICAgICAgIGZpeGVzICYmIGZpeGVzLmNzcyA/IHJlcGxhY2VDU1NUZW1wbGF0ZXMoZml4ZXMuY3NzKSA6IFwiXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChvdmVycmlkZVN0eWxlKTtcclxuICAgICAgICBzZXR1cE5vZGVQb3NpdGlvbldhdGNoZXIob3ZlcnJpZGVTdHlsZSwgXCJvdmVycmlkZVwiKTtcclxuICAgICAgICB2YXIgdmFyaWFibGVTdHlsZSA9IGNyZWF0ZU9yVXBkYXRlU3R5bGUoXCJkYXJrcmVhZGVyLS12YXJpYWJsZXNcIik7XHJcbiAgICAgICAgdmFyIHNlbGVjdGlvbkNvbG9ycyA9IGdldFNlbGVjdGlvbkNvbG9yKGZpbHRlcik7XHJcbiAgICAgICAgdmFyIF9hID0gZmlsdGVyLFxyXG4gICAgICAgICAgICBkYXJrU2NoZW1lQmFja2dyb3VuZENvbG9yID0gX2EuZGFya1NjaGVtZUJhY2tncm91bmRDb2xvcixcclxuICAgICAgICAgICAgZGFya1NjaGVtZVRleHRDb2xvciA9IF9hLmRhcmtTY2hlbWVUZXh0Q29sb3IsXHJcbiAgICAgICAgICAgIGxpZ2h0U2NoZW1lQmFja2dyb3VuZENvbG9yID0gX2EubGlnaHRTY2hlbWVCYWNrZ3JvdW5kQ29sb3IsXHJcbiAgICAgICAgICAgIGxpZ2h0U2NoZW1lVGV4dENvbG9yID0gX2EubGlnaHRTY2hlbWVUZXh0Q29sb3IsXHJcbiAgICAgICAgICAgIG1vZGUgPSBfYS5tb2RlO1xyXG4gICAgICAgIHZhciBzY2hlbWVCYWNrZ3JvdW5kQ29sb3IgPVxyXG4gICAgICAgICAgICBtb2RlID09PSAwID8gbGlnaHRTY2hlbWVCYWNrZ3JvdW5kQ29sb3IgOiBkYXJrU2NoZW1lQmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgIHZhciBzY2hlbWVUZXh0Q29sb3IgPVxyXG4gICAgICAgICAgICBtb2RlID09PSAwID8gbGlnaHRTY2hlbWVUZXh0Q29sb3IgOiBkYXJrU2NoZW1lVGV4dENvbG9yO1xyXG4gICAgICAgIHNjaGVtZUJhY2tncm91bmRDb2xvciA9IG1vZGlmeUJhY2tncm91bmRDb2xvcihcclxuICAgICAgICAgICAgcGFyc2VDb2xvcldpdGhDYWNoZShzY2hlbWVCYWNrZ3JvdW5kQ29sb3IpLFxyXG4gICAgICAgICAgICBmaWx0ZXJcclxuICAgICAgICApO1xyXG4gICAgICAgIHNjaGVtZVRleHRDb2xvciA9IG1vZGlmeUZvcmVncm91bmRDb2xvcihcclxuICAgICAgICAgICAgcGFyc2VDb2xvcldpdGhDYWNoZShzY2hlbWVUZXh0Q29sb3IpLFxyXG4gICAgICAgICAgICBmaWx0ZXJcclxuICAgICAgICApO1xyXG4gICAgICAgIHZhcmlhYmxlU3R5bGUudGV4dENvbnRlbnQgPSBbXHJcbiAgICAgICAgICAgIFwiOnJvb3Qge1wiLFxyXG4gICAgICAgICAgICBcIiAgIC0tZGFya3JlYWRlci1uZXV0cmFsLWJhY2tncm91bmQ6IFwiLmNvbmNhdChcclxuICAgICAgICAgICAgICAgIHNjaGVtZUJhY2tncm91bmRDb2xvcixcclxuICAgICAgICAgICAgICAgIFwiO1wiXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgIFwiICAgLS1kYXJrcmVhZGVyLW5ldXRyYWwtdGV4dDogXCIuY29uY2F0KHNjaGVtZVRleHRDb2xvciwgXCI7XCIpLFxyXG4gICAgICAgICAgICBcIiAgIC0tZGFya3JlYWRlci1zZWxlY3Rpb24tYmFja2dyb3VuZDogXCIuY29uY2F0KFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uQ29sb3JzLmJhY2tncm91bmRDb2xvclNlbGVjdGlvbixcclxuICAgICAgICAgICAgICAgIFwiO1wiXHJcbiAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgIFwiICAgLS1kYXJrcmVhZGVyLXNlbGVjdGlvbi10ZXh0OiBcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25Db2xvcnMuZm9yZWdyb3VuZENvbG9yU2VsZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgXCI7XCJcclxuICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgXCJ9XCJcclxuICAgICAgICBdLmpvaW4oXCJcXG5cIik7XHJcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5pbnNlcnRCZWZvcmUodmFyaWFibGVTdHlsZSwgaW5saW5lU3R5bGUubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgIHNldHVwTm9kZVBvc2l0aW9uV2F0Y2hlcih2YXJpYWJsZVN0eWxlLCBcInZhcmlhYmxlc1wiKTtcclxuICAgICAgICB2YXIgcm9vdFZhcnNTdHlsZSA9IGNyZWF0ZU9yVXBkYXRlU3R5bGUoXCJkYXJrcmVhZGVyLS1yb290LXZhcnNcIik7XHJcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5pbnNlcnRCZWZvcmUocm9vdFZhcnNTdHlsZSwgdmFyaWFibGVTdHlsZS5uZXh0U2libGluZyk7XHJcbiAgICAgICAgdmFyIGVuYWJsZVN0eWxlU2hlZXRzUHJveHkgPSAhKGZpeGVzICYmIGZpeGVzLmRpc2FibGVTdHlsZVNoZWV0c1Byb3h5KTtcclxuICAgICAgICB2YXIgZW5hYmxlQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5UHJveHkgPSAhKFxyXG4gICAgICAgICAgICBmaXhlcyAmJiBmaXhlcy5kaXNhYmxlQ3VzdG9tRWxlbWVudFJlZ2lzdHJ5UHJveHlcclxuICAgICAgICApO1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdmFyIHByb3h5U2NyaXB0ID0gY3JlYXRlT3JVcGRhdGVTY3JpcHQoXCJkYXJrcmVhZGVyLS1wcm94eVwiKTtcclxuICAgICAgICAgICAgcHJveHlTY3JpcHQuYXBwZW5kKFxyXG4gICAgICAgICAgICAgICAgXCIoXCJcclxuICAgICAgICAgICAgICAgICAgICAuY29uY2F0KGluamVjdFByb3h5LCBcIikoXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChlbmFibGVTdHlsZVNoZWV0c1Byb3h5LCBcIiwgXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChlbmFibGVDdXN0b21FbGVtZW50UmVnaXN0cnlQcm94eSwgXCIpXCIpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuaW5zZXJ0QmVmb3JlKHByb3h5U2NyaXB0LCByb290VmFyc1N0eWxlLm5leHRTaWJsaW5nKTtcclxuICAgICAgICAgICAgcHJveHlTY3JpcHQucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIHNoYWRvd1Jvb3RzV2l0aE92ZXJyaWRlcyA9IG5ldyBTZXQoKTtcclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNoYWRvd1N0YXRpY1N0eWxlT3ZlcnJpZGVzSW5uZXIocm9vdCkge1xyXG4gICAgICAgIHZhciBpbmxpbmVTdHlsZSA9IGNyZWF0ZU9yVXBkYXRlU3R5bGUoXCJkYXJrcmVhZGVyLS1pbmxpbmVcIiwgcm9vdCk7XHJcbiAgICAgICAgaW5saW5lU3R5bGUudGV4dENvbnRlbnQgPSBnZXRJbmxpbmVPdmVycmlkZVN0eWxlKCk7XHJcbiAgICAgICAgcm9vdC5pbnNlcnRCZWZvcmUoaW5saW5lU3R5bGUsIHJvb3QuZmlyc3RDaGlsZCk7XHJcbiAgICAgICAgdmFyIG92ZXJyaWRlU3R5bGUgPSBjcmVhdGVPclVwZGF0ZVN0eWxlKFwiZGFya3JlYWRlci0tb3ZlcnJpZGVcIiwgcm9vdCk7XHJcbiAgICAgICAgb3ZlcnJpZGVTdHlsZS50ZXh0Q29udGVudCA9XHJcbiAgICAgICAgICAgIGZpeGVzICYmIGZpeGVzLmNzcyA/IHJlcGxhY2VDU1NUZW1wbGF0ZXMoZml4ZXMuY3NzKSA6IFwiXCI7XHJcbiAgICAgICAgcm9vdC5pbnNlcnRCZWZvcmUob3ZlcnJpZGVTdHlsZSwgaW5saW5lU3R5bGUubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgIHZhciBpbnZlcnRTdHlsZSA9IGNyZWF0ZU9yVXBkYXRlU3R5bGUoXCJkYXJrcmVhZGVyLS1pbnZlcnRcIiwgcm9vdCk7XHJcbiAgICAgICAgaWYgKGZpeGVzICYmIEFycmF5LmlzQXJyYXkoZml4ZXMuaW52ZXJ0KSAmJiBmaXhlcy5pbnZlcnQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpbnZlcnRTdHlsZS50ZXh0Q29udGVudCA9IFtcclxuICAgICAgICAgICAgICAgIFwiXCIuY29uY2F0KGZpeGVzLmludmVydC5qb2luKFwiLCBcIiksIFwiIHtcIiksXHJcbiAgICAgICAgICAgICAgICBcIiAgICBmaWx0ZXI6IFwiLmNvbmNhdChcclxuICAgICAgICAgICAgICAgICAgICBnZXRDU1NGaWx0ZXJWYWx1ZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgX19hc3NpZ24oX19hc3NpZ24oe30sIGZpbHRlciksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyYXN0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci5tb2RlID09PSAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZmlsdGVyLmNvbnRyYXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY2xhbXAoZmlsdGVyLmNvbnRyYXN0IC0gMTAsIDAsIDEwMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiICFpbXBvcnRhbnQ7XCJcclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBcIn1cIlxyXG4gICAgICAgICAgICBdLmpvaW4oXCJcXG5cIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW52ZXJ0U3R5bGUudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByb290Lmluc2VydEJlZm9yZShpbnZlcnRTdHlsZSwgb3ZlcnJpZGVTdHlsZS5uZXh0U2libGluZyk7XHJcbiAgICAgICAgc2hhZG93Um9vdHNXaXRoT3ZlcnJpZGVzLmFkZChyb290KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGRlbGF5ZWRDcmVhdGVTaGFkb3dTdGF0aWNTdHlsZU92ZXJyaWRlcyhyb290KSB7XHJcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucywgb2JzZXJ2ZXIpIHtcclxuICAgICAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGZvciAoXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG11dGF0aW9uc18xID0gX192YWx1ZXMobXV0YXRpb25zKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25zXzFfMSA9IG11dGF0aW9uc18xLm5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAhbXV0YXRpb25zXzFfMS5kb25lO1xyXG4gICAgICAgICAgICAgICAgICAgIG11dGF0aW9uc18xXzEgPSBtdXRhdGlvbnNfMS5uZXh0KClcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBfYyA9IG11dGF0aW9uc18xXzEudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBfYy50eXBlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkTm9kZXMgPSBfYy5yZW1vdmVkTm9kZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwiY2hpbGRMaXN0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9kID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoZV8yID0gdm9pZCAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzKHJlbW92ZWROb2RlcykpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZSA9IF9kLm5leHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhX2UuZG9uZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZSA9IF9kLm5leHQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9mID0gX2UudmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVOYW1lID0gX2Yubm9kZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9mLmNsYXNzTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVOYW1lID09PSBcIlNUWUxFXCIgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXJrcmVhZGVyIGRhcmtyZWFkZXItLWlubGluZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXJrcmVhZGVyIGRhcmtyZWFkZXItLW92ZXJyaWRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhcmtyZWFkZXIgZGFya3JlYWRlci0taW52ZXJ0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5pbmNsdWRlcyhjbGFzc05hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNoYWRvd1N0YXRpY1N0eWxlT3ZlcnJpZGVzSW5uZXIocm9vdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVfMl8xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlXzIgPSB7ZXJyb3I6IGVfMl8xfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9lICYmICFfZS5kb25lICYmIChfYiA9IF9kLnJldHVybikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLmNhbGwoX2QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVfMV8xKSB7XHJcbiAgICAgICAgICAgICAgICBlXzEgPSB7ZXJyb3I6IGVfMV8xfTtcclxuICAgICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdXRhdGlvbnNfMV8xICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFtdXRhdGlvbnNfMV8xLmRvbmUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gbXV0YXRpb25zXzEucmV0dXJuKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2EuY2FsbChtdXRhdGlvbnNfMSk7XHJcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUocm9vdCwge2NoaWxkTGlzdDogdHJ1ZX0pO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2hhZG93U3RhdGljU3R5bGVPdmVycmlkZXMocm9vdCkge1xyXG4gICAgICAgIHZhciB1bmluaXQgPSByb290LmZpcnN0Q2hpbGQgPT09IG51bGw7XHJcbiAgICAgICAgY3JlYXRlU2hhZG93U3RhdGljU3R5bGVPdmVycmlkZXNJbm5lcihyb290KTtcclxuICAgICAgICBpZiAodW5pbml0KSB7XHJcbiAgICAgICAgICAgIGRlbGF5ZWRDcmVhdGVTaGFkb3dTdGF0aWNTdHlsZU92ZXJyaWRlcyhyb290KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZXBsYWNlQ1NTVGVtcGxhdGVzKCRjc3NUZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuICRjc3NUZXh0LnJlcGxhY2UoL1xcJHsoLis/KX0vZywgZnVuY3Rpb24gKF8sICRjb2xvcikge1xyXG4gICAgICAgICAgICB2YXIgY29sb3IgPSBwYXJzZUNvbG9yV2l0aENhY2hlKCRjb2xvcik7XHJcbiAgICAgICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZGlmeUNvbG9yKGNvbG9yLCBmaWx0ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAkY29sb3I7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjbGVhbkZhbGxiYWNrU3R5bGUoKSB7XHJcbiAgICAgICAgdmFyIGZhbGxiYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kYXJrcmVhZGVyLS1mYWxsYmFja1wiKTtcclxuICAgICAgICBpZiAoZmFsbGJhY2spIHtcclxuICAgICAgICAgICAgZmFsbGJhY2sudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUR5bmFtaWNTdHlsZU92ZXJyaWRlcygpIHtcclxuICAgICAgICBjYW5jZWxSZW5kZXJpbmcoKTtcclxuICAgICAgICB2YXIgYWxsU3R5bGVzID0gZ2V0TWFuYWdlYWJsZVN0eWxlcyhkb2N1bWVudCk7XHJcbiAgICAgICAgdmFyIG5ld01hbmFnZXJzID0gYWxsU3R5bGVzXHJcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gIXN0eWxlTWFuYWdlcnMuaGFzKHN0eWxlKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVNYW5hZ2VyKHN0eWxlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgbmV3TWFuYWdlcnNcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAobWFuYWdlcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hbmFnZXIuZGV0YWlscyh7c2Vjb25kUm91bmQ6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGRldGFpbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRldGFpbCAmJiBkZXRhaWwucnVsZXMubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGRldGFpbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyaWFibGVzU3RvcmUuYWRkUnVsZXNGb3JNYXRjaGluZyhkZXRhaWwucnVsZXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB2YXJpYWJsZXNTdG9yZS5tYXRjaFZhcmlhYmxlc0FuZERlcGVuZGVudHMoKTtcclxuICAgICAgICB2YXJpYWJsZXNTdG9yZS5zZXRPblJvb3RWYXJpYWJsZUNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByb290VmFyc1N0eWxlID0gY3JlYXRlT3JVcGRhdGVTdHlsZShcImRhcmtyZWFkZXItLXJvb3QtdmFyc1wiKTtcclxuICAgICAgICAgICAgdmFyaWFibGVzU3RvcmUucHV0Um9vdFZhcnMocm9vdFZhcnNTdHlsZSwgZmlsdGVyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgcm9vdFZhcnNTdHlsZSA9IGNyZWF0ZU9yVXBkYXRlU3R5bGUoXCJkYXJrcmVhZGVyLS1yb290LXZhcnNcIik7XHJcbiAgICAgICAgdmFyaWFibGVzU3RvcmUucHV0Um9vdFZhcnMocm9vdFZhcnNTdHlsZSwgZmlsdGVyKTtcclxuICAgICAgICBzdHlsZU1hbmFnZXJzLmZvckVhY2goZnVuY3Rpb24gKG1hbmFnZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hbmFnZXIucmVuZGVyKGZpbHRlciwgaWdub3JlZEltYWdlQW5hbHlzaXNTZWxlY3RvcnMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChsb2FkaW5nU3R5bGVzLnNpemUgPT09IDApIHtcclxuICAgICAgICAgICAgY2xlYW5GYWxsYmFja1N0eWxlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld01hbmFnZXJzLmZvckVhY2goZnVuY3Rpb24gKG1hbmFnZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hbmFnZXIud2F0Y2goKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgaW5saW5lU3R5bGVFbGVtZW50cyA9IHRvQXJyYXkoXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoSU5MSU5FX1NUWUxFX1NFTEVDVE9SKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaXRlcmF0ZVNoYWRvd0hvc3RzKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgZnVuY3Rpb24gKGhvc3QpIHtcclxuICAgICAgICAgICAgY3JlYXRlU2hhZG93U3RhdGljU3R5bGVPdmVycmlkZXMoaG9zdC5zaGFkb3dSb290KTtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gaG9zdC5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcbiAgICAgICAgICAgICAgICBJTkxJTkVfU1RZTEVfU0VMRUNUT1JcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHB1c2goaW5saW5lU3R5bGVFbGVtZW50cywgZWxlbWVudHMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaW5saW5lU3R5bGVFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gb3ZlcnJpZGVJbmxpbmVTdHlsZShcclxuICAgICAgICAgICAgICAgIGVsLFxyXG4gICAgICAgICAgICAgICAgZmlsdGVyLFxyXG4gICAgICAgICAgICAgICAgaWdub3JlZElubGluZVNlbGVjdG9ycyxcclxuICAgICAgICAgICAgICAgIGlnbm9yZWRJbWFnZUFuYWx5c2lzU2VsZWN0b3JzXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaGFuZGxlQWRvcHRlZFN0eWxlU2hlZXRzKGRvY3VtZW50KTtcclxuICAgIH1cclxuICAgIHZhciBsb2FkaW5nU3R5bGVzQ291bnRlciA9IDA7XHJcbiAgICB2YXIgbG9hZGluZ1N0eWxlcyA9IG5ldyBTZXQoKTtcclxuICAgIGZ1bmN0aW9uIGNyZWF0ZU1hbmFnZXIoZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBsb2FkaW5nU3R5bGVJZCA9ICsrbG9hZGluZ1N0eWxlc0NvdW50ZXI7XHJcbiAgICAgICAgZnVuY3Rpb24gbG9hZGluZ1N0YXJ0KCkge1xyXG4gICAgICAgICAgICBpZiAoIWlzRE9NUmVhZHkoKSB8fCAhZG9jdW1lbnRJc1Zpc2libGUoKSkge1xyXG4gICAgICAgICAgICAgICAgbG9hZGluZ1N0eWxlcy5hZGQobG9hZGluZ1N0eWxlSWQpO1xyXG4gICAgICAgICAgICAgICAgbG9nSW5mbyhcclxuICAgICAgICAgICAgICAgICAgICBcIkN1cnJlbnQgYW1vdW50IG9mIHN0eWxlcyBsb2FkaW5nOiBcIi5jb25jYXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdTdHlsZXMuc2l6ZVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmFsbGJhY2tTdHlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgICAgICAgICAgICAgXCIuZGFya3JlYWRlci0tZmFsbGJhY2tcIlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGlmICghZmFsbGJhY2tTdHlsZS50ZXh0Q29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrU3R5bGUudGV4dENvbnRlbnQgPSBnZXRNb2RpZmllZEZhbGxiYWNrU3R5bGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAge3N0cmljdDogZmFsc2V9XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBsb2FkaW5nRW5kKCkge1xyXG4gICAgICAgICAgICBsb2FkaW5nU3R5bGVzLmRlbGV0ZShsb2FkaW5nU3R5bGVJZCk7XHJcbiAgICAgICAgICAgIGxvZ0luZm8oXHJcbiAgICAgICAgICAgICAgICBcIlJlbW92ZWQgbG9hZGluZ1N0eWxlIFwiXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChsb2FkaW5nU3R5bGVJZCwgXCIsIG5vdyBhd2FpdGluZzogXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChsb2FkaW5nU3R5bGVzLnNpemUpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGlmIChsb2FkaW5nU3R5bGVzLnNpemUgPT09IDAgJiYgaXNET01SZWFkeSgpKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhbkZhbGxiYWNrU3R5bGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGUoKSB7XHJcbiAgICAgICAgICAgIHZhciBkZXRhaWxzID0gbWFuYWdlci5kZXRhaWxzKHtzZWNvbmRSb3VuZDogdHJ1ZX0pO1xyXG4gICAgICAgICAgICBpZiAoIWRldGFpbHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXJpYWJsZXNTdG9yZS5hZGRSdWxlc0Zvck1hdGNoaW5nKGRldGFpbHMucnVsZXMpO1xyXG4gICAgICAgICAgICB2YXJpYWJsZXNTdG9yZS5tYXRjaFZhcmlhYmxlc0FuZERlcGVuZGVudHMoKTtcclxuICAgICAgICAgICAgbWFuYWdlci5yZW5kZXIoZmlsdGVyLCBpZ25vcmVkSW1hZ2VBbmFseXNpc1NlbGVjdG9ycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtYW5hZ2VyID0gbWFuYWdlU3R5bGUoZWxlbWVudCwge1xyXG4gICAgICAgICAgICB1cGRhdGU6IHVwZGF0ZSxcclxuICAgICAgICAgICAgbG9hZGluZ1N0YXJ0OiBsb2FkaW5nU3RhcnQsXHJcbiAgICAgICAgICAgIGxvYWRpbmdFbmQ6IGxvYWRpbmdFbmRcclxuICAgICAgICB9KTtcclxuICAgICAgICBzdHlsZU1hbmFnZXJzLnNldChlbGVtZW50LCBtYW5hZ2VyKTtcclxuICAgICAgICByZXR1cm4gbWFuYWdlcjtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlbW92ZU1hbmFnZXIoZWxlbWVudCkge1xyXG4gICAgICAgIHZhciBtYW5hZ2VyID0gc3R5bGVNYW5hZ2Vycy5nZXQoZWxlbWVudCk7XHJcbiAgICAgICAgaWYgKG1hbmFnZXIpIHtcclxuICAgICAgICAgICAgbWFuYWdlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHN0eWxlTWFuYWdlcnMuZGVsZXRlKGVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHZhciB0aHJvdHRsZWRSZW5kZXJBbGxTdHlsZXMgPSB0aHJvdHRsZShmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICBzdHlsZU1hbmFnZXJzLmZvckVhY2goZnVuY3Rpb24gKG1hbmFnZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hbmFnZXIucmVuZGVyKGZpbHRlciwgaWdub3JlZEltYWdlQW5hbHlzaXNTZWxlY3RvcnMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFkb3B0ZWRTdHlsZU1hbmFnZXJzLmZvckVhY2goZnVuY3Rpb24gKG1hbmFnZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hbmFnZXIucmVuZGVyKGZpbHRlciwgaWdub3JlZEltYWdlQW5hbHlzaXNTZWxlY3RvcnMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XHJcbiAgICB9KTtcclxuICAgIHZhciBjYW5jZWxSZW5kZXJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhyb3R0bGVkUmVuZGVyQWxsU3R5bGVzLmNhbmNlbCgpO1xyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIG9uRE9NUmVhZHkoKSB7XHJcbiAgICAgICAgaWYgKGxvYWRpbmdTdHlsZXMuc2l6ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICBjbGVhbkZhbGxiYWNrU3R5bGUoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJ1bkR5bmFtaWNTdHlsZSgpIHtcclxuICAgICAgICBjcmVhdGVEeW5hbWljU3R5bGVPdmVycmlkZXMoKTtcclxuICAgICAgICB3YXRjaEZvclVwZGF0ZXMoKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVRoZW1lQW5kV2F0Y2hGb3JVcGRhdGVzKCkge1xyXG4gICAgICAgIGNyZWF0ZVN0YXRpY1N0eWxlT3ZlcnJpZGVzKCk7XHJcbiAgICAgICAgaWYgKCFkb2N1bWVudElzVmlzaWJsZSgpICYmICFmaWx0ZXIuaW1tZWRpYXRlTW9kaWZ5KSB7XHJcbiAgICAgICAgICAgIHNldERvY3VtZW50VmlzaWJpbGl0eUxpc3RlbmVyKHJ1bkR5bmFtaWNTdHlsZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcnVuRHluYW1pY1N0eWxlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoYW5nZU1ldGFUaGVtZUNvbG9yV2hlbkF2YWlsYWJsZShmaWx0ZXIpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaGFuZGxlQWRvcHRlZFN0eWxlU2hlZXRzKG5vZGUpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShub2RlLmFkb3B0ZWRTdHlsZVNoZWV0cykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChub2RlLmFkb3B0ZWRTdHlsZVNoZWV0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld01hbmdlciA9IGNyZWF0ZUFkb3B0ZWRTdHlsZVNoZWV0T3ZlcnJpZGUobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRvcHRlZFN0eWxlTWFuYWdlcnMucHVzaChuZXdNYW5nZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld01hbmdlci5yZW5kZXIoZmlsdGVyLCBpZ25vcmVkSW1hZ2VBbmFseXNpc1NlbGVjdG9ycyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHt9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiB3YXRjaEZvclVwZGF0ZXMoKSB7XHJcbiAgICAgICAgdmFyIG1hbmFnZWRTdHlsZXMgPSBBcnJheS5mcm9tKHN0eWxlTWFuYWdlcnMua2V5cygpKTtcclxuICAgICAgICB3YXRjaEZvclN0eWxlQ2hhbmdlcyhcclxuICAgICAgICAgICAgbWFuYWdlZFN0eWxlcyxcclxuICAgICAgICAgICAgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZCA9IF9hLmNyZWF0ZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZCA9IF9hLnVwZGF0ZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZCA9IF9hLnJlbW92ZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgbW92ZWQgPSBfYS5tb3ZlZDtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZXNUb1JlbW92ZSA9IHJlbW92ZWQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVzVG9NYW5hZ2UgPSBjcmVhdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbmNhdCh1cGRhdGVkKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb25jYXQobW92ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoc3R5bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFzdHlsZU1hbmFnZXJzLmhhcyhzdHlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVzVG9SZXN0b3JlID0gbW92ZWQuZmlsdGVyKGZ1bmN0aW9uIChzdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZU1hbmFnZXJzLmhhcyhzdHlsZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHN0eWxlc1RvUmVtb3ZlLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbW92ZU1hbmFnZXIoc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3TWFuYWdlcnMgPSBzdHlsZXNUb01hbmFnZS5tYXAoZnVuY3Rpb24gKHN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU1hbmFnZXIoc3R5bGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBuZXdNYW5hZ2Vyc1xyXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKG1hbmFnZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hbmFnZXIuZGV0YWlscyh7c2Vjb25kUm91bmQ6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChkZXRhaWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRldGFpbCAmJiBkZXRhaWwucnVsZXMubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChkZXRhaWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzU3RvcmUuYWRkUnVsZXNGb3JNYXRjaGluZyhkZXRhaWwucnVsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyaWFibGVzU3RvcmUubWF0Y2hWYXJpYWJsZXNBbmREZXBlbmRlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICBuZXdNYW5hZ2Vycy5mb3JFYWNoKGZ1bmN0aW9uIChtYW5hZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hbmFnZXIucmVuZGVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZWRJbWFnZUFuYWx5c2lzU2VsZWN0b3JzXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbmV3TWFuYWdlcnMuZm9yRWFjaChmdW5jdGlvbiAobWFuYWdlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYW5hZ2VyLndhdGNoKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHN0eWxlc1RvUmVzdG9yZS5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZU1hbmFnZXJzLmdldChzdHlsZSkucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChzaGFkb3dSb290KSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVTaGFkb3dTdGF0aWNTdHlsZU92ZXJyaWRlcyhzaGFkb3dSb290KTtcclxuICAgICAgICAgICAgICAgIGhhbmRsZUFkb3B0ZWRTdHlsZVNoZWV0cyhzaGFkb3dSb290KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgd2F0Y2hGb3JJbmxpbmVTdHlsZXMoXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBvdmVycmlkZUlubGluZVN0eWxlKFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIGlnbm9yZWRJbmxpbmVTZWxlY3RvcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgaWdub3JlZEltYWdlQW5hbHlzaXNTZWxlY3RvcnNcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlQXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikgfHwgXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3R5bGVBdHRyLmluY2x1ZGVzKFwiLS1cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzU3RvcmUubWF0Y2hWYXJpYWJsZXNBbmREZXBlbmRlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb290VmFyc1N0eWxlID0gY3JlYXRlT3JVcGRhdGVTdHlsZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGFya3JlYWRlci0tcm9vdC12YXJzXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFibGVzU3RvcmUucHV0Um9vdFZhcnMocm9vdFZhcnNTdHlsZSwgZmlsdGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIChyb290KSB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVTaGFkb3dTdGF0aWNTdHlsZU92ZXJyaWRlcyhyb290KTtcclxuICAgICAgICAgICAgICAgIHZhciBpbmxpbmVTdHlsZUVsZW1lbnRzID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKFxyXG4gICAgICAgICAgICAgICAgICAgIElOTElORV9TVFlMRV9TRUxFQ1RPUlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGlmIChpbmxpbmVTdHlsZUVsZW1lbnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKGlubGluZVN0eWxlRWxlbWVudHMsIGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3ZlcnJpZGVJbmxpbmVTdHlsZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWdub3JlZElubGluZVNlbGVjdG9ycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZWRJbWFnZUFuYWx5c2lzU2VsZWN0b3JzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG4gICAgICAgIGFkZERPTVJlYWR5TGlzdGVuZXIob25ET01SZWFkeSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzdG9wV2F0Y2hpbmdGb3JVcGRhdGVzKCkge1xyXG4gICAgICAgIHN0eWxlTWFuYWdlcnMuZm9yRWFjaChmdW5jdGlvbiAobWFuYWdlcikge1xyXG4gICAgICAgICAgICByZXR1cm4gbWFuYWdlci5wYXVzZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN0b3BTdHlsZVBvc2l0aW9uV2F0Y2hlcnMoKTtcclxuICAgICAgICBzdG9wV2F0Y2hpbmdGb3JTdHlsZUNoYW5nZXMoKTtcclxuICAgICAgICBzdG9wV2F0Y2hpbmdGb3JJbmxpbmVTdHlsZXMoKTtcclxuICAgICAgICByZW1vdmVET01SZWFkeUxpc3RlbmVyKG9uRE9NUmVhZHkpO1xyXG4gICAgICAgIGNsZWFuUmVhZHlTdGF0ZUNvbXBsZXRlTGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcbiAgICB2YXIgbWV0YU9ic2VydmVyO1xyXG4gICAgZnVuY3Rpb24gYWRkTWV0YUxpc3RlbmVyKCkge1xyXG4gICAgICAgIG1ldGFPYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImRhcmtyZWFkZXItbG9ja1wiXScpKSB7XHJcbiAgICAgICAgICAgICAgICBtZXRhT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlRHluYW1pY1RoZW1lKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBtZXRhT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5oZWFkLCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlfSk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVEYXJrUmVhZGVySW5zdGFuY2VNYXJrZXIoKSB7XHJcbiAgICAgICAgdmFyIG1ldGFFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm1ldGFcIik7XHJcbiAgICAgICAgbWV0YUVsZW1lbnQubmFtZSA9IFwiZGFya3JlYWRlclwiO1xyXG4gICAgICAgIG1ldGFFbGVtZW50LmNvbnRlbnQgPSBJTlNUQU5DRV9JRDtcclxuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKG1ldGFFbGVtZW50KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzQW5vdGhlckRhcmtSZWFkZXJJbnN0YW5jZUFjdGl2ZSgpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwiZGFya3JlYWRlci1sb2NrXCJdJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBtZXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPVwiZGFya3JlYWRlclwiXScpO1xyXG4gICAgICAgIGlmIChtZXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChtZXRhLmNvbnRlbnQgIT09IElOU1RBTkNFX0lEKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNyZWF0ZURhcmtSZWFkZXJJbnN0YW5jZU1hcmtlcigpO1xyXG4gICAgICAgIGFkZE1ldGFMaXN0ZW5lcigpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlRHluYW1pY1RoZW1lSW50ZXJuYWwoXHJcbiAgICAgICAgZmlsdGVyQ29uZmlnLFxyXG4gICAgICAgIGR5bmFtaWNUaGVtZUZpeGVzLFxyXG4gICAgICAgIGlmcmFtZVxyXG4gICAgKSB7XHJcbiAgICAgICAgZmlsdGVyID0gZmlsdGVyQ29uZmlnO1xyXG4gICAgICAgIGZpeGVzID0gZHluYW1pY1RoZW1lRml4ZXM7XHJcbiAgICAgICAgaWYgKGZpeGVzKSB7XHJcbiAgICAgICAgICAgIGlnbm9yZWRJbWFnZUFuYWx5c2lzU2VsZWN0b3JzID0gQXJyYXkuaXNBcnJheShcclxuICAgICAgICAgICAgICAgIGZpeGVzLmlnbm9yZUltYWdlQW5hbHlzaXNcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgPyBmaXhlcy5pZ25vcmVJbWFnZUFuYWx5c2lzXHJcbiAgICAgICAgICAgICAgICA6IFtdO1xyXG4gICAgICAgICAgICBpZ25vcmVkSW5saW5lU2VsZWN0b3JzID0gQXJyYXkuaXNBcnJheShmaXhlcy5pZ25vcmVJbmxpbmVTdHlsZSlcclxuICAgICAgICAgICAgICAgID8gZml4ZXMuaWdub3JlSW5saW5lU3R5bGVcclxuICAgICAgICAgICAgICAgIDogW107XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWdub3JlZEltYWdlQW5hbHlzaXNTZWxlY3RvcnMgPSBbXTtcclxuICAgICAgICAgICAgaWdub3JlZElubGluZVNlbGVjdG9ycyA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmlsdGVyLmltbWVkaWF0ZU1vZGlmeSkge1xyXG4gICAgICAgICAgICBzZXRJc0RPTVJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaXNJRnJhbWUkMSA9IGlmcmFtZTtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuaGVhZCkge1xyXG4gICAgICAgICAgICBpZiAoaXNBbm90aGVyRGFya1JlYWRlckluc3RhbmNlQWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUR5bmFtaWNUaGVtZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoXHJcbiAgICAgICAgICAgICAgICBcImRhdGEtZGFya3JlYWRlci1tb2RlXCIsXHJcbiAgICAgICAgICAgICAgICBcImR5bmFtaWNcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKFxyXG4gICAgICAgICAgICAgICAgXCJkYXRhLWRhcmtyZWFkZXItc2NoZW1lXCIsXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXIubW9kZSA/IFwiZGFya1wiIDogXCJkaW1tZWRcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBjcmVhdGVUaGVtZUFuZFdhdGNoRm9yVXBkYXRlcygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICghaXNGaXJlZm94KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmFsbGJhY2tTdHlsZSA9IGNyZWF0ZU9yVXBkYXRlU3R5bGUoXCJkYXJrcmVhZGVyLS1mYWxsYmFja1wiKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChmYWxsYmFja1N0eWxlKTtcclxuICAgICAgICAgICAgICAgIGZhbGxiYWNrU3R5bGUudGV4dENvbnRlbnQgPSBnZXRNb2RpZmllZEZhbGxiYWNrU3R5bGUoZmlsdGVyLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaWN0OiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgaGVhZE9ic2VydmVyXzEgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuaGVhZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhlYWRPYnNlcnZlcl8xLmRpc2Nvbm5lY3QoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNBbm90aGVyRGFya1JlYWRlckluc3RhbmNlQWN0aXZlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRHluYW1pY1RoZW1lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVGhlbWVBbmRXYXRjaEZvclVwZGF0ZXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGhlYWRPYnNlcnZlcl8xLm9ic2VydmUoZG9jdW1lbnQsIHtjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWV9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiByZW1vdmVQcm94eSgpIHtcclxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcIl9fZGFya3JlYWRlcl9fY2xlYW5VcFwiKSk7XHJcbiAgICAgICAgcmVtb3ZlTm9kZShkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoXCIuZGFya3JlYWRlci0tcHJveHlcIikpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlRHluYW1pY1RoZW1lKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWRhcmtyZWFkZXItbW9kZVwiKTtcclxuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS1kYXJrcmVhZGVyLXNjaGVtZVwiKTtcclxuICAgICAgICBjbGVhbkR5bmFtaWNUaGVtZUNhY2hlKCk7XHJcbiAgICAgICAgcmVtb3ZlTm9kZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRhcmtyZWFkZXItLWZhbGxiYWNrXCIpKTtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuaGVhZCkge1xyXG4gICAgICAgICAgICByZXN0b3JlTWV0YVRoZW1lQ29sb3IoKTtcclxuICAgICAgICAgICAgcmVtb3ZlTm9kZShkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoXCIuZGFya3JlYWRlci0tdXNlci1hZ2VudFwiKSk7XHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKFwiLmRhcmtyZWFkZXItLXRleHRcIikpO1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcihcIi5kYXJrcmVhZGVyLS1pbnZlcnRcIikpO1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcihcIi5kYXJrcmVhZGVyLS1pbmxpbmVcIikpO1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKGRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcihcIi5kYXJrcmVhZGVyLS1vdmVycmlkZVwiKSk7XHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKFwiLmRhcmtyZWFkZXItLXZhcmlhYmxlc1wiKSk7XHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKFwiLmRhcmtyZWFkZXItLXJvb3QtdmFyc1wiKSk7XHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUoZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJkYXJrcmVhZGVyXCJdJykpO1xyXG4gICAgICAgICAgICByZW1vdmVQcm94eSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzaGFkb3dSb290c1dpdGhPdmVycmlkZXMuZm9yRWFjaChmdW5jdGlvbiAocm9vdCkge1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKHJvb3QucXVlcnlTZWxlY3RvcihcIi5kYXJrcmVhZGVyLS1pbmxpbmVcIikpO1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKHJvb3QucXVlcnlTZWxlY3RvcihcIi5kYXJrcmVhZGVyLS1vdmVycmlkZVwiKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2hhZG93Um9vdHNXaXRoT3ZlcnJpZGVzLmNsZWFyKCk7XHJcbiAgICAgICAgZm9yRWFjaChzdHlsZU1hbmFnZXJzLmtleXMoKSwgZnVuY3Rpb24gKGVsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZW1vdmVNYW5hZ2VyKGVsKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsb2FkaW5nU3R5bGVzLmNsZWFyKCk7XHJcbiAgICAgICAgY2xlYW5Mb2FkaW5nTGlua3MoKTtcclxuICAgICAgICBmb3JFYWNoKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZGFya3JlYWRlclwiKSwgcmVtb3ZlTm9kZSk7XHJcbiAgICAgICAgYWRvcHRlZFN0eWxlTWFuYWdlcnMuZm9yRWFjaChmdW5jdGlvbiAobWFuYWdlcikge1xyXG4gICAgICAgICAgICBtYW5hZ2VyLmRlc3Ryb3koKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBhZG9wdGVkU3R5bGVNYW5hZ2Vycy5zcGxpY2UoMCk7XHJcbiAgICAgICAgbWV0YU9ic2VydmVyICYmIG1ldGFPYnNlcnZlci5kaXNjb25uZWN0KCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBjbGVhbkR5bmFtaWNUaGVtZUNhY2hlKCkge1xyXG4gICAgICAgIHZhcmlhYmxlc1N0b3JlLmNsZWFyKCk7XHJcbiAgICAgICAgcGFyc2VkVVJMQ2FjaGUuY2xlYXIoKTtcclxuICAgICAgICByZW1vdmVEb2N1bWVudFZpc2liaWxpdHlMaXN0ZW5lcigpO1xyXG4gICAgICAgIGNhbmNlbFJlbmRlcmluZygpO1xyXG4gICAgICAgIHN0b3BXYXRjaGluZ0ZvclVwZGF0ZXMoKTtcclxuICAgICAgICBjbGVhbk1vZGlmaWNhdGlvbkNhY2hlKCk7XHJcbiAgICAgICAgY2xlYXJDb2xvckNhY2hlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGJsb2JSZWdleCA9IC91cmxcXChcXFwiKGJsb2JcXDouKj8pXFxcIlxcKS9nO1xyXG4gICAgZnVuY3Rpb24gcmVwbGFjZUJsb2JzKHRleHQpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9taXNlcywgZGF0YTtcclxuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TWF0Y2hlcyhibG9iUmVnZXgsIHRleHQsIDEpLmZvckVhY2goZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBsb2FkQXNEYXRhVVJMKHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHByb21pc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBQcm9taXNlLmFsbChwcm9taXNlcyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LnJlcGxhY2UoYmxvYlJlZ2V4LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd1cmwoXCInLmNvbmNhdChkYXRhLnNoaWZ0KCksICdcIiknKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdmFyIGJhbm5lciA9XHJcbiAgICAgICAgJy8qXFxuICAgICAgICAgICAgICAgICAgICAgICAgX19fX19fX1xcbiAgICAgICAgICAgICAgICAgICAgICAgLyAgICAgICBcXFxcXFxuICAgICAgICAgICAgICAgICAgICAgIC49PS4gICAgLj09LlxcbiAgICAgICAgICAgICAgICAgICAgICgoICApKT09KCggICkpXFxuICAgICAgICAgICAgICAgICAgICAvIFwiPT1cIiAgICBcIj09XCJcXFxcXFxuICAgICAgICAgICAgICAgICAgIC9fX19ffHwgfHwgfHxfX19cXFxcXFxuICAgICAgIF9fX19fX19fICAgICBfX19fICAgIF9fX19fX19fICBfX18gICAgX19fXFxuICAgICAgIHwgIF9fXyAgXFxcXCAgIC8gICAgXFxcXCAgIHwgIF9fXyAgXFxcXCB8ICB8ICAvICAvXFxuICAgICAgIHwgIHwgIFxcXFwgIFxcXFwgLyAgL1xcXFwgIFxcXFwgIHwgIHwgIFxcXFwgIFxcXFx8ICB8Xy8gIC9cXG4gICAgICAgfCAgfCAgICkgIC8gIC9fX1xcXFwgIFxcXFwgfCAgfF9fLyAgL3wgIF9fXyAgXFxcXFxcbiAgICAgICB8ICB8X18vICAvICBfX19fX18gIFxcXFx8ICBfX19fICBcXFxcfCAgfCAgXFxcXCAgXFxcXFxcbl9fX19fX198X19fX19fXy9fXy8gX19fXyBcXFxcX19cXFxcX198X19fXFxcXF9fXFxcXF9ffF9fX1xcXFxfX1xcXFxfX19fXFxufCAgX19fICBcXFxcIHwgIF9fX18vIC8gICAgXFxcXCAgIHwgIF9fXyAgXFxcXCB8ICBfX19ffCAgX19fICBcXFxcXFxufCAgfCAgXFxcXCAgXFxcXHwgIHxfX18gLyAgL1xcXFwgIFxcXFwgIHwgIHwgIFxcXFwgIFxcXFx8ICB8X19ffCAgfCAgXFxcXCAgXFxcXFxcbnwgIHxfXy8gIC98ICBfX19fLyAgL19fXFxcXCAgXFxcXCB8ICB8ICAgKSAgfCAgX19fX3wgIHxfXy8gIC9cXG58ICBfX19fICBcXFxcfCAgfF9fLyAgX19fX19fICBcXFxcfCAgfF9fLyAgL3wgIHxfX198ICBfX19fICBcXFxcXFxufF9ffCAgIFxcXFxfX1xcXFxfX19fL19fLyAgICAgIFxcXFxfX1xcXFxfX19fX19fLyB8X19fX19ffF9ffCAgIFxcXFxfX1xcXFxcXG4gICAgICAgICAgICAgICAgaHR0cHM6Ly9kYXJrcmVhZGVyLm9yZ1xcbiovXFxuXFxuLyohIERhcmsgcmVhZGVyIGdlbmVyYXRlZCBDU1MgfCBMaWNlbnNlZCB1bmRlciBNSVQgaHR0cHM6Ly9naXRodWIuY29tL2RhcmtyZWFkZXIvZGFya3JlYWRlci9ibG9iL21haW4vTElDRU5TRSAqL1xcbic7XHJcbiAgICBmdW5jdGlvbiBjb2xsZWN0Q1NTKCkge1xyXG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gYWRkU3RhdGljQ1NTKHNlbGVjdG9yLCBjb21tZW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGljU3R5bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0aWNTdHlsZSAmJiBzdGF0aWNTdHlsZS50ZXh0Q29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNzcy5wdXNoKFwiLyogXCIuY29uY2F0KGNvbW1lbnQsIFwiICovXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBjc3MucHVzaChzdGF0aWNTdHlsZS50ZXh0Q29udGVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3NzLnB1c2goXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGNzcywgbW9kaWZpZWRDU1MsIGZvcm1hdHRlZENTUywgX2EsIF9iO1xyXG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3MgPSBbYmFubmVyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkU3RhdGljQ1NTKFwiLmRhcmtyZWFkZXItLWZhbGxiYWNrXCIsIFwiRmFsbGJhY2sgU3R5bGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFN0YXRpY0NTUyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLmRhcmtyZWFkZXItLXVzZXItYWdlbnRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVXNlci1BZ2VudCBTdHlsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFN0YXRpY0NTUyhcIi5kYXJrcmVhZGVyLS10ZXh0XCIsIFwiVGV4dCBTdHlsZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkU3RhdGljQ1NTKFwiLmRhcmtyZWFkZXItLWludmVydFwiLCBcIkludmVydCBTdHlsZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkU3RhdGljQ1NTKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIuZGFya3JlYWRlci0tdmFyaWFibGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlZhcmlhYmxlcyBTdHlsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkQ1NTID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbChcIi5kYXJrcmVhZGVyLS1zeW5jXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvckVhY2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2hlZXQuY3NzUnVsZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChydWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVsZS5jc3NUZXh0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRDU1MucHVzaChydWxlLmNzc1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1vZGlmaWVkQ1NTLmxlbmd0aCkgcmV0dXJuIFszLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkQ1NTID0gZm9ybWF0Q1NTKG1vZGlmaWVkQ1NTLmpvaW4oXCJcXG5cIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjc3MucHVzaChcIi8qIE1vZGlmaWVkIENTUyAqL1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IgPSAoX2EgPSBjc3MpLnB1c2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgcmVwbGFjZUJsb2JzKGZvcm1hdHRlZENTUyldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IuYXBwbHkoX2EsIFtfYy5zZW50KCldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3NzLnB1c2goXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFN0YXRpY0NTUyhcIi5kYXJrcmVhZGVyLS1vdmVycmlkZVwiLCBcIk92ZXJyaWRlIFN0eWxlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIsIGNzcy5qb2luKFwiXFxuXCIpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGlzRGFya1JlYWRlckVuYWJsZWQgPSBmYWxzZTtcclxuICAgIHZhciBpc0lGcmFtZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5zZWxmICE9PSB3aW5kb3cudG9wO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSkoKTtcclxuICAgIGZ1bmN0aW9uIGVuYWJsZSh0aGVtZU9wdGlvbnMsIGZpeGVzKSB7XHJcbiAgICAgICAgaWYgKHRoZW1lT3B0aW9ucyA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgIHRoZW1lT3B0aW9ucyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZml4ZXMgPT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICBmaXhlcyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0aGVtZSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBERUZBVUxUX1RIRU1FKSwgdGhlbWVPcHRpb25zKTtcclxuICAgICAgICBpZiAodGhlbWUuZW5naW5lICE9PSBUaGVtZUVuZ2luZS5keW5hbWljVGhlbWUpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlbWUgZW5naW5lIGlzIG5vdCBzdXBwb3J0ZWQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjcmVhdGVPclVwZGF0ZUR5bmFtaWNUaGVtZUludGVybmFsKHRoZW1lLCBmaXhlcywgaXNJRnJhbWUpO1xyXG4gICAgICAgIGlzRGFya1JlYWRlckVuYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNFbmFibGVkKCkge1xyXG4gICAgICAgIHJldHVybiBpc0RhcmtSZWFkZXJFbmFibGVkO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZGlzYWJsZSgpIHtcclxuICAgICAgICByZW1vdmVEeW5hbWljVGhlbWUoKTtcclxuICAgICAgICBpc0RhcmtSZWFkZXJFbmFibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB2YXIgZGFya1NjaGVtZSA9IG1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCIpO1xyXG4gICAgdmFyIHN0b3JlID0ge1xyXG4gICAgICAgIHRoZW1lT3B0aW9uczogbnVsbCxcclxuICAgICAgICBmaXhlczogbnVsbFxyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIGhhbmRsZUNvbG9yU2NoZW1lKCkge1xyXG4gICAgICAgIGlmIChkYXJrU2NoZW1lLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgZW5hYmxlKHN0b3JlLnRoZW1lT3B0aW9ucywgc3RvcmUuZml4ZXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRpc2FibGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBhdXRvKHRoZW1lT3B0aW9ucywgZml4ZXMpIHtcclxuICAgICAgICBpZiAodGhlbWVPcHRpb25zID09PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgdGhlbWVPcHRpb25zID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmaXhlcyA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgIGZpeGVzID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoZW1lT3B0aW9ucykge1xyXG4gICAgICAgICAgICBzdG9yZSA9IHt0aGVtZU9wdGlvbnM6IHRoZW1lT3B0aW9ucywgZml4ZXM6IGZpeGVzfTtcclxuICAgICAgICAgICAgaGFuZGxlQ29sb3JTY2hlbWUoKTtcclxuICAgICAgICAgICAgaWYgKGlzTWF0Y2hNZWRpYUNoYW5nZUV2ZW50TGlzdGVuZXJTdXBwb3J0ZWQpIHtcclxuICAgICAgICAgICAgICAgIGRhcmtTY2hlbWUuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoYW5kbGVDb2xvclNjaGVtZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkYXJrU2NoZW1lLmFkZExpc3RlbmVyKGhhbmRsZUNvbG9yU2NoZW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChpc01hdGNoTWVkaWFDaGFuZ2VFdmVudExpc3RlbmVyU3VwcG9ydGVkKSB7XHJcbiAgICAgICAgICAgICAgICBkYXJrU2NoZW1lLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaGFuZGxlQ29sb3JTY2hlbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGFya1NjaGVtZS5yZW1vdmVMaXN0ZW5lcihoYW5kbGVDb2xvclNjaGVtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGlzYWJsZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGV4cG9ydEdlbmVyYXRlZENTUygpIHtcclxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgY29sbGVjdENTUygpXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiwgX2Euc2VudCgpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB2YXIgc2V0RmV0Y2hNZXRob2QgPSBzZXRGZXRjaE1ldGhvZCQxO1xyXG5cclxuICAgIGV4cG9ydHMuYXV0byA9IGF1dG87XHJcbiAgICBleHBvcnRzLmRpc2FibGUgPSBkaXNhYmxlO1xyXG4gICAgZXhwb3J0cy5lbmFibGUgPSBlbmFibGU7XHJcbiAgICBleHBvcnRzLmV4cG9ydEdlbmVyYXRlZENTUyA9IGV4cG9ydEdlbmVyYXRlZENTUztcclxuICAgIGV4cG9ydHMuaXNFbmFibGVkID0gaXNFbmFibGVkO1xyXG4gICAgZXhwb3J0cy5zZXRGZXRjaE1ldGhvZCA9IHNldEZldGNoTWV0aG9kO1xyXG5cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge3ZhbHVlOiB0cnVlfSk7XHJcbn0pO1xyXG4iLCAiLyoqXG4gKiBGdXNlLmpzIHY3LjAuMCAtIExpZ2h0d2VpZ2h0IGZ1enp5LXNlYXJjaCAoaHR0cDovL2Z1c2Vqcy5pbylcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjMgS2lybyBSaXNrIChodHRwOi8va2lyby5tZSlcbiAqIEFsbCBSaWdodHMgUmVzZXJ2ZWQuIEFwYWNoZSBTb2Z0d2FyZSBMaWNlbnNlIDIuMFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTtcbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTtcbiAgICBlbnVtZXJhYmxlT25seSAmJiAoc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlO1xuICAgIH0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpO1xuICB9XG4gIHJldHVybiBrZXlzO1xufVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307XG4gICAgaSAlIDIgPyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKSA6IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7XG4gIFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjtcblxuICByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iajtcbiAgfSA6IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xuICB9LCBfdHlwZW9mKG9iaik7XG59XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7XG4gICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgX3RvUHJvcGVydHlLZXkoZGVzY3JpcHRvci5rZXkpLCBkZXNjcmlwdG9yKTtcbiAgfVxufVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uc3RydWN0b3IsIFwicHJvdG90eXBlXCIsIHtcbiAgICB3cml0YWJsZTogZmFsc2VcbiAgfSk7XG4gIHJldHVybiBDb25zdHJ1Y3Rvcjtcbn1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAga2V5ID0gX3RvUHJvcGVydHlLZXkoa2V5KTtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO1xuICB9XG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogc3ViQ2xhc3MsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH1cbiAgfSk7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzdWJDbGFzcywgXCJwcm90b3R5cGVcIiwge1xuICAgIHdyaXRhYmxlOiBmYWxzZVxuICB9KTtcbiAgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7XG59XG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gICAgby5fX3Byb3RvX18gPSBwO1xuICAgIHJldHVybiBvO1xuICB9O1xuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiIHx8ICFSZWZsZWN0LmNvbnN0cnVjdCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoUmVmbGVjdC5jb25zdHJ1Y3Quc2hhbSkgcmV0dXJuIGZhbHNlO1xuICBpZiAodHlwZW9mIFByb3h5ID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiB0cnVlO1xuICB0cnkge1xuICAgIEJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7XG4gIGlmIChzZWxmID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7XG4gIH1cbiAgcmV0dXJuIHNlbGY7XG59XG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7XG4gIGlmIChjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkge1xuICAgIHJldHVybiBjYWxsO1xuICB9IGVsc2UgaWYgKGNhbGwgIT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTtcbiAgfVxuICByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTtcbn1cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcihEZXJpdmVkKSB7XG4gIHZhciBoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpO1xuICByZXR1cm4gZnVuY3Rpb24gX2NyZWF0ZVN1cGVySW50ZXJuYWwoKSB7XG4gICAgdmFyIFN1cGVyID0gX2dldFByb3RvdHlwZU9mKERlcml2ZWQpLFxuICAgICAgcmVzdWx0O1xuICAgIGlmIChoYXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KSB7XG4gICAgICB2YXIgTmV3VGFyZ2V0ID0gX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yO1xuICAgICAgcmVzdWx0ID0gUmVmbGVjdC5jb25zdHJ1Y3QoU3VwZXIsIGFyZ3VtZW50cywgTmV3VGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gU3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIHJlc3VsdCk7XG4gIH07XG59XG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7XG4gIHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5KGFycikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFycikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7XG59XG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMoYXJyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShhcnIpO1xufVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShpdGVyKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGl0ZXJbU3ltYm9sLml0ZXJhdG9yXSAhPSBudWxsIHx8IGl0ZXJbXCJAQGl0ZXJhdG9yXCJdICE9IG51bGwpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpO1xufVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikge1xuICBpZiAoIW8pIHJldHVybjtcbiAgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTtcbiAgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpO1xuICBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lO1xuICBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTtcbiAgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pO1xufVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHtcbiAgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgYXJyMltpXSA9IGFycltpXTtcbiAgcmV0dXJuIGFycjI7XG59XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpO1xufVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7XG4gIGlmICh0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDtcbiAgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdO1xuICBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIHJlcyA9IHByaW0uY2FsbChpbnB1dCwgaGludCB8fCBcImRlZmF1bHRcIik7XG4gICAgaWYgKHR5cGVvZiByZXMgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpO1xuICB9XG4gIHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpO1xufVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7XG4gIHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTtcbiAgcmV0dXJuIHR5cGVvZiBrZXkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTtcbn1cblxuZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gIUFycmF5LmlzQXJyYXkgPyBnZXRUYWcodmFsdWUpID09PSAnW29iamVjdCBBcnJheV0nIDogQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2xvZGFzaC9sb2Rhc2gvYmxvYi9tYXN0ZXIvLmludGVybmFsL2Jhc2VUb1N0cmluZy5qc1xudmFyIElORklOSVRZID0gMSAvIDA7XG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gdmFsdWUgKyAnJztcbiAgcmV0dXJuIHJlc3VsdCA9PSAnMCcgJiYgMSAvIHZhbHVlID09IC1JTkZJTklUWSA/ICctMCcgOiByZXN1bHQ7XG59XG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO1xufVxuZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2xvZGFzaC9sb2Rhc2gvYmxvYi9tYXN0ZXIvaXNCb29sZWFuLmpzXG5mdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZSB8fCBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gJ1tvYmplY3QgQm9vbGVhbl0nO1xufVxuZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgcmV0dXJuIF90eXBlb2YodmFsdWUpID09PSAnb2JqZWN0Jztcbn1cblxuLy8gQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzQmxhbmsodmFsdWUpIHtcbiAgcmV0dXJuICF2YWx1ZS50cmltKCkubGVuZ3RoO1xufVxuXG4vLyBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4vLyBBZGFwdGVkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9sb2Rhc2gvbG9kYXNoL2Jsb2IvbWFzdGVyLy5pbnRlcm5hbC9nZXRUYWcuanNcbmZ1bmN0aW9uIGdldFRhZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IHZhbHVlID09PSB1bmRlZmluZWQgPyAnW29iamVjdCBVbmRlZmluZWRdJyA6ICdbb2JqZWN0IE51bGxdJyA6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbnZhciBFWFRFTkRFRF9TRUFSQ0hfVU5BVkFJTEFCTEUgPSAnRXh0ZW5kZWQgc2VhcmNoIGlzIG5vdCBhdmFpbGFibGUnO1xudmFyIElOQ09SUkVDVF9JTkRFWF9UWVBFID0gXCJJbmNvcnJlY3QgJ2luZGV4JyB0eXBlXCI7XG52YXIgTE9HSUNBTF9TRUFSQ0hfSU5WQUxJRF9RVUVSWV9GT1JfS0VZID0gZnVuY3Rpb24gTE9HSUNBTF9TRUFSQ0hfSU5WQUxJRF9RVUVSWV9GT1JfS0VZKGtleSkge1xuICByZXR1cm4gXCJJbnZhbGlkIHZhbHVlIGZvciBrZXkgXCIuY29uY2F0KGtleSk7XG59O1xudmFyIFBBVFRFUk5fTEVOR1RIX1RPT19MQVJHRSA9IGZ1bmN0aW9uIFBBVFRFUk5fTEVOR1RIX1RPT19MQVJHRShtYXgpIHtcbiAgcmV0dXJuIFwiUGF0dGVybiBsZW5ndGggZXhjZWVkcyBtYXggb2YgXCIuY29uY2F0KG1heCwgXCIuXCIpO1xufTtcbnZhciBNSVNTSU5HX0tFWV9QUk9QRVJUWSA9IGZ1bmN0aW9uIE1JU1NJTkdfS0VZX1BST1BFUlRZKG5hbWUpIHtcbiAgcmV0dXJuIFwiTWlzc2luZyBcIi5jb25jYXQobmFtZSwgXCIgcHJvcGVydHkgaW4ga2V5XCIpO1xufTtcbnZhciBJTlZBTElEX0tFWV9XRUlHSFRfVkFMVUUgPSBmdW5jdGlvbiBJTlZBTElEX0tFWV9XRUlHSFRfVkFMVUUoa2V5KSB7XG4gIHJldHVybiBcIlByb3BlcnR5ICd3ZWlnaHQnIGluIGtleSAnXCIuY29uY2F0KGtleSwgXCInIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyXCIpO1xufTtcblxudmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgS2V5U3RvcmUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBLZXlTdG9yZShrZXlzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgS2V5U3RvcmUpO1xuICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICB0aGlzLl9rZXlNYXAgPSB7fTtcbiAgICB2YXIgdG90YWxXZWlnaHQgPSAwO1xuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgb2JqID0gY3JlYXRlS2V5KGtleSk7XG4gICAgICBfdGhpcy5fa2V5cy5wdXNoKG9iaik7XG4gICAgICBfdGhpcy5fa2V5TWFwW29iai5pZF0gPSBvYmo7XG4gICAgICB0b3RhbFdlaWdodCArPSBvYmoud2VpZ2h0O1xuICAgIH0pO1xuXG4gICAgLy8gTm9ybWFsaXplIHdlaWdodHMgc28gdGhhdCB0aGVpciBzdW0gaXMgZXF1YWwgdG8gMVxuICAgIHRoaXMuX2tleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBrZXkud2VpZ2h0IC89IHRvdGFsV2VpZ2h0O1xuICAgIH0pO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhLZXlTdG9yZSwgW3tcbiAgICBrZXk6IFwiZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldChrZXlJZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2tleU1hcFtrZXlJZF07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImtleXNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24ga2V5cygpIHtcbiAgICAgIHJldHVybiB0aGlzLl9rZXlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ0b0pTT05cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuX2tleXMpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gS2V5U3RvcmU7XG59KCk7XG5mdW5jdGlvbiBjcmVhdGVLZXkoa2V5KSB7XG4gIHZhciBwYXRoID0gbnVsbDtcbiAgdmFyIGlkID0gbnVsbDtcbiAgdmFyIHNyYyA9IG51bGw7XG4gIHZhciB3ZWlnaHQgPSAxO1xuICB2YXIgZ2V0Rm4gPSBudWxsO1xuICBpZiAoaXNTdHJpbmcoa2V5KSB8fCBpc0FycmF5KGtleSkpIHtcbiAgICBzcmMgPSBrZXk7XG4gICAgcGF0aCA9IGNyZWF0ZUtleVBhdGgoa2V5KTtcbiAgICBpZCA9IGNyZWF0ZUtleUlkKGtleSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFoYXNPd24uY2FsbChrZXksICduYW1lJykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihNSVNTSU5HX0tFWV9QUk9QRVJUWSgnbmFtZScpKTtcbiAgICB9XG4gICAgdmFyIG5hbWUgPSBrZXkubmFtZTtcbiAgICBzcmMgPSBuYW1lO1xuICAgIGlmIChoYXNPd24uY2FsbChrZXksICd3ZWlnaHQnKSkge1xuICAgICAgd2VpZ2h0ID0ga2V5LndlaWdodDtcbiAgICAgIGlmICh3ZWlnaHQgPD0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoSU5WQUxJRF9LRVlfV0VJR0hUX1ZBTFVFKG5hbWUpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcGF0aCA9IGNyZWF0ZUtleVBhdGgobmFtZSk7XG4gICAgaWQgPSBjcmVhdGVLZXlJZChuYW1lKTtcbiAgICBnZXRGbiA9IGtleS5nZXRGbjtcbiAgfVxuICByZXR1cm4ge1xuICAgIHBhdGg6IHBhdGgsXG4gICAgaWQ6IGlkLFxuICAgIHdlaWdodDogd2VpZ2h0LFxuICAgIHNyYzogc3JjLFxuICAgIGdldEZuOiBnZXRGblxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlS2V5UGF0aChrZXkpIHtcbiAgcmV0dXJuIGlzQXJyYXkoa2V5KSA/IGtleSA6IGtleS5zcGxpdCgnLicpO1xufVxuZnVuY3Rpb24gY3JlYXRlS2V5SWQoa2V5KSB7XG4gIHJldHVybiBpc0FycmF5KGtleSkgPyBrZXkuam9pbignLicpIDoga2V5O1xufVxuXG5mdW5jdGlvbiBnZXQob2JqLCBwYXRoKSB7XG4gIHZhciBsaXN0ID0gW107XG4gIHZhciBhcnIgPSBmYWxzZTtcbiAgdmFyIGRlZXBHZXQgPSBmdW5jdGlvbiBkZWVwR2V0KG9iaiwgcGF0aCwgaW5kZXgpIHtcbiAgICBpZiAoIWlzRGVmaW5lZChvYmopKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghcGF0aFtpbmRleF0pIHtcbiAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gcGF0aCBsZWZ0LCB3ZSd2ZSBhcnJpdmVkIGF0IHRoZSBvYmplY3Qgd2UgY2FyZSBhYm91dC5cbiAgICAgIGxpc3QucHVzaChvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIga2V5ID0gcGF0aFtpbmRleF07XG4gICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgIGlmICghaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHdlJ3JlIGF0IHRoZSBsYXN0IHZhbHVlIGluIHRoZSBwYXRoLCBhbmQgaWYgaXQncyBhIHN0cmluZy9udW1iZXIvYm9vbCxcbiAgICAgIC8vIGFkZCBpdCB0byB0aGUgbGlzdFxuICAgICAgaWYgKGluZGV4ID09PSBwYXRoLmxlbmd0aCAtIDEgJiYgKGlzU3RyaW5nKHZhbHVlKSB8fCBpc051bWJlcih2YWx1ZSkgfHwgaXNCb29sZWFuKHZhbHVlKSkpIHtcbiAgICAgICAgbGlzdC5wdXNoKHRvU3RyaW5nKHZhbHVlKSk7XG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGFyciA9IHRydWU7XG4gICAgICAgIC8vIFNlYXJjaCBlYWNoIGl0ZW0gaW4gdGhlIGFycmF5LlxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgICBkZWVwR2V0KHZhbHVlW2ldLCBwYXRoLCBpbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhdGgubGVuZ3RoKSB7XG4gICAgICAgIC8vIEFuIG9iamVjdC4gUmVjdXJzZSBmdXJ0aGVyLlxuICAgICAgICBkZWVwR2V0KHZhbHVlLCBwYXRoLCBpbmRleCArIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSAoc2luY2UgcGF0aCB1c2VkIHRvIGJlIGEgc3RyaW5nKVxuICBkZWVwR2V0KG9iaiwgaXNTdHJpbmcocGF0aCkgPyBwYXRoLnNwbGl0KCcuJykgOiBwYXRoLCAwKTtcbiAgcmV0dXJuIGFyciA/IGxpc3QgOiBsaXN0WzBdO1xufVxuXG52YXIgTWF0Y2hPcHRpb25zID0ge1xuICAvLyBXaGV0aGVyIHRoZSBtYXRjaGVzIHNob3VsZCBiZSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0IHNldC4gV2hlbiBgdHJ1ZWAsIGVhY2ggcmVjb3JkIGluIHRoZSByZXN1bHRcbiAgLy8gc2V0IHdpbGwgaW5jbHVkZSB0aGUgaW5kaWNlcyBvZiB0aGUgbWF0Y2hlZCBjaGFyYWN0ZXJzLlxuICAvLyBUaGVzZSBjYW4gY29uc2VxdWVudGx5IGJlIHVzZWQgZm9yIGhpZ2hsaWdodGluZyBwdXJwb3Nlcy5cbiAgaW5jbHVkZU1hdGNoZXM6IGZhbHNlLFxuICAvLyBXaGVuIGB0cnVlYCwgdGhlIG1hdGNoaW5nIGZ1bmN0aW9uIHdpbGwgY29udGludWUgdG8gdGhlIGVuZCBvZiBhIHNlYXJjaCBwYXR0ZXJuIGV2ZW4gaWZcbiAgLy8gYSBwZXJmZWN0IG1hdGNoIGhhcyBhbHJlYWR5IGJlZW4gbG9jYXRlZCBpbiB0aGUgc3RyaW5nLlxuICBmaW5kQWxsTWF0Y2hlczogZmFsc2UsXG4gIC8vIE1pbmltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgdGhhdCBtdXN0IGJlIG1hdGNoZWQgYmVmb3JlIGEgcmVzdWx0IGlzIGNvbnNpZGVyZWQgYSBtYXRjaFxuICBtaW5NYXRjaENoYXJMZW5ndGg6IDFcbn07XG52YXIgQmFzaWNPcHRpb25zID0ge1xuICAvLyBXaGVuIGB0cnVlYCwgdGhlIGFsZ29yaXRobSBjb250aW51ZXMgc2VhcmNoaW5nIHRvIHRoZSBlbmQgb2YgdGhlIGlucHV0IGV2ZW4gaWYgYSBwZXJmZWN0XG4gIC8vIG1hdGNoIGlzIGZvdW5kIGJlZm9yZSB0aGUgZW5kIG9mIHRoZSBzYW1lIGlucHV0LlxuICBpc0Nhc2VTZW5zaXRpdmU6IGZhbHNlLFxuICAvLyBXaGVuIHRydWUsIHRoZSBtYXRjaGluZyBmdW5jdGlvbiB3aWxsIGNvbnRpbnVlIHRvIHRoZSBlbmQgb2YgYSBzZWFyY2ggcGF0dGVybiBldmVuIGlmXG4gIGluY2x1ZGVTY29yZTogZmFsc2UsXG4gIC8vIExpc3Qgb2YgcHJvcGVydGllcyB0aGF0IHdpbGwgYmUgc2VhcmNoZWQuIFRoaXMgYWxzbyBzdXBwb3J0cyBuZXN0ZWQgcHJvcGVydGllcy5cbiAga2V5czogW10sXG4gIC8vIFdoZXRoZXIgdG8gc29ydCB0aGUgcmVzdWx0IGxpc3QsIGJ5IHNjb3JlXG4gIHNob3VsZFNvcnQ6IHRydWUsXG4gIC8vIERlZmF1bHQgc29ydCBmdW5jdGlvbjogc29ydCBieSBhc2NlbmRpbmcgc2NvcmUsIGFzY2VuZGluZyBpbmRleFxuICBzb3J0Rm46IGZ1bmN0aW9uIHNvcnRGbihhLCBiKSB7XG4gICAgcmV0dXJuIGEuc2NvcmUgPT09IGIuc2NvcmUgPyBhLmlkeCA8IGIuaWR4ID8gLTEgOiAxIDogYS5zY29yZSA8IGIuc2NvcmUgPyAtMSA6IDE7XG4gIH1cbn07XG52YXIgRnV6enlPcHRpb25zID0ge1xuICAvLyBBcHByb3hpbWF0ZWx5IHdoZXJlIGluIHRoZSB0ZXh0IGlzIHRoZSBwYXR0ZXJuIGV4cGVjdGVkIHRvIGJlIGZvdW5kP1xuICBsb2NhdGlvbjogMCxcbiAgLy8gQXQgd2hhdCBwb2ludCBkb2VzIHRoZSBtYXRjaCBhbGdvcml0aG0gZ2l2ZSB1cC4gQSB0aHJlc2hvbGQgb2YgJzAuMCcgcmVxdWlyZXMgYSBwZXJmZWN0IG1hdGNoXG4gIC8vIChvZiBib3RoIGxldHRlcnMgYW5kIGxvY2F0aW9uKSwgYSB0aHJlc2hvbGQgb2YgJzEuMCcgd291bGQgbWF0Y2ggYW55dGhpbmcuXG4gIHRocmVzaG9sZDogMC42LFxuICAvLyBEZXRlcm1pbmVzIGhvdyBjbG9zZSB0aGUgbWF0Y2ggbXVzdCBiZSB0byB0aGUgZnV6enkgbG9jYXRpb24gKHNwZWNpZmllZCBhYm92ZSkuXG4gIC8vIEFuIGV4YWN0IGxldHRlciBtYXRjaCB3aGljaCBpcyAnZGlzdGFuY2UnIGNoYXJhY3RlcnMgYXdheSBmcm9tIHRoZSBmdXp6eSBsb2NhdGlvblxuICAvLyB3b3VsZCBzY29yZSBhcyBhIGNvbXBsZXRlIG1pc21hdGNoLiBBIGRpc3RhbmNlIG9mICcwJyByZXF1aXJlcyB0aGUgbWF0Y2ggYmUgYXRcbiAgLy8gdGhlIGV4YWN0IGxvY2F0aW9uIHNwZWNpZmllZCwgYSB0aHJlc2hvbGQgb2YgJzEwMDAnIHdvdWxkIHJlcXVpcmUgYSBwZXJmZWN0IG1hdGNoXG4gIC8vIHRvIGJlIHdpdGhpbiA4MDAgY2hhcmFjdGVycyBvZiB0aGUgZnV6enkgbG9jYXRpb24gdG8gYmUgZm91bmQgdXNpbmcgYSAwLjggdGhyZXNob2xkLlxuICBkaXN0YW5jZTogMTAwXG59O1xudmFyIEFkdmFuY2VkT3B0aW9ucyA9IHtcbiAgLy8gV2hlbiBgdHJ1ZWAsIGl0IGVuYWJsZXMgdGhlIHVzZSBvZiB1bml4LWxpa2Ugc2VhcmNoIGNvbW1hbmRzXG4gIHVzZUV4dGVuZGVkU2VhcmNoOiBmYWxzZSxcbiAgLy8gVGhlIGdldCBmdW5jdGlvbiB0byB1c2Ugd2hlbiBmZXRjaGluZyBhbiBvYmplY3QncyBwcm9wZXJ0aWVzLlxuICAvLyBUaGUgZGVmYXVsdCB3aWxsIHNlYXJjaCBuZXN0ZWQgcGF0aHMgKmllIGZvby5iYXIuYmF6KlxuICBnZXRGbjogZ2V0LFxuICAvLyBXaGVuIGB0cnVlYCwgc2VhcmNoIHdpbGwgaWdub3JlIGBsb2NhdGlvbmAgYW5kIGBkaXN0YW5jZWAsIHNvIGl0IHdvbid0IG1hdHRlclxuICAvLyB3aGVyZSBpbiB0aGUgc3RyaW5nIHRoZSBwYXR0ZXJuIGFwcGVhcnMuXG4gIC8vIE1vcmUgaW5mbzogaHR0cHM6Ly9mdXNlanMuaW8vY29uY2VwdHMvc2NvcmluZy10aGVvcnkuaHRtbCNmdXp6aW5lc3Mtc2NvcmVcbiAgaWdub3JlTG9jYXRpb246IGZhbHNlLFxuICAvLyBXaGVuIGB0cnVlYCwgdGhlIGNhbGN1bGF0aW9uIGZvciB0aGUgcmVsZXZhbmNlIHNjb3JlICh1c2VkIGZvciBzb3J0aW5nKSB3aWxsXG4gIC8vIGlnbm9yZSB0aGUgZmllbGQtbGVuZ3RoIG5vcm0uXG4gIC8vIE1vcmUgaW5mbzogaHR0cHM6Ly9mdXNlanMuaW8vY29uY2VwdHMvc2NvcmluZy10aGVvcnkuaHRtbCNmaWVsZC1sZW5ndGgtbm9ybVxuICBpZ25vcmVGaWVsZE5vcm06IGZhbHNlLFxuICAvLyBUaGUgd2VpZ2h0IHRvIGRldGVybWluZSBob3cgbXVjaCBmaWVsZCBsZW5ndGggbm9ybSBlZmZlY3RzIHNjb3JpbmcuXG4gIGZpZWxkTm9ybVdlaWdodDogMVxufTtcbnZhciBDb25maWcgPSBfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMihfb2JqZWN0U3ByZWFkMih7fSwgQmFzaWNPcHRpb25zKSwgTWF0Y2hPcHRpb25zKSwgRnV6enlPcHRpb25zKSwgQWR2YW5jZWRPcHRpb25zKTtcblxudmFyIFNQQUNFID0gL1teIF0rL2c7XG5cbi8vIEZpZWxkLWxlbmd0aCBub3JtOiB0aGUgc2hvcnRlciB0aGUgZmllbGQsIHRoZSBoaWdoZXIgdGhlIHdlaWdodC5cbi8vIFNldCB0byAzIGRlY2ltYWxzIHRvIHJlZHVjZSBpbmRleCBzaXplLlxuZnVuY3Rpb24gbm9ybSgpIHtcbiAgdmFyIHdlaWdodCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTtcbiAgdmFyIG1hbnRpc3NhID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAzO1xuICB2YXIgY2FjaGUgPSBuZXcgTWFwKCk7XG4gIHZhciBtID0gTWF0aC5wb3coMTAsIG1hbnRpc3NhKTtcbiAgcmV0dXJuIHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCh2YWx1ZSkge1xuICAgICAgdmFyIG51bVRva2VucyA9IHZhbHVlLm1hdGNoKFNQQUNFKS5sZW5ndGg7XG4gICAgICBpZiAoY2FjaGUuaGFzKG51bVRva2VucykpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlLmdldChudW1Ub2tlbnMpO1xuICAgICAgfVxuXG4gICAgICAvLyBEZWZhdWx0IGZ1bmN0aW9uIGlzIDEvc3FydCh4KSwgd2VpZ2h0IG1ha2VzIHRoYXQgdmFyaWFibGVcbiAgICAgIHZhciBub3JtID0gMSAvIE1hdGgucG93KG51bVRva2VucywgMC41ICogd2VpZ2h0KTtcblxuICAgICAgLy8gSW4gcGxhY2Ugb2YgYHRvRml4ZWQobWFudGlzc2EpYCwgZm9yIGZhc3RlciBjb21wdXRhdGlvblxuICAgICAgdmFyIG4gPSBwYXJzZUZsb2F0KE1hdGgucm91bmQobm9ybSAqIG0pIC8gbSk7XG4gICAgICBjYWNoZS5zZXQobnVtVG9rZW5zLCBuKTtcbiAgICAgIHJldHVybiBuO1xuICAgIH0sXG4gICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgY2FjaGUuY2xlYXIoKTtcbiAgICB9XG4gIH07XG59XG5cbnZhciBGdXNlSW5kZXggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBGdXNlSW5kZXgoKSB7XG4gICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgX3JlZiRnZXRGbiA9IF9yZWYuZ2V0Rm4sXG4gICAgICBnZXRGbiA9IF9yZWYkZ2V0Rm4gPT09IHZvaWQgMCA/IENvbmZpZy5nZXRGbiA6IF9yZWYkZ2V0Rm4sXG4gICAgICBfcmVmJGZpZWxkTm9ybVdlaWdodCA9IF9yZWYuZmllbGROb3JtV2VpZ2h0LFxuICAgICAgZmllbGROb3JtV2VpZ2h0ID0gX3JlZiRmaWVsZE5vcm1XZWlnaHQgPT09IHZvaWQgMCA/IENvbmZpZy5maWVsZE5vcm1XZWlnaHQgOiBfcmVmJGZpZWxkTm9ybVdlaWdodDtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRnVzZUluZGV4KTtcbiAgICB0aGlzLm5vcm0gPSBub3JtKGZpZWxkTm9ybVdlaWdodCwgMyk7XG4gICAgdGhpcy5nZXRGbiA9IGdldEZuO1xuICAgIHRoaXMuaXNDcmVhdGVkID0gZmFsc2U7XG4gICAgdGhpcy5zZXRJbmRleFJlY29yZHMoKTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoRnVzZUluZGV4LCBbe1xuICAgIGtleTogXCJzZXRTb3VyY2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNvdXJjZXMoKSB7XG4gICAgICB2YXIgZG9jcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gICAgICB0aGlzLmRvY3MgPSBkb2NzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZXRJbmRleFJlY29yZHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0SW5kZXhSZWNvcmRzKCkge1xuICAgICAgdmFyIHJlY29yZHMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IFtdO1xuICAgICAgdGhpcy5yZWNvcmRzID0gcmVjb3JkcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2V0S2V5c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRLZXlzKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHZhciBrZXlzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcbiAgICAgIHRoaXMua2V5cyA9IGtleXM7XG4gICAgICB0aGlzLl9rZXlzTWFwID0ge307XG4gICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaWR4KSB7XG4gICAgICAgIF90aGlzLl9rZXlzTWFwW2tleS5pZF0gPSBpZHg7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgaWYgKHRoaXMuaXNDcmVhdGVkIHx8ICF0aGlzLmRvY3MubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNDcmVhdGVkID0gdHJ1ZTtcblxuICAgICAgLy8gTGlzdCBpcyBBcnJheTxTdHJpbmc+XG4gICAgICBpZiAoaXNTdHJpbmcodGhpcy5kb2NzWzBdKSkge1xuICAgICAgICB0aGlzLmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jLCBkb2NJbmRleCkge1xuICAgICAgICAgIF90aGlzMi5fYWRkU3RyaW5nKGRvYywgZG9jSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIExpc3QgaXMgQXJyYXk8T2JqZWN0PlxuICAgICAgICB0aGlzLmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jLCBkb2NJbmRleCkge1xuICAgICAgICAgIF90aGlzMi5fYWRkT2JqZWN0KGRvYywgZG9jSW5kZXgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMubm9ybS5jbGVhcigpO1xuICAgIH1cbiAgICAvLyBBZGRzIGEgZG9jIHRvIHRoZSBlbmQgb2YgdGhlIGluZGV4XG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChkb2MpIHtcbiAgICAgIHZhciBpZHggPSB0aGlzLnNpemUoKTtcbiAgICAgIGlmIChpc1N0cmluZyhkb2MpKSB7XG4gICAgICAgIHRoaXMuX2FkZFN0cmluZyhkb2MsIGlkeCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9hZGRPYmplY3QoZG9jLCBpZHgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmVzIHRoZSBkb2MgYXQgdGhlIHNwZWNpZmllZCBpbmRleCBvZiB0aGUgaW5kZXhcbiAgfSwge1xuICAgIGtleTogXCJyZW1vdmVBdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVBdChpZHgpIHtcbiAgICAgIHRoaXMucmVjb3Jkcy5zcGxpY2UoaWR4LCAxKTtcblxuICAgICAgLy8gQ2hhbmdlIHJlZiBpbmRleCBvZiBldmVyeSBzdWJzcXVlbnQgZG9jXG4gICAgICBmb3IgKHZhciBpID0gaWR4LCBsZW4gPSB0aGlzLnNpemUoKTsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgIHRoaXMucmVjb3Jkc1tpXS5pIC09IDE7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFZhbHVlRm9ySXRlbUF0S2V5SWRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWVGb3JJdGVtQXRLZXlJZChpdGVtLCBrZXlJZCkge1xuICAgICAgcmV0dXJuIGl0ZW1bdGhpcy5fa2V5c01hcFtrZXlJZF1dO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaXplXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNpemUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWNvcmRzLmxlbmd0aDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX2FkZFN0cmluZ1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfYWRkU3RyaW5nKGRvYywgZG9jSW5kZXgpIHtcbiAgICAgIGlmICghaXNEZWZpbmVkKGRvYykgfHwgaXNCbGFuayhkb2MpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciByZWNvcmQgPSB7XG4gICAgICAgIHY6IGRvYyxcbiAgICAgICAgaTogZG9jSW5kZXgsXG4gICAgICAgIG46IHRoaXMubm9ybS5nZXQoZG9jKVxuICAgICAgfTtcbiAgICAgIHRoaXMucmVjb3Jkcy5wdXNoKHJlY29yZCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9hZGRPYmplY3RcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZE9iamVjdChkb2MsIGRvY0luZGV4KSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcbiAgICAgIHZhciByZWNvcmQgPSB7XG4gICAgICAgIGk6IGRvY0luZGV4LFxuICAgICAgICAkOiB7fVxuICAgICAgfTtcblxuICAgICAgLy8gSXRlcmF0ZSBvdmVyIGV2ZXJ5IGtleSAoaS5lLCBwYXRoKSwgYW5kIGZldGNoIHRoZSB2YWx1ZSBhdCB0aGF0IGtleVxuICAgICAgdGhpcy5rZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSwga2V5SW5kZXgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0ga2V5LmdldEZuID8ga2V5LmdldEZuKGRvYykgOiBfdGhpczMuZ2V0Rm4oZG9jLCBrZXkucGF0aCk7XG4gICAgICAgIGlmICghaXNEZWZpbmVkKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICB2YXIgc3ViUmVjb3JkcyA9IFtdO1xuICAgICAgICAgIHZhciBzdGFjayA9IFt7XG4gICAgICAgICAgICBuZXN0ZWRBcnJJbmRleDogLTEsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICB9XTtcbiAgICAgICAgICB3aGlsZSAoc3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgX3N0YWNrJHBvcCA9IHN0YWNrLnBvcCgpLFxuICAgICAgICAgICAgICBuZXN0ZWRBcnJJbmRleCA9IF9zdGFjayRwb3AubmVzdGVkQXJySW5kZXgsXG4gICAgICAgICAgICAgIF92YWx1ZSA9IF9zdGFjayRwb3AudmFsdWU7XG4gICAgICAgICAgICBpZiAoIWlzRGVmaW5lZChfdmFsdWUpKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKF92YWx1ZSkgJiYgIWlzQmxhbmsoX3ZhbHVlKSkge1xuICAgICAgICAgICAgICB2YXIgc3ViUmVjb3JkID0ge1xuICAgICAgICAgICAgICAgIHY6IF92YWx1ZSxcbiAgICAgICAgICAgICAgICBpOiBuZXN0ZWRBcnJJbmRleCxcbiAgICAgICAgICAgICAgICBuOiBfdGhpczMubm9ybS5nZXQoX3ZhbHVlKVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBzdWJSZWNvcmRzLnB1c2goc3ViUmVjb3JkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShfdmFsdWUpKSB7XG4gICAgICAgICAgICAgIF92YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBrKSB7XG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgICAgICBuZXN0ZWRBcnJJbmRleDogayxcbiAgICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVjb3JkLiRba2V5SW5kZXhdID0gc3ViUmVjb3JkcztcbiAgICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyh2YWx1ZSkgJiYgIWlzQmxhbmsodmFsdWUpKSB7XG4gICAgICAgICAgdmFyIF9zdWJSZWNvcmQgPSB7XG4gICAgICAgICAgICB2OiB2YWx1ZSxcbiAgICAgICAgICAgIG46IF90aGlzMy5ub3JtLmdldCh2YWx1ZSlcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlY29yZC4kW2tleUluZGV4XSA9IF9zdWJSZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZWNvcmRzLnB1c2gocmVjb3JkKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwidG9KU09OXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtleXM6IHRoaXMua2V5cyxcbiAgICAgICAgcmVjb3JkczogdGhpcy5yZWNvcmRzXG4gICAgICB9O1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gRnVzZUluZGV4O1xufSgpO1xuZnVuY3Rpb24gY3JlYXRlSW5kZXgoa2V5cywgZG9jcykge1xuICB2YXIgX3JlZjIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9LFxuICAgIF9yZWYyJGdldEZuID0gX3JlZjIuZ2V0Rm4sXG4gICAgZ2V0Rm4gPSBfcmVmMiRnZXRGbiA9PT0gdm9pZCAwID8gQ29uZmlnLmdldEZuIDogX3JlZjIkZ2V0Rm4sXG4gICAgX3JlZjIkZmllbGROb3JtV2VpZ2h0ID0gX3JlZjIuZmllbGROb3JtV2VpZ2h0LFxuICAgIGZpZWxkTm9ybVdlaWdodCA9IF9yZWYyJGZpZWxkTm9ybVdlaWdodCA9PT0gdm9pZCAwID8gQ29uZmlnLmZpZWxkTm9ybVdlaWdodCA6IF9yZWYyJGZpZWxkTm9ybVdlaWdodDtcbiAgdmFyIG15SW5kZXggPSBuZXcgRnVzZUluZGV4KHtcbiAgICBnZXRGbjogZ2V0Rm4sXG4gICAgZmllbGROb3JtV2VpZ2h0OiBmaWVsZE5vcm1XZWlnaHRcbiAgfSk7XG4gIG15SW5kZXguc2V0S2V5cyhrZXlzLm1hcChjcmVhdGVLZXkpKTtcbiAgbXlJbmRleC5zZXRTb3VyY2VzKGRvY3MpO1xuICBteUluZGV4LmNyZWF0ZSgpO1xuICByZXR1cm4gbXlJbmRleDtcbn1cbmZ1bmN0aW9uIHBhcnNlSW5kZXgoZGF0YSkge1xuICB2YXIgX3JlZjMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuICAgIF9yZWYzJGdldEZuID0gX3JlZjMuZ2V0Rm4sXG4gICAgZ2V0Rm4gPSBfcmVmMyRnZXRGbiA9PT0gdm9pZCAwID8gQ29uZmlnLmdldEZuIDogX3JlZjMkZ2V0Rm4sXG4gICAgX3JlZjMkZmllbGROb3JtV2VpZ2h0ID0gX3JlZjMuZmllbGROb3JtV2VpZ2h0LFxuICAgIGZpZWxkTm9ybVdlaWdodCA9IF9yZWYzJGZpZWxkTm9ybVdlaWdodCA9PT0gdm9pZCAwID8gQ29uZmlnLmZpZWxkTm9ybVdlaWdodCA6IF9yZWYzJGZpZWxkTm9ybVdlaWdodDtcbiAgdmFyIGtleXMgPSBkYXRhLmtleXMsXG4gICAgcmVjb3JkcyA9IGRhdGEucmVjb3JkcztcbiAgdmFyIG15SW5kZXggPSBuZXcgRnVzZUluZGV4KHtcbiAgICBnZXRGbjogZ2V0Rm4sXG4gICAgZmllbGROb3JtV2VpZ2h0OiBmaWVsZE5vcm1XZWlnaHRcbiAgfSk7XG4gIG15SW5kZXguc2V0S2V5cyhrZXlzKTtcbiAgbXlJbmRleC5zZXRJbmRleFJlY29yZHMocmVjb3Jkcyk7XG4gIHJldHVybiBteUluZGV4O1xufVxuXG5mdW5jdGlvbiBjb21wdXRlU2NvcmUkMShwYXR0ZXJuKSB7XG4gIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSxcbiAgICBfcmVmJGVycm9ycyA9IF9yZWYuZXJyb3JzLFxuICAgIGVycm9ycyA9IF9yZWYkZXJyb3JzID09PSB2b2lkIDAgPyAwIDogX3JlZiRlcnJvcnMsXG4gICAgX3JlZiRjdXJyZW50TG9jYXRpb24gPSBfcmVmLmN1cnJlbnRMb2NhdGlvbixcbiAgICBjdXJyZW50TG9jYXRpb24gPSBfcmVmJGN1cnJlbnRMb2NhdGlvbiA9PT0gdm9pZCAwID8gMCA6IF9yZWYkY3VycmVudExvY2F0aW9uLFxuICAgIF9yZWYkZXhwZWN0ZWRMb2NhdGlvbiA9IF9yZWYuZXhwZWN0ZWRMb2NhdGlvbixcbiAgICBleHBlY3RlZExvY2F0aW9uID0gX3JlZiRleHBlY3RlZExvY2F0aW9uID09PSB2b2lkIDAgPyAwIDogX3JlZiRleHBlY3RlZExvY2F0aW9uLFxuICAgIF9yZWYkZGlzdGFuY2UgPSBfcmVmLmRpc3RhbmNlLFxuICAgIGRpc3RhbmNlID0gX3JlZiRkaXN0YW5jZSA9PT0gdm9pZCAwID8gQ29uZmlnLmRpc3RhbmNlIDogX3JlZiRkaXN0YW5jZSxcbiAgICBfcmVmJGlnbm9yZUxvY2F0aW9uID0gX3JlZi5pZ25vcmVMb2NhdGlvbixcbiAgICBpZ25vcmVMb2NhdGlvbiA9IF9yZWYkaWdub3JlTG9jYXRpb24gPT09IHZvaWQgMCA/IENvbmZpZy5pZ25vcmVMb2NhdGlvbiA6IF9yZWYkaWdub3JlTG9jYXRpb247XG4gIHZhciBhY2N1cmFjeSA9IGVycm9ycyAvIHBhdHRlcm4ubGVuZ3RoO1xuICBpZiAoaWdub3JlTG9jYXRpb24pIHtcbiAgICByZXR1cm4gYWNjdXJhY3k7XG4gIH1cbiAgdmFyIHByb3hpbWl0eSA9IE1hdGguYWJzKGV4cGVjdGVkTG9jYXRpb24gLSBjdXJyZW50TG9jYXRpb24pO1xuICBpZiAoIWRpc3RhbmNlKSB7XG4gICAgLy8gRG9kZ2UgZGl2aWRlIGJ5IHplcm8gZXJyb3IuXG4gICAgcmV0dXJuIHByb3hpbWl0eSA/IDEuMCA6IGFjY3VyYWN5O1xuICB9XG4gIHJldHVybiBhY2N1cmFjeSArIHByb3hpbWl0eSAvIGRpc3RhbmNlO1xufVxuXG5mdW5jdGlvbiBjb252ZXJ0TWFza1RvSW5kaWNlcygpIHtcbiAgdmFyIG1hdGNobWFzayA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107XG4gIHZhciBtaW5NYXRjaENoYXJMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IENvbmZpZy5taW5NYXRjaENoYXJMZW5ndGg7XG4gIHZhciBpbmRpY2VzID0gW107XG4gIHZhciBzdGFydCA9IC0xO1xuICB2YXIgZW5kID0gLTE7XG4gIHZhciBpID0gMDtcbiAgZm9yICh2YXIgbGVuID0gbWF0Y2htYXNrLmxlbmd0aDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgdmFyIG1hdGNoID0gbWF0Y2htYXNrW2ldO1xuICAgIGlmIChtYXRjaCAmJiBzdGFydCA9PT0gLTEpIHtcbiAgICAgIHN0YXJ0ID0gaTtcbiAgICB9IGVsc2UgaWYgKCFtYXRjaCAmJiBzdGFydCAhPT0gLTEpIHtcbiAgICAgIGVuZCA9IGkgLSAxO1xuICAgICAgaWYgKGVuZCAtIHN0YXJ0ICsgMSA+PSBtaW5NYXRjaENoYXJMZW5ndGgpIHtcbiAgICAgICAgaW5kaWNlcy5wdXNoKFtzdGFydCwgZW5kXSk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IC0xO1xuICAgIH1cbiAgfVxuXG4gIC8vIChpLTEgLSBzdGFydCkgKyAxID0+IGkgLSBzdGFydFxuICBpZiAobWF0Y2htYXNrW2kgLSAxXSAmJiBpIC0gc3RhcnQgPj0gbWluTWF0Y2hDaGFyTGVuZ3RoKSB7XG4gICAgaW5kaWNlcy5wdXNoKFtzdGFydCwgaSAtIDFdKTtcbiAgfVxuICByZXR1cm4gaW5kaWNlcztcbn1cblxuLy8gTWFjaGluZSB3b3JkIHNpemVcbnZhciBNQVhfQklUUyA9IDMyO1xuXG5mdW5jdGlvbiBzZWFyY2godGV4dCwgcGF0dGVybiwgcGF0dGVybkFscGhhYmV0KSB7XG4gIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiB7fSxcbiAgICBfcmVmJGxvY2F0aW9uID0gX3JlZi5sb2NhdGlvbixcbiAgICBsb2NhdGlvbiA9IF9yZWYkbG9jYXRpb24gPT09IHZvaWQgMCA/IENvbmZpZy5sb2NhdGlvbiA6IF9yZWYkbG9jYXRpb24sXG4gICAgX3JlZiRkaXN0YW5jZSA9IF9yZWYuZGlzdGFuY2UsXG4gICAgZGlzdGFuY2UgPSBfcmVmJGRpc3RhbmNlID09PSB2b2lkIDAgPyBDb25maWcuZGlzdGFuY2UgOiBfcmVmJGRpc3RhbmNlLFxuICAgIF9yZWYkdGhyZXNob2xkID0gX3JlZi50aHJlc2hvbGQsXG4gICAgdGhyZXNob2xkID0gX3JlZiR0aHJlc2hvbGQgPT09IHZvaWQgMCA/IENvbmZpZy50aHJlc2hvbGQgOiBfcmVmJHRocmVzaG9sZCxcbiAgICBfcmVmJGZpbmRBbGxNYXRjaGVzID0gX3JlZi5maW5kQWxsTWF0Y2hlcyxcbiAgICBmaW5kQWxsTWF0Y2hlcyA9IF9yZWYkZmluZEFsbE1hdGNoZXMgPT09IHZvaWQgMCA/IENvbmZpZy5maW5kQWxsTWF0Y2hlcyA6IF9yZWYkZmluZEFsbE1hdGNoZXMsXG4gICAgX3JlZiRtaW5NYXRjaENoYXJMZW5nID0gX3JlZi5taW5NYXRjaENoYXJMZW5ndGgsXG4gICAgbWluTWF0Y2hDaGFyTGVuZ3RoID0gX3JlZiRtaW5NYXRjaENoYXJMZW5nID09PSB2b2lkIDAgPyBDb25maWcubWluTWF0Y2hDaGFyTGVuZ3RoIDogX3JlZiRtaW5NYXRjaENoYXJMZW5nLFxuICAgIF9yZWYkaW5jbHVkZU1hdGNoZXMgPSBfcmVmLmluY2x1ZGVNYXRjaGVzLFxuICAgIGluY2x1ZGVNYXRjaGVzID0gX3JlZiRpbmNsdWRlTWF0Y2hlcyA9PT0gdm9pZCAwID8gQ29uZmlnLmluY2x1ZGVNYXRjaGVzIDogX3JlZiRpbmNsdWRlTWF0Y2hlcyxcbiAgICBfcmVmJGlnbm9yZUxvY2F0aW9uID0gX3JlZi5pZ25vcmVMb2NhdGlvbixcbiAgICBpZ25vcmVMb2NhdGlvbiA9IF9yZWYkaWdub3JlTG9jYXRpb24gPT09IHZvaWQgMCA/IENvbmZpZy5pZ25vcmVMb2NhdGlvbiA6IF9yZWYkaWdub3JlTG9jYXRpb247XG4gIGlmIChwYXR0ZXJuLmxlbmd0aCA+IE1BWF9CSVRTKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFBBVFRFUk5fTEVOR1RIX1RPT19MQVJHRShNQVhfQklUUykpO1xuICB9XG4gIHZhciBwYXR0ZXJuTGVuID0gcGF0dGVybi5sZW5ndGg7XG4gIC8vIFNldCBzdGFydGluZyBsb2NhdGlvbiBhdCBiZWdpbm5pbmcgdGV4dCBhbmQgaW5pdGlhbGl6ZSB0aGUgYWxwaGFiZXQuXG4gIHZhciB0ZXh0TGVuID0gdGV4dC5sZW5ndGg7XG4gIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVuIGxvY2F0aW9uID4gdGV4dC5sZW5ndGhcbiAgdmFyIGV4cGVjdGVkTG9jYXRpb24gPSBNYXRoLm1heCgwLCBNYXRoLm1pbihsb2NhdGlvbiwgdGV4dExlbikpO1xuICAvLyBIaWdoZXN0IHNjb3JlIGJleW9uZCB3aGljaCB3ZSBnaXZlIHVwLlxuICB2YXIgY3VycmVudFRocmVzaG9sZCA9IHRocmVzaG9sZDtcbiAgLy8gSXMgdGhlcmUgYSBuZWFyYnkgZXhhY3QgbWF0Y2g/IChzcGVlZHVwKVxuICB2YXIgYmVzdExvY2F0aW9uID0gZXhwZWN0ZWRMb2NhdGlvbjtcblxuICAvLyBQZXJmb3JtYW5jZTogb25seSBjb21wdXRlciBtYXRjaGVzIHdoZW4gdGhlIG1pbk1hdGNoQ2hhckxlbmd0aCA+IDFcbiAgLy8gT1IgaWYgYGluY2x1ZGVNYXRjaGVzYCBpcyB0cnVlLlxuICB2YXIgY29tcHV0ZU1hdGNoZXMgPSBtaW5NYXRjaENoYXJMZW5ndGggPiAxIHx8IGluY2x1ZGVNYXRjaGVzO1xuICAvLyBBIG1hc2sgb2YgdGhlIG1hdGNoZXMsIHVzZWQgZm9yIGJ1aWxkaW5nIHRoZSBpbmRpY2VzXG4gIHZhciBtYXRjaE1hc2sgPSBjb21wdXRlTWF0Y2hlcyA/IEFycmF5KHRleHRMZW4pIDogW107XG4gIHZhciBpbmRleDtcblxuICAvLyBHZXQgYWxsIGV4YWN0IG1hdGNoZXMsIGhlcmUgZm9yIHNwZWVkIHVwXG4gIHdoaWxlICgoaW5kZXggPSB0ZXh0LmluZGV4T2YocGF0dGVybiwgYmVzdExvY2F0aW9uKSkgPiAtMSkge1xuICAgIHZhciBzY29yZSA9IGNvbXB1dGVTY29yZSQxKHBhdHRlcm4sIHtcbiAgICAgIGN1cnJlbnRMb2NhdGlvbjogaW5kZXgsXG4gICAgICBleHBlY3RlZExvY2F0aW9uOiBleHBlY3RlZExvY2F0aW9uLFxuICAgICAgZGlzdGFuY2U6IGRpc3RhbmNlLFxuICAgICAgaWdub3JlTG9jYXRpb246IGlnbm9yZUxvY2F0aW9uXG4gICAgfSk7XG4gICAgY3VycmVudFRocmVzaG9sZCA9IE1hdGgubWluKHNjb3JlLCBjdXJyZW50VGhyZXNob2xkKTtcbiAgICBiZXN0TG9jYXRpb24gPSBpbmRleCArIHBhdHRlcm5MZW47XG4gICAgaWYgKGNvbXB1dGVNYXRjaGVzKSB7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IHBhdHRlcm5MZW4pIHtcbiAgICAgICAgbWF0Y2hNYXNrW2luZGV4ICsgaV0gPSAxO1xuICAgICAgICBpICs9IDE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gUmVzZXQgdGhlIGJlc3QgbG9jYXRpb25cbiAgYmVzdExvY2F0aW9uID0gLTE7XG4gIHZhciBsYXN0Qml0QXJyID0gW107XG4gIHZhciBmaW5hbFNjb3JlID0gMTtcbiAgdmFyIGJpbk1heCA9IHBhdHRlcm5MZW4gKyB0ZXh0TGVuO1xuICB2YXIgbWFzayA9IDEgPDwgcGF0dGVybkxlbiAtIDE7XG4gIGZvciAodmFyIF9pID0gMDsgX2kgPCBwYXR0ZXJuTGVuOyBfaSArPSAxKSB7XG4gICAgLy8gU2NhbiBmb3IgdGhlIGJlc3QgbWF0Y2g7IGVhY2ggaXRlcmF0aW9uIGFsbG93cyBmb3Igb25lIG1vcmUgZXJyb3IuXG4gICAgLy8gUnVuIGEgYmluYXJ5IHNlYXJjaCB0byBkZXRlcm1pbmUgaG93IGZhciBmcm9tIHRoZSBtYXRjaCBsb2NhdGlvbiB3ZSBjYW4gc3RyYXlcbiAgICAvLyBhdCB0aGlzIGVycm9yIGxldmVsLlxuICAgIHZhciBiaW5NaW4gPSAwO1xuICAgIHZhciBiaW5NaWQgPSBiaW5NYXg7XG4gICAgd2hpbGUgKGJpbk1pbiA8IGJpbk1pZCkge1xuICAgICAgdmFyIF9zY29yZSA9IGNvbXB1dGVTY29yZSQxKHBhdHRlcm4sIHtcbiAgICAgICAgZXJyb3JzOiBfaSxcbiAgICAgICAgY3VycmVudExvY2F0aW9uOiBleHBlY3RlZExvY2F0aW9uICsgYmluTWlkLFxuICAgICAgICBleHBlY3RlZExvY2F0aW9uOiBleHBlY3RlZExvY2F0aW9uLFxuICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2UsXG4gICAgICAgIGlnbm9yZUxvY2F0aW9uOiBpZ25vcmVMb2NhdGlvblxuICAgICAgfSk7XG4gICAgICBpZiAoX3Njb3JlIDw9IGN1cnJlbnRUaHJlc2hvbGQpIHtcbiAgICAgICAgYmluTWluID0gYmluTWlkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmluTWF4ID0gYmluTWlkO1xuICAgICAgfVxuICAgICAgYmluTWlkID0gTWF0aC5mbG9vcigoYmluTWF4IC0gYmluTWluKSAvIDIgKyBiaW5NaW4pO1xuICAgIH1cblxuICAgIC8vIFVzZSB0aGUgcmVzdWx0IGZyb20gdGhpcyBpdGVyYXRpb24gYXMgdGhlIG1heGltdW0gZm9yIHRoZSBuZXh0LlxuICAgIGJpbk1heCA9IGJpbk1pZDtcbiAgICB2YXIgc3RhcnQgPSBNYXRoLm1heCgxLCBleHBlY3RlZExvY2F0aW9uIC0gYmluTWlkICsgMSk7XG4gICAgdmFyIGZpbmlzaCA9IGZpbmRBbGxNYXRjaGVzID8gdGV4dExlbiA6IE1hdGgubWluKGV4cGVjdGVkTG9jYXRpb24gKyBiaW5NaWQsIHRleHRMZW4pICsgcGF0dGVybkxlbjtcblxuICAgIC8vIEluaXRpYWxpemUgdGhlIGJpdCBhcnJheVxuICAgIHZhciBiaXRBcnIgPSBBcnJheShmaW5pc2ggKyAyKTtcbiAgICBiaXRBcnJbZmluaXNoICsgMV0gPSAoMSA8PCBfaSkgLSAxO1xuICAgIGZvciAodmFyIGogPSBmaW5pc2g7IGogPj0gc3RhcnQ7IGogLT0gMSkge1xuICAgICAgdmFyIGN1cnJlbnRMb2NhdGlvbiA9IGogLSAxO1xuICAgICAgdmFyIGNoYXJNYXRjaCA9IHBhdHRlcm5BbHBoYWJldFt0ZXh0LmNoYXJBdChjdXJyZW50TG9jYXRpb24pXTtcbiAgICAgIGlmIChjb21wdXRlTWF0Y2hlcykge1xuICAgICAgICAvLyBTcGVlZCB1cDogcXVpY2sgYm9vbCB0byBpbnQgY29udmVyc2lvbiAoaS5lLCBgY2hhck1hdGNoID8gMSA6IDBgKVxuICAgICAgICBtYXRjaE1hc2tbY3VycmVudExvY2F0aW9uXSA9ICshIWNoYXJNYXRjaDtcbiAgICAgIH1cblxuICAgICAgLy8gRmlyc3QgcGFzczogZXhhY3QgbWF0Y2hcbiAgICAgIGJpdEFycltqXSA9IChiaXRBcnJbaiArIDFdIDw8IDEgfCAxKSAmIGNoYXJNYXRjaDtcblxuICAgICAgLy8gU3Vic2VxdWVudCBwYXNzZXM6IGZ1enp5IG1hdGNoXG4gICAgICBpZiAoX2kpIHtcbiAgICAgICAgYml0QXJyW2pdIHw9IChsYXN0Qml0QXJyW2ogKyAxXSB8IGxhc3RCaXRBcnJbal0pIDw8IDEgfCAxIHwgbGFzdEJpdEFycltqICsgMV07XG4gICAgICB9XG4gICAgICBpZiAoYml0QXJyW2pdICYgbWFzaykge1xuICAgICAgICBmaW5hbFNjb3JlID0gY29tcHV0ZVNjb3JlJDEocGF0dGVybiwge1xuICAgICAgICAgIGVycm9yczogX2ksXG4gICAgICAgICAgY3VycmVudExvY2F0aW9uOiBjdXJyZW50TG9jYXRpb24sXG4gICAgICAgICAgZXhwZWN0ZWRMb2NhdGlvbjogZXhwZWN0ZWRMb2NhdGlvbixcbiAgICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2UsXG4gICAgICAgICAgaWdub3JlTG9jYXRpb246IGlnbm9yZUxvY2F0aW9uXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRoaXMgbWF0Y2ggd2lsbCBhbG1vc3QgY2VydGFpbmx5IGJlIGJldHRlciB0aGFuIGFueSBleGlzdGluZyBtYXRjaC5cbiAgICAgICAgLy8gQnV0IGNoZWNrIGFueXdheS5cbiAgICAgICAgaWYgKGZpbmFsU2NvcmUgPD0gY3VycmVudFRocmVzaG9sZCkge1xuICAgICAgICAgIC8vIEluZGVlZCBpdCBpc1xuICAgICAgICAgIGN1cnJlbnRUaHJlc2hvbGQgPSBmaW5hbFNjb3JlO1xuICAgICAgICAgIGJlc3RMb2NhdGlvbiA9IGN1cnJlbnRMb2NhdGlvbjtcblxuICAgICAgICAgIC8vIEFscmVhZHkgcGFzc2VkIGBsb2NgLCBkb3duaGlsbCBmcm9tIGhlcmUgb24gaW4uXG4gICAgICAgICAgaWYgKGJlc3RMb2NhdGlvbiA8PSBleHBlY3RlZExvY2F0aW9uKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBXaGVuIHBhc3NpbmcgYGJlc3RMb2NhdGlvbmAsIGRvbid0IGV4Y2VlZCBvdXIgY3VycmVudCBkaXN0YW5jZSBmcm9tIGBleHBlY3RlZExvY2F0aW9uYC5cbiAgICAgICAgICBzdGFydCA9IE1hdGgubWF4KDEsIDIgKiBleHBlY3RlZExvY2F0aW9uIC0gYmVzdExvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vIGhvcGUgZm9yIGEgKGJldHRlcikgbWF0Y2ggYXQgZ3JlYXRlciBlcnJvciBsZXZlbHMuXG4gICAgdmFyIF9zY29yZTIgPSBjb21wdXRlU2NvcmUkMShwYXR0ZXJuLCB7XG4gICAgICBlcnJvcnM6IF9pICsgMSxcbiAgICAgIGN1cnJlbnRMb2NhdGlvbjogZXhwZWN0ZWRMb2NhdGlvbixcbiAgICAgIGV4cGVjdGVkTG9jYXRpb246IGV4cGVjdGVkTG9jYXRpb24sXG4gICAgICBkaXN0YW5jZTogZGlzdGFuY2UsXG4gICAgICBpZ25vcmVMb2NhdGlvbjogaWdub3JlTG9jYXRpb25cbiAgICB9KTtcbiAgICBpZiAoX3Njb3JlMiA+IGN1cnJlbnRUaHJlc2hvbGQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBsYXN0Qml0QXJyID0gYml0QXJyO1xuICB9XG4gIHZhciByZXN1bHQgPSB7XG4gICAgaXNNYXRjaDogYmVzdExvY2F0aW9uID49IDAsXG4gICAgLy8gQ291bnQgZXhhY3QgbWF0Y2hlcyAodGhvc2Ugd2l0aCBhIHNjb3JlIG9mIDApIHRvIGJlIFwiYWxtb3N0XCIgZXhhY3RcbiAgICBzY29yZTogTWF0aC5tYXgoMC4wMDEsIGZpbmFsU2NvcmUpXG4gIH07XG4gIGlmIChjb21wdXRlTWF0Y2hlcykge1xuICAgIHZhciBpbmRpY2VzID0gY29udmVydE1hc2tUb0luZGljZXMobWF0Y2hNYXNrLCBtaW5NYXRjaENoYXJMZW5ndGgpO1xuICAgIGlmICghaW5kaWNlcy5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdC5pc01hdGNoID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChpbmNsdWRlTWF0Y2hlcykge1xuICAgICAgcmVzdWx0LmluZGljZXMgPSBpbmRpY2VzO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQYXR0ZXJuQWxwaGFiZXQocGF0dGVybikge1xuICB2YXIgbWFzayA9IHt9O1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcGF0dGVybi5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgIHZhciBfY2hhciA9IHBhdHRlcm4uY2hhckF0KGkpO1xuICAgIG1hc2tbX2NoYXJdID0gKG1hc2tbX2NoYXJdIHx8IDApIHwgMSA8PCBsZW4gLSBpIC0gMTtcbiAgfVxuICByZXR1cm4gbWFzaztcbn1cblxudmFyIEJpdGFwU2VhcmNoID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQml0YXBTZWFyY2gocGF0dGVybikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuICAgICAgX3JlZiRsb2NhdGlvbiA9IF9yZWYubG9jYXRpb24sXG4gICAgICBsb2NhdGlvbiA9IF9yZWYkbG9jYXRpb24gPT09IHZvaWQgMCA/IENvbmZpZy5sb2NhdGlvbiA6IF9yZWYkbG9jYXRpb24sXG4gICAgICBfcmVmJHRocmVzaG9sZCA9IF9yZWYudGhyZXNob2xkLFxuICAgICAgdGhyZXNob2xkID0gX3JlZiR0aHJlc2hvbGQgPT09IHZvaWQgMCA/IENvbmZpZy50aHJlc2hvbGQgOiBfcmVmJHRocmVzaG9sZCxcbiAgICAgIF9yZWYkZGlzdGFuY2UgPSBfcmVmLmRpc3RhbmNlLFxuICAgICAgZGlzdGFuY2UgPSBfcmVmJGRpc3RhbmNlID09PSB2b2lkIDAgPyBDb25maWcuZGlzdGFuY2UgOiBfcmVmJGRpc3RhbmNlLFxuICAgICAgX3JlZiRpbmNsdWRlTWF0Y2hlcyA9IF9yZWYuaW5jbHVkZU1hdGNoZXMsXG4gICAgICBpbmNsdWRlTWF0Y2hlcyA9IF9yZWYkaW5jbHVkZU1hdGNoZXMgPT09IHZvaWQgMCA/IENvbmZpZy5pbmNsdWRlTWF0Y2hlcyA6IF9yZWYkaW5jbHVkZU1hdGNoZXMsXG4gICAgICBfcmVmJGZpbmRBbGxNYXRjaGVzID0gX3JlZi5maW5kQWxsTWF0Y2hlcyxcbiAgICAgIGZpbmRBbGxNYXRjaGVzID0gX3JlZiRmaW5kQWxsTWF0Y2hlcyA9PT0gdm9pZCAwID8gQ29uZmlnLmZpbmRBbGxNYXRjaGVzIDogX3JlZiRmaW5kQWxsTWF0Y2hlcyxcbiAgICAgIF9yZWYkbWluTWF0Y2hDaGFyTGVuZyA9IF9yZWYubWluTWF0Y2hDaGFyTGVuZ3RoLFxuICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoID0gX3JlZiRtaW5NYXRjaENoYXJMZW5nID09PSB2b2lkIDAgPyBDb25maWcubWluTWF0Y2hDaGFyTGVuZ3RoIDogX3JlZiRtaW5NYXRjaENoYXJMZW5nLFxuICAgICAgX3JlZiRpc0Nhc2VTZW5zaXRpdmUgPSBfcmVmLmlzQ2FzZVNlbnNpdGl2ZSxcbiAgICAgIGlzQ2FzZVNlbnNpdGl2ZSA9IF9yZWYkaXNDYXNlU2Vuc2l0aXZlID09PSB2b2lkIDAgPyBDb25maWcuaXNDYXNlU2Vuc2l0aXZlIDogX3JlZiRpc0Nhc2VTZW5zaXRpdmUsXG4gICAgICBfcmVmJGlnbm9yZUxvY2F0aW9uID0gX3JlZi5pZ25vcmVMb2NhdGlvbixcbiAgICAgIGlnbm9yZUxvY2F0aW9uID0gX3JlZiRpZ25vcmVMb2NhdGlvbiA9PT0gdm9pZCAwID8gQ29uZmlnLmlnbm9yZUxvY2F0aW9uIDogX3JlZiRpZ25vcmVMb2NhdGlvbjtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQml0YXBTZWFyY2gpO1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgIHRocmVzaG9sZDogdGhyZXNob2xkLFxuICAgICAgZGlzdGFuY2U6IGRpc3RhbmNlLFxuICAgICAgaW5jbHVkZU1hdGNoZXM6IGluY2x1ZGVNYXRjaGVzLFxuICAgICAgZmluZEFsbE1hdGNoZXM6IGZpbmRBbGxNYXRjaGVzLFxuICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoOiBtaW5NYXRjaENoYXJMZW5ndGgsXG4gICAgICBpc0Nhc2VTZW5zaXRpdmU6IGlzQ2FzZVNlbnNpdGl2ZSxcbiAgICAgIGlnbm9yZUxvY2F0aW9uOiBpZ25vcmVMb2NhdGlvblxuICAgIH07XG4gICAgdGhpcy5wYXR0ZXJuID0gaXNDYXNlU2Vuc2l0aXZlID8gcGF0dGVybiA6IHBhdHRlcm4udG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgIGlmICghdGhpcy5wYXR0ZXJuLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgYWRkQ2h1bmsgPSBmdW5jdGlvbiBhZGRDaHVuayhwYXR0ZXJuLCBzdGFydEluZGV4KSB7XG4gICAgICBfdGhpcy5jaHVua3MucHVzaCh7XG4gICAgICAgIHBhdHRlcm46IHBhdHRlcm4sXG4gICAgICAgIGFscGhhYmV0OiBjcmVhdGVQYXR0ZXJuQWxwaGFiZXQocGF0dGVybiksXG4gICAgICAgIHN0YXJ0SW5kZXg6IHN0YXJ0SW5kZXhcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIGxlbiA9IHRoaXMucGF0dGVybi5sZW5ndGg7XG4gICAgaWYgKGxlbiA+IE1BWF9CSVRTKSB7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB2YXIgcmVtYWluZGVyID0gbGVuICUgTUFYX0JJVFM7XG4gICAgICB2YXIgZW5kID0gbGVuIC0gcmVtYWluZGVyO1xuICAgICAgd2hpbGUgKGkgPCBlbmQpIHtcbiAgICAgICAgYWRkQ2h1bmsodGhpcy5wYXR0ZXJuLnN1YnN0cihpLCBNQVhfQklUUyksIGkpO1xuICAgICAgICBpICs9IE1BWF9CSVRTO1xuICAgICAgfVxuICAgICAgaWYgKHJlbWFpbmRlcikge1xuICAgICAgICB2YXIgc3RhcnRJbmRleCA9IGxlbiAtIE1BWF9CSVRTO1xuICAgICAgICBhZGRDaHVuayh0aGlzLnBhdHRlcm4uc3Vic3RyKHN0YXJ0SW5kZXgpLCBzdGFydEluZGV4KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYWRkQ2h1bmsodGhpcy5wYXR0ZXJuLCAwKTtcbiAgICB9XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEJpdGFwU2VhcmNoLCBbe1xuICAgIGtleTogXCJzZWFyY2hJblwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2hJbih0ZXh0KSB7XG4gICAgICB2YXIgX3RoaXMkb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgaXNDYXNlU2Vuc2l0aXZlID0gX3RoaXMkb3B0aW9ucy5pc0Nhc2VTZW5zaXRpdmUsXG4gICAgICAgIGluY2x1ZGVNYXRjaGVzID0gX3RoaXMkb3B0aW9ucy5pbmNsdWRlTWF0Y2hlcztcbiAgICAgIGlmICghaXNDYXNlU2Vuc2l0aXZlKSB7XG4gICAgICAgIHRleHQgPSB0ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEV4YWN0IG1hdGNoXG4gICAgICBpZiAodGhpcy5wYXR0ZXJuID09PSB0ZXh0KSB7XG4gICAgICAgIHZhciBfcmVzdWx0ID0ge1xuICAgICAgICAgIGlzTWF0Y2g6IHRydWUsXG4gICAgICAgICAgc2NvcmU6IDBcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGluY2x1ZGVNYXRjaGVzKSB7XG4gICAgICAgICAgX3Jlc3VsdC5pbmRpY2VzID0gW1swLCB0ZXh0Lmxlbmd0aCAtIDFdXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3Jlc3VsdDtcbiAgICAgIH1cblxuICAgICAgLy8gT3RoZXJ3aXNlLCB1c2UgQml0YXAgYWxnb3JpdGhtXG4gICAgICB2YXIgX3RoaXMkb3B0aW9uczIgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIGxvY2F0aW9uID0gX3RoaXMkb3B0aW9uczIubG9jYXRpb24sXG4gICAgICAgIGRpc3RhbmNlID0gX3RoaXMkb3B0aW9uczIuZGlzdGFuY2UsXG4gICAgICAgIHRocmVzaG9sZCA9IF90aGlzJG9wdGlvbnMyLnRocmVzaG9sZCxcbiAgICAgICAgZmluZEFsbE1hdGNoZXMgPSBfdGhpcyRvcHRpb25zMi5maW5kQWxsTWF0Y2hlcyxcbiAgICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoID0gX3RoaXMkb3B0aW9uczIubWluTWF0Y2hDaGFyTGVuZ3RoLFxuICAgICAgICBpZ25vcmVMb2NhdGlvbiA9IF90aGlzJG9wdGlvbnMyLmlnbm9yZUxvY2F0aW9uO1xuICAgICAgdmFyIGFsbEluZGljZXMgPSBbXTtcbiAgICAgIHZhciB0b3RhbFNjb3JlID0gMDtcbiAgICAgIHZhciBoYXNNYXRjaGVzID0gZmFsc2U7XG4gICAgICB0aGlzLmNodW5rcy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICB2YXIgcGF0dGVybiA9IF9yZWYyLnBhdHRlcm4sXG4gICAgICAgICAgYWxwaGFiZXQgPSBfcmVmMi5hbHBoYWJldCxcbiAgICAgICAgICBzdGFydEluZGV4ID0gX3JlZjIuc3RhcnRJbmRleDtcbiAgICAgICAgdmFyIF9zZWFyY2ggPSBzZWFyY2godGV4dCwgcGF0dGVybiwgYWxwaGFiZXQsIHtcbiAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbiArIHN0YXJ0SW5kZXgsXG4gICAgICAgICAgICBkaXN0YW5jZTogZGlzdGFuY2UsXG4gICAgICAgICAgICB0aHJlc2hvbGQ6IHRocmVzaG9sZCxcbiAgICAgICAgICAgIGZpbmRBbGxNYXRjaGVzOiBmaW5kQWxsTWF0Y2hlcyxcbiAgICAgICAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aDogbWluTWF0Y2hDaGFyTGVuZ3RoLFxuICAgICAgICAgICAgaW5jbHVkZU1hdGNoZXM6IGluY2x1ZGVNYXRjaGVzLFxuICAgICAgICAgICAgaWdub3JlTG9jYXRpb246IGlnbm9yZUxvY2F0aW9uXG4gICAgICAgICAgfSksXG4gICAgICAgICAgaXNNYXRjaCA9IF9zZWFyY2guaXNNYXRjaCxcbiAgICAgICAgICBzY29yZSA9IF9zZWFyY2guc2NvcmUsXG4gICAgICAgICAgaW5kaWNlcyA9IF9zZWFyY2guaW5kaWNlcztcbiAgICAgICAgaWYgKGlzTWF0Y2gpIHtcbiAgICAgICAgICBoYXNNYXRjaGVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0b3RhbFNjb3JlICs9IHNjb3JlO1xuICAgICAgICBpZiAoaXNNYXRjaCAmJiBpbmRpY2VzKSB7XG4gICAgICAgICAgYWxsSW5kaWNlcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYWxsSW5kaWNlcyksIF90b0NvbnN1bWFibGVBcnJheShpbmRpY2VzKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgaXNNYXRjaDogaGFzTWF0Y2hlcyxcbiAgICAgICAgc2NvcmU6IGhhc01hdGNoZXMgPyB0b3RhbFNjb3JlIC8gdGhpcy5jaHVua3MubGVuZ3RoIDogMVxuICAgICAgfTtcbiAgICAgIGlmIChoYXNNYXRjaGVzICYmIGluY2x1ZGVNYXRjaGVzKSB7XG4gICAgICAgIHJlc3VsdC5pbmRpY2VzID0gYWxsSW5kaWNlcztcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBCaXRhcFNlYXJjaDtcbn0oKTtcblxudmFyIEJhc2VNYXRjaCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEJhc2VNYXRjaChwYXR0ZXJuKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJhc2VNYXRjaCk7XG4gICAgdGhpcy5wYXR0ZXJuID0gcGF0dGVybjtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoQmFzZU1hdGNoLCBbe1xuICAgIGtleTogXCJzZWFyY2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoKCAvKnRleHQqLykge31cbiAgfV0sIFt7XG4gICAga2V5OiBcImlzTXVsdGlNYXRjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc011bHRpTWF0Y2gocGF0dGVybikge1xuICAgICAgcmV0dXJuIGdldE1hdGNoKHBhdHRlcm4sIHRoaXMubXVsdGlSZWdleCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzU2luZ2xlTWF0Y2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNTaW5nbGVNYXRjaChwYXR0ZXJuKSB7XG4gICAgICByZXR1cm4gZ2V0TWF0Y2gocGF0dGVybiwgdGhpcy5zaW5nbGVSZWdleCk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBCYXNlTWF0Y2g7XG59KCk7XG5mdW5jdGlvbiBnZXRNYXRjaChwYXR0ZXJuLCBleHApIHtcbiAgdmFyIG1hdGNoZXMgPSBwYXR0ZXJuLm1hdGNoKGV4cCk7XG4gIHJldHVybiBtYXRjaGVzID8gbWF0Y2hlc1sxXSA6IG51bGw7XG59XG5cbnZhciBFeGFjdE1hdGNoID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZU1hdGNoKSB7XG4gIF9pbmhlcml0cyhFeGFjdE1hdGNoLCBfQmFzZU1hdGNoKTtcbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihFeGFjdE1hdGNoKTtcbiAgZnVuY3Rpb24gRXhhY3RNYXRjaChwYXR0ZXJuKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV4YWN0TWF0Y2gpO1xuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwYXR0ZXJuKTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoRXhhY3RNYXRjaCwgW3tcbiAgICBrZXk6IFwic2VhcmNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaCh0ZXh0KSB7XG4gICAgICB2YXIgaXNNYXRjaCA9IHRleHQgPT09IHRoaXMucGF0dGVybjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzTWF0Y2g6IGlzTWF0Y2gsXG4gICAgICAgIHNjb3JlOiBpc01hdGNoID8gMCA6IDEsXG4gICAgICAgIGluZGljZXM6IFswLCB0aGlzLnBhdHRlcm4ubGVuZ3RoIC0gMV1cbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwidHlwZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdleGFjdCc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm11bHRpUmVnZXhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAvXj1cIiguKilcIiQvO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaW5nbGVSZWdleFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIC9ePSguKikkLztcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEV4YWN0TWF0Y2g7XG59KEJhc2VNYXRjaCk7XG5cbnZhciBJbnZlcnNlRXhhY3RNYXRjaCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX0Jhc2VNYXRjaCkge1xuICBfaW5oZXJpdHMoSW52ZXJzZUV4YWN0TWF0Y2gsIF9CYXNlTWF0Y2gpO1xuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEludmVyc2VFeGFjdE1hdGNoKTtcbiAgZnVuY3Rpb24gSW52ZXJzZUV4YWN0TWF0Y2gocGF0dGVybikge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbnZlcnNlRXhhY3RNYXRjaCk7XG4gICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIHBhdHRlcm4pO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhJbnZlcnNlRXhhY3RNYXRjaCwgW3tcbiAgICBrZXk6IFwic2VhcmNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaCh0ZXh0KSB7XG4gICAgICB2YXIgaW5kZXggPSB0ZXh0LmluZGV4T2YodGhpcy5wYXR0ZXJuKTtcbiAgICAgIHZhciBpc01hdGNoID0gaW5kZXggPT09IC0xO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNNYXRjaDogaXNNYXRjaCxcbiAgICAgICAgc2NvcmU6IGlzTWF0Y2ggPyAwIDogMSxcbiAgICAgICAgaW5kaWNlczogWzAsIHRleHQubGVuZ3RoIC0gMV1cbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwidHlwZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdpbnZlcnNlLWV4YWN0JztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibXVsdGlSZWdleFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIC9eIVwiKC4qKVwiJC87XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNpbmdsZVJlZ2V4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gL14hKC4qKSQvO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gSW52ZXJzZUV4YWN0TWF0Y2g7XG59KEJhc2VNYXRjaCk7XG5cbnZhciBQcmVmaXhFeGFjdE1hdGNoID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZU1hdGNoKSB7XG4gIF9pbmhlcml0cyhQcmVmaXhFeGFjdE1hdGNoLCBfQmFzZU1hdGNoKTtcbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihQcmVmaXhFeGFjdE1hdGNoKTtcbiAgZnVuY3Rpb24gUHJlZml4RXhhY3RNYXRjaChwYXR0ZXJuKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFByZWZpeEV4YWN0TWF0Y2gpO1xuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwYXR0ZXJuKTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoUHJlZml4RXhhY3RNYXRjaCwgW3tcbiAgICBrZXk6IFwic2VhcmNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaCh0ZXh0KSB7XG4gICAgICB2YXIgaXNNYXRjaCA9IHRleHQuc3RhcnRzV2l0aCh0aGlzLnBhdHRlcm4pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNNYXRjaDogaXNNYXRjaCxcbiAgICAgICAgc2NvcmU6IGlzTWF0Y2ggPyAwIDogMSxcbiAgICAgICAgaW5kaWNlczogWzAsIHRoaXMucGF0dGVybi5sZW5ndGggLSAxXVxuICAgICAgfTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJ0eXBlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ3ByZWZpeC1leGFjdCc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm11bHRpUmVnZXhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAvXlxcXlwiKC4qKVwiJC87XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNpbmdsZVJlZ2V4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gL15cXF4oLiopJC87XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBQcmVmaXhFeGFjdE1hdGNoO1xufShCYXNlTWF0Y2gpO1xuXG52YXIgSW52ZXJzZVByZWZpeEV4YWN0TWF0Y2ggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlTWF0Y2gpIHtcbiAgX2luaGVyaXRzKEludmVyc2VQcmVmaXhFeGFjdE1hdGNoLCBfQmFzZU1hdGNoKTtcbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihJbnZlcnNlUHJlZml4RXhhY3RNYXRjaCk7XG4gIGZ1bmN0aW9uIEludmVyc2VQcmVmaXhFeGFjdE1hdGNoKHBhdHRlcm4pIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW52ZXJzZVByZWZpeEV4YWN0TWF0Y2gpO1xuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwYXR0ZXJuKTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoSW52ZXJzZVByZWZpeEV4YWN0TWF0Y2gsIFt7XG4gICAga2V5OiBcInNlYXJjaFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZWFyY2godGV4dCkge1xuICAgICAgdmFyIGlzTWF0Y2ggPSAhdGV4dC5zdGFydHNXaXRoKHRoaXMucGF0dGVybik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc01hdGNoOiBpc01hdGNoLFxuICAgICAgICBzY29yZTogaXNNYXRjaCA/IDAgOiAxLFxuICAgICAgICBpbmRpY2VzOiBbMCwgdGV4dC5sZW5ndGggLSAxXVxuICAgICAgfTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJ0eXBlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ2ludmVyc2UtcHJlZml4LWV4YWN0JztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibXVsdGlSZWdleFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIC9eIVxcXlwiKC4qKVwiJC87XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNpbmdsZVJlZ2V4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gL14hXFxeKC4qKSQvO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gSW52ZXJzZVByZWZpeEV4YWN0TWF0Y2g7XG59KEJhc2VNYXRjaCk7XG5cbnZhciBTdWZmaXhFeGFjdE1hdGNoID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZU1hdGNoKSB7XG4gIF9pbmhlcml0cyhTdWZmaXhFeGFjdE1hdGNoLCBfQmFzZU1hdGNoKTtcbiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihTdWZmaXhFeGFjdE1hdGNoKTtcbiAgZnVuY3Rpb24gU3VmZml4RXhhY3RNYXRjaChwYXR0ZXJuKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN1ZmZpeEV4YWN0TWF0Y2gpO1xuICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBwYXR0ZXJuKTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoU3VmZml4RXhhY3RNYXRjaCwgW3tcbiAgICBrZXk6IFwic2VhcmNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaCh0ZXh0KSB7XG4gICAgICB2YXIgaXNNYXRjaCA9IHRleHQuZW5kc1dpdGgodGhpcy5wYXR0ZXJuKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzTWF0Y2g6IGlzTWF0Y2gsXG4gICAgICAgIHNjb3JlOiBpc01hdGNoID8gMCA6IDEsXG4gICAgICAgIGluZGljZXM6IFt0ZXh0Lmxlbmd0aCAtIHRoaXMucGF0dGVybi5sZW5ndGgsIHRleHQubGVuZ3RoIC0gMV1cbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwidHlwZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdzdWZmaXgtZXhhY3QnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtdWx0aVJlZ2V4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gL15cIiguKilcIlxcJCQvO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzaW5nbGVSZWdleFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIC9eKC4qKVxcJCQvO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gU3VmZml4RXhhY3RNYXRjaDtcbn0oQmFzZU1hdGNoKTtcblxudmFyIEludmVyc2VTdWZmaXhFeGFjdE1hdGNoID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQmFzZU1hdGNoKSB7XG4gIF9pbmhlcml0cyhJbnZlcnNlU3VmZml4RXhhY3RNYXRjaCwgX0Jhc2VNYXRjaCk7XG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSW52ZXJzZVN1ZmZpeEV4YWN0TWF0Y2gpO1xuICBmdW5jdGlvbiBJbnZlcnNlU3VmZml4RXhhY3RNYXRjaChwYXR0ZXJuKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEludmVyc2VTdWZmaXhFeGFjdE1hdGNoKTtcbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcGF0dGVybik7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEludmVyc2VTdWZmaXhFeGFjdE1hdGNoLCBbe1xuICAgIGtleTogXCJzZWFyY2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoKHRleHQpIHtcbiAgICAgIHZhciBpc01hdGNoID0gIXRleHQuZW5kc1dpdGgodGhpcy5wYXR0ZXJuKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzTWF0Y2g6IGlzTWF0Y2gsXG4gICAgICAgIHNjb3JlOiBpc01hdGNoID8gMCA6IDEsXG4gICAgICAgIGluZGljZXM6IFswLCB0ZXh0Lmxlbmd0aCAtIDFdXG4gICAgICB9O1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiBcInR5cGVcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnaW52ZXJzZS1zdWZmaXgtZXhhY3QnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJtdWx0aVJlZ2V4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gL14hXCIoLiopXCJcXCQkLztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2luZ2xlUmVnZXhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAvXiEoLiopXFwkJC87XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBJbnZlcnNlU3VmZml4RXhhY3RNYXRjaDtcbn0oQmFzZU1hdGNoKTtcblxudmFyIEZ1enp5TWF0Y2ggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlTWF0Y2gpIHtcbiAgX2luaGVyaXRzKEZ1enp5TWF0Y2gsIF9CYXNlTWF0Y2gpO1xuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEZ1enp5TWF0Y2gpO1xuICBmdW5jdGlvbiBGdXp6eU1hdGNoKHBhdHRlcm4pIHtcbiAgICB2YXIgX3RoaXM7XG4gICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9LFxuICAgICAgX3JlZiRsb2NhdGlvbiA9IF9yZWYubG9jYXRpb24sXG4gICAgICBsb2NhdGlvbiA9IF9yZWYkbG9jYXRpb24gPT09IHZvaWQgMCA/IENvbmZpZy5sb2NhdGlvbiA6IF9yZWYkbG9jYXRpb24sXG4gICAgICBfcmVmJHRocmVzaG9sZCA9IF9yZWYudGhyZXNob2xkLFxuICAgICAgdGhyZXNob2xkID0gX3JlZiR0aHJlc2hvbGQgPT09IHZvaWQgMCA/IENvbmZpZy50aHJlc2hvbGQgOiBfcmVmJHRocmVzaG9sZCxcbiAgICAgIF9yZWYkZGlzdGFuY2UgPSBfcmVmLmRpc3RhbmNlLFxuICAgICAgZGlzdGFuY2UgPSBfcmVmJGRpc3RhbmNlID09PSB2b2lkIDAgPyBDb25maWcuZGlzdGFuY2UgOiBfcmVmJGRpc3RhbmNlLFxuICAgICAgX3JlZiRpbmNsdWRlTWF0Y2hlcyA9IF9yZWYuaW5jbHVkZU1hdGNoZXMsXG4gICAgICBpbmNsdWRlTWF0Y2hlcyA9IF9yZWYkaW5jbHVkZU1hdGNoZXMgPT09IHZvaWQgMCA/IENvbmZpZy5pbmNsdWRlTWF0Y2hlcyA6IF9yZWYkaW5jbHVkZU1hdGNoZXMsXG4gICAgICBfcmVmJGZpbmRBbGxNYXRjaGVzID0gX3JlZi5maW5kQWxsTWF0Y2hlcyxcbiAgICAgIGZpbmRBbGxNYXRjaGVzID0gX3JlZiRmaW5kQWxsTWF0Y2hlcyA9PT0gdm9pZCAwID8gQ29uZmlnLmZpbmRBbGxNYXRjaGVzIDogX3JlZiRmaW5kQWxsTWF0Y2hlcyxcbiAgICAgIF9yZWYkbWluTWF0Y2hDaGFyTGVuZyA9IF9yZWYubWluTWF0Y2hDaGFyTGVuZ3RoLFxuICAgICAgbWluTWF0Y2hDaGFyTGVuZ3RoID0gX3JlZiRtaW5NYXRjaENoYXJMZW5nID09PSB2b2lkIDAgPyBDb25maWcubWluTWF0Y2hDaGFyTGVuZ3RoIDogX3JlZiRtaW5NYXRjaENoYXJMZW5nLFxuICAgICAgX3JlZiRpc0Nhc2VTZW5zaXRpdmUgPSBfcmVmLmlzQ2FzZVNlbnNpdGl2ZSxcbiAgICAgIGlzQ2FzZVNlbnNpdGl2ZSA9IF9yZWYkaXNDYXNlU2Vuc2l0aXZlID09PSB2b2lkIDAgPyBDb25maWcuaXNDYXNlU2Vuc2l0aXZlIDogX3JlZiRpc0Nhc2VTZW5zaXRpdmUsXG4gICAgICBfcmVmJGlnbm9yZUxvY2F0aW9uID0gX3JlZi5pZ25vcmVMb2NhdGlvbixcbiAgICAgIGlnbm9yZUxvY2F0aW9uID0gX3JlZiRpZ25vcmVMb2NhdGlvbiA9PT0gdm9pZCAwID8gQ29uZmlnLmlnbm9yZUxvY2F0aW9uIDogX3JlZiRpZ25vcmVMb2NhdGlvbjtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRnV6enlNYXRjaCk7XG4gICAgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwYXR0ZXJuKTtcbiAgICBfdGhpcy5fYml0YXBTZWFyY2ggPSBuZXcgQml0YXBTZWFyY2gocGF0dGVybiwge1xuICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgdGhyZXNob2xkOiB0aHJlc2hvbGQsXG4gICAgICBkaXN0YW5jZTogZGlzdGFuY2UsXG4gICAgICBpbmNsdWRlTWF0Y2hlczogaW5jbHVkZU1hdGNoZXMsXG4gICAgICBmaW5kQWxsTWF0Y2hlczogZmluZEFsbE1hdGNoZXMsXG4gICAgICBtaW5NYXRjaENoYXJMZW5ndGg6IG1pbk1hdGNoQ2hhckxlbmd0aCxcbiAgICAgIGlzQ2FzZVNlbnNpdGl2ZTogaXNDYXNlU2Vuc2l0aXZlLFxuICAgICAgaWdub3JlTG9jYXRpb246IGlnbm9yZUxvY2F0aW9uXG4gICAgfSk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhGdXp6eU1hdGNoLCBbe1xuICAgIGtleTogXCJzZWFyY2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoKHRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9iaXRhcFNlYXJjaC5zZWFyY2hJbih0ZXh0KTtcbiAgICB9XG4gIH1dLCBbe1xuICAgIGtleTogXCJ0eXBlXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ2Z1enp5JztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibXVsdGlSZWdleFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIC9eXCIoLiopXCIkLztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2luZ2xlUmVnZXhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAvXiguKikkLztcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEZ1enp5TWF0Y2g7XG59KEJhc2VNYXRjaCk7XG5cbnZhciBJbmNsdWRlTWF0Y2ggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9CYXNlTWF0Y2gpIHtcbiAgX2luaGVyaXRzKEluY2x1ZGVNYXRjaCwgX0Jhc2VNYXRjaCk7XG4gIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoSW5jbHVkZU1hdGNoKTtcbiAgZnVuY3Rpb24gSW5jbHVkZU1hdGNoKHBhdHRlcm4pIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW5jbHVkZU1hdGNoKTtcbiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgcGF0dGVybik7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEluY2x1ZGVNYXRjaCwgW3tcbiAgICBrZXk6IFwic2VhcmNoXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNlYXJjaCh0ZXh0KSB7XG4gICAgICB2YXIgbG9jYXRpb24gPSAwO1xuICAgICAgdmFyIGluZGV4O1xuICAgICAgdmFyIGluZGljZXMgPSBbXTtcbiAgICAgIHZhciBwYXR0ZXJuTGVuID0gdGhpcy5wYXR0ZXJuLmxlbmd0aDtcblxuICAgICAgLy8gR2V0IGFsbCBleGFjdCBtYXRjaGVzXG4gICAgICB3aGlsZSAoKGluZGV4ID0gdGV4dC5pbmRleE9mKHRoaXMucGF0dGVybiwgbG9jYXRpb24pKSA+IC0xKSB7XG4gICAgICAgIGxvY2F0aW9uID0gaW5kZXggKyBwYXR0ZXJuTGVuO1xuICAgICAgICBpbmRpY2VzLnB1c2goW2luZGV4LCBsb2NhdGlvbiAtIDFdKTtcbiAgICAgIH1cbiAgICAgIHZhciBpc01hdGNoID0gISFpbmRpY2VzLmxlbmd0aDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlzTWF0Y2g6IGlzTWF0Y2gsXG4gICAgICAgIHNjb3JlOiBpc01hdGNoID8gMCA6IDEsXG4gICAgICAgIGluZGljZXM6IGluZGljZXNcbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwidHlwZVwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdpbmNsdWRlJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibXVsdGlSZWdleFwiLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIC9eJ1wiKC4qKVwiJC87XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInNpbmdsZVJlZ2V4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gL14nKC4qKSQvO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gSW5jbHVkZU1hdGNoO1xufShCYXNlTWF0Y2gpO1xuXG4vLyBcdTI3NTdPcmRlciBpcyBpbXBvcnRhbnQuIERPIE5PVCBDSEFOR0UuXG52YXIgc2VhcmNoZXJzID0gW0V4YWN0TWF0Y2gsIEluY2x1ZGVNYXRjaCwgUHJlZml4RXhhY3RNYXRjaCwgSW52ZXJzZVByZWZpeEV4YWN0TWF0Y2gsIEludmVyc2VTdWZmaXhFeGFjdE1hdGNoLCBTdWZmaXhFeGFjdE1hdGNoLCBJbnZlcnNlRXhhY3RNYXRjaCwgRnV6enlNYXRjaF07XG52YXIgc2VhcmNoZXJzTGVuID0gc2VhcmNoZXJzLmxlbmd0aDtcblxuLy8gUmVnZXggdG8gc3BsaXQgYnkgc3BhY2VzLCBidXQga2VlcCBhbnl0aGluZyBpbiBxdW90ZXMgdG9nZXRoZXJcbnZhciBTUEFDRV9SRSA9IC8gKyg/PSg/OlteXFxcIl0qXFxcIlteXFxcIl0qXFxcIikqW15cXFwiXSokKS87XG52YXIgT1JfVE9LRU4gPSAnfCc7XG5cbi8vIFJldHVybiBhIDJEIGFycmF5IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBxdWVyeSwgZm9yIHNpbXBsZXIgcGFyc2luZy5cbi8vIEV4YW1wbGU6XG4vLyBcIl5jb3JlIGdvJCB8IHJiJCB8IHB5JCB4eSRcIiA9PiBbW1wiXmNvcmVcIiwgXCJnbyRcIl0sIFtcInJiJFwiXSwgW1wicHkkXCIsIFwieHkkXCJdXVxuZnVuY3Rpb24gcGFyc2VRdWVyeShwYXR0ZXJuKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgcmV0dXJuIHBhdHRlcm4uc3BsaXQoT1JfVE9LRU4pLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgIHZhciBxdWVyeSA9IGl0ZW0udHJpbSgpLnNwbGl0KFNQQUNFX1JFKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtICYmICEhaXRlbS50cmltKCk7XG4gICAgfSk7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcXVlcnkubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgIHZhciBxdWVyeUl0ZW0gPSBxdWVyeVtpXTtcblxuICAgICAgLy8gMS4gSGFuZGxlIG11bHRpcGxlIHF1ZXJ5IG1hdGNoIChpLmUsIG9uY2UgdGhhdCBhcmUgcXVvdGVkLCBsaWtlIGBcImhlbGxvIHdvcmxkXCJgKVxuICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICB2YXIgaWR4ID0gLTE7XG4gICAgICB3aGlsZSAoIWZvdW5kICYmICsraWR4IDwgc2VhcmNoZXJzTGVuKSB7XG4gICAgICAgIHZhciBzZWFyY2hlciA9IHNlYXJjaGVyc1tpZHhdO1xuICAgICAgICB2YXIgdG9rZW4gPSBzZWFyY2hlci5pc011bHRpTWF0Y2gocXVlcnlJdGVtKTtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBzZWFyY2hlcih0b2tlbiwgb3B0aW9ucykpO1xuICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyAyLiBIYW5kbGUgc2luZ2xlIHF1ZXJ5IG1hdGNoZXMgKGkuZSwgb25jZSB0aGF0IGFyZSAqbm90KiBxdW90ZWQpXG4gICAgICBpZHggPSAtMTtcbiAgICAgIHdoaWxlICgrK2lkeCA8IHNlYXJjaGVyc0xlbikge1xuICAgICAgICB2YXIgX3NlYXJjaGVyID0gc2VhcmNoZXJzW2lkeF07XG4gICAgICAgIHZhciBfdG9rZW4gPSBfc2VhcmNoZXIuaXNTaW5nbGVNYXRjaChxdWVyeUl0ZW0pO1xuICAgICAgICBpZiAoX3Rva2VuKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKG5ldyBfc2VhcmNoZXIoX3Rva2VuLCBvcHRpb25zKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH0pO1xufVxuXG4vLyBUaGVzZSBleHRlbmRlZCBtYXRjaGVycyBjYW4gcmV0dXJuIGFuIGFycmF5IG9mIG1hdGNoZXMsIGFzIG9wcG9zZWRcbi8vIHRvIGEgc2luZ2wgbWF0Y2hcbnZhciBNdWx0aU1hdGNoU2V0ID0gbmV3IFNldChbRnV6enlNYXRjaC50eXBlLCBJbmNsdWRlTWF0Y2gudHlwZV0pO1xuXG4vKipcbiAqIENvbW1hbmQtbGlrZSBzZWFyY2hpbmdcbiAqID09PT09PT09PT09PT09PT09PT09PT1cbiAqXG4gKiBHaXZlbiBtdWx0aXBsZSBzZWFyY2ggdGVybXMgZGVsaW1pdGVkIGJ5IHNwYWNlcy5lLmcuIGBeanNjcmlwdCAucHl0aG9uJCBydWJ5ICFqYXZhYCxcbiAqIHNlYXJjaCBpbiBhIGdpdmVuIHRleHQuXG4gKlxuICogU2VhcmNoIHN5bnRheDpcbiAqXG4gKiB8IFRva2VuICAgICAgIHwgTWF0Y2ggdHlwZSAgICAgICAgICAgICAgICAgfCBEZXNjcmlwdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IC0tLS0tLS0tLS0tIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8XG4gKiB8IGBqc2NyaXB0YCAgIHwgZnV6enktbWF0Y2ggICAgICAgICAgICAgICAgfCBJdGVtcyB0aGF0IGZ1enp5IG1hdGNoIGBqc2NyaXB0YCAgICAgICB8XG4gKiB8IGA9c2NoZW1lYCAgIHwgZXhhY3QtbWF0Y2ggICAgICAgICAgICAgICAgfCBJdGVtcyB0aGF0IGFyZSBgc2NoZW1lYCAgICAgICAgICAgICAgICB8XG4gKiB8IGAncHl0aG9uYCAgIHwgaW5jbHVkZS1tYXRjaCAgICAgICAgICAgICAgfCBJdGVtcyB0aGF0IGluY2x1ZGUgYHB5dGhvbmAgICAgICAgICAgICB8XG4gKiB8IGAhcnVieWAgICAgIHwgaW52ZXJzZS1leGFjdC1tYXRjaCAgICAgICAgfCBJdGVtcyB0aGF0IGRvIG5vdCBpbmNsdWRlIGBydWJ5YCAgICAgICB8XG4gKiB8IGBeamF2YWAgICAgIHwgcHJlZml4LWV4YWN0LW1hdGNoICAgICAgICAgfCBJdGVtcyB0aGF0IHN0YXJ0IHdpdGggYGphdmFgICAgICAgICAgICB8XG4gKiB8IGAhXmVhcmxhbmdgIHwgaW52ZXJzZS1wcmVmaXgtZXhhY3QtbWF0Y2ggfCBJdGVtcyB0aGF0IGRvIG5vdCBzdGFydCB3aXRoIGBlYXJsYW5nYCB8XG4gKiB8IGAuanMkYCAgICAgIHwgc3VmZml4LWV4YWN0LW1hdGNoICAgICAgICAgfCBJdGVtcyB0aGF0IGVuZCB3aXRoIGAuanNgICAgICAgICAgICAgICB8XG4gKiB8IGAhLmdvJGAgICAgIHwgaW52ZXJzZS1zdWZmaXgtZXhhY3QtbWF0Y2ggfCBJdGVtcyB0aGF0IGRvIG5vdCBlbmQgd2l0aCBgLmdvYCAgICAgICB8XG4gKlxuICogQSBzaW5nbGUgcGlwZSBjaGFyYWN0ZXIgYWN0cyBhcyBhbiBPUiBvcGVyYXRvci4gRm9yIGV4YW1wbGUsIHRoZSBmb2xsb3dpbmdcbiAqIHF1ZXJ5IG1hdGNoZXMgZW50cmllcyB0aGF0IHN0YXJ0IHdpdGggYGNvcmVgIGFuZCBlbmQgd2l0aCBlaXRoZXJgZ29gLCBgcmJgLFxuICogb3JgcHlgLlxuICpcbiAqIGBgYFxuICogXmNvcmUgZ28kIHwgcmIkIHwgcHkkXG4gKiBgYGBcbiAqL1xudmFyIEV4dGVuZGVkU2VhcmNoID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRXh0ZW5kZWRTZWFyY2gocGF0dGVybikge1xuICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fSxcbiAgICAgIF9yZWYkaXNDYXNlU2Vuc2l0aXZlID0gX3JlZi5pc0Nhc2VTZW5zaXRpdmUsXG4gICAgICBpc0Nhc2VTZW5zaXRpdmUgPSBfcmVmJGlzQ2FzZVNlbnNpdGl2ZSA9PT0gdm9pZCAwID8gQ29uZmlnLmlzQ2FzZVNlbnNpdGl2ZSA6IF9yZWYkaXNDYXNlU2Vuc2l0aXZlLFxuICAgICAgX3JlZiRpbmNsdWRlTWF0Y2hlcyA9IF9yZWYuaW5jbHVkZU1hdGNoZXMsXG4gICAgICBpbmNsdWRlTWF0Y2hlcyA9IF9yZWYkaW5jbHVkZU1hdGNoZXMgPT09IHZvaWQgMCA/IENvbmZpZy5pbmNsdWRlTWF0Y2hlcyA6IF9yZWYkaW5jbHVkZU1hdGNoZXMsXG4gICAgICBfcmVmJG1pbk1hdGNoQ2hhckxlbmcgPSBfcmVmLm1pbk1hdGNoQ2hhckxlbmd0aCxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aCA9IF9yZWYkbWluTWF0Y2hDaGFyTGVuZyA9PT0gdm9pZCAwID8gQ29uZmlnLm1pbk1hdGNoQ2hhckxlbmd0aCA6IF9yZWYkbWluTWF0Y2hDaGFyTGVuZyxcbiAgICAgIF9yZWYkaWdub3JlTG9jYXRpb24gPSBfcmVmLmlnbm9yZUxvY2F0aW9uLFxuICAgICAgaWdub3JlTG9jYXRpb24gPSBfcmVmJGlnbm9yZUxvY2F0aW9uID09PSB2b2lkIDAgPyBDb25maWcuaWdub3JlTG9jYXRpb24gOiBfcmVmJGlnbm9yZUxvY2F0aW9uLFxuICAgICAgX3JlZiRmaW5kQWxsTWF0Y2hlcyA9IF9yZWYuZmluZEFsbE1hdGNoZXMsXG4gICAgICBmaW5kQWxsTWF0Y2hlcyA9IF9yZWYkZmluZEFsbE1hdGNoZXMgPT09IHZvaWQgMCA/IENvbmZpZy5maW5kQWxsTWF0Y2hlcyA6IF9yZWYkZmluZEFsbE1hdGNoZXMsXG4gICAgICBfcmVmJGxvY2F0aW9uID0gX3JlZi5sb2NhdGlvbixcbiAgICAgIGxvY2F0aW9uID0gX3JlZiRsb2NhdGlvbiA9PT0gdm9pZCAwID8gQ29uZmlnLmxvY2F0aW9uIDogX3JlZiRsb2NhdGlvbixcbiAgICAgIF9yZWYkdGhyZXNob2xkID0gX3JlZi50aHJlc2hvbGQsXG4gICAgICB0aHJlc2hvbGQgPSBfcmVmJHRocmVzaG9sZCA9PT0gdm9pZCAwID8gQ29uZmlnLnRocmVzaG9sZCA6IF9yZWYkdGhyZXNob2xkLFxuICAgICAgX3JlZiRkaXN0YW5jZSA9IF9yZWYuZGlzdGFuY2UsXG4gICAgICBkaXN0YW5jZSA9IF9yZWYkZGlzdGFuY2UgPT09IHZvaWQgMCA/IENvbmZpZy5kaXN0YW5jZSA6IF9yZWYkZGlzdGFuY2U7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV4dGVuZGVkU2VhcmNoKTtcbiAgICB0aGlzLnF1ZXJ5ID0gbnVsbDtcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBpc0Nhc2VTZW5zaXRpdmU6IGlzQ2FzZVNlbnNpdGl2ZSxcbiAgICAgIGluY2x1ZGVNYXRjaGVzOiBpbmNsdWRlTWF0Y2hlcyxcbiAgICAgIG1pbk1hdGNoQ2hhckxlbmd0aDogbWluTWF0Y2hDaGFyTGVuZ3RoLFxuICAgICAgZmluZEFsbE1hdGNoZXM6IGZpbmRBbGxNYXRjaGVzLFxuICAgICAgaWdub3JlTG9jYXRpb246IGlnbm9yZUxvY2F0aW9uLFxuICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgdGhyZXNob2xkOiB0aHJlc2hvbGQsXG4gICAgICBkaXN0YW5jZTogZGlzdGFuY2VcbiAgICB9O1xuICAgIHRoaXMucGF0dGVybiA9IGlzQ2FzZVNlbnNpdGl2ZSA/IHBhdHRlcm4gOiBwYXR0ZXJuLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5xdWVyeSA9IHBhcnNlUXVlcnkodGhpcy5wYXR0ZXJuLCB0aGlzLm9wdGlvbnMpO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhFeHRlbmRlZFNlYXJjaCwgW3tcbiAgICBrZXk6IFwic2VhcmNoSW5cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoSW4odGV4dCkge1xuICAgICAgdmFyIHF1ZXJ5ID0gdGhpcy5xdWVyeTtcbiAgICAgIGlmICghcXVlcnkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpc01hdGNoOiBmYWxzZSxcbiAgICAgICAgICBzY29yZTogMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdmFyIF90aGlzJG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG4gICAgICAgIGluY2x1ZGVNYXRjaGVzID0gX3RoaXMkb3B0aW9ucy5pbmNsdWRlTWF0Y2hlcyxcbiAgICAgICAgaXNDYXNlU2Vuc2l0aXZlID0gX3RoaXMkb3B0aW9ucy5pc0Nhc2VTZW5zaXRpdmU7XG4gICAgICB0ZXh0ID0gaXNDYXNlU2Vuc2l0aXZlID8gdGV4dCA6IHRleHQudG9Mb3dlckNhc2UoKTtcbiAgICAgIHZhciBudW1NYXRjaGVzID0gMDtcbiAgICAgIHZhciBhbGxJbmRpY2VzID0gW107XG4gICAgICB2YXIgdG90YWxTY29yZSA9IDA7XG5cbiAgICAgIC8vIE9Sc1xuICAgICAgZm9yICh2YXIgaSA9IDAsIHFMZW4gPSBxdWVyeS5sZW5ndGg7IGkgPCBxTGVuOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIHNlYXJjaGVycyA9IHF1ZXJ5W2ldO1xuXG4gICAgICAgIC8vIFJlc2V0IGluZGljZXNcbiAgICAgICAgYWxsSW5kaWNlcy5sZW5ndGggPSAwO1xuICAgICAgICBudW1NYXRjaGVzID0gMDtcblxuICAgICAgICAvLyBBTkRzXG4gICAgICAgIGZvciAodmFyIGogPSAwLCBwTGVuID0gc2VhcmNoZXJzLmxlbmd0aDsgaiA8IHBMZW47IGogKz0gMSkge1xuICAgICAgICAgIHZhciBzZWFyY2hlciA9IHNlYXJjaGVyc1tqXTtcbiAgICAgICAgICB2YXIgX3NlYXJjaGVyJHNlYXJjaCA9IHNlYXJjaGVyLnNlYXJjaCh0ZXh0KSxcbiAgICAgICAgICAgIGlzTWF0Y2ggPSBfc2VhcmNoZXIkc2VhcmNoLmlzTWF0Y2gsXG4gICAgICAgICAgICBpbmRpY2VzID0gX3NlYXJjaGVyJHNlYXJjaC5pbmRpY2VzLFxuICAgICAgICAgICAgc2NvcmUgPSBfc2VhcmNoZXIkc2VhcmNoLnNjb3JlO1xuICAgICAgICAgIGlmIChpc01hdGNoKSB7XG4gICAgICAgICAgICBudW1NYXRjaGVzICs9IDE7XG4gICAgICAgICAgICB0b3RhbFNjb3JlICs9IHNjb3JlO1xuICAgICAgICAgICAgaWYgKGluY2x1ZGVNYXRjaGVzKSB7XG4gICAgICAgICAgICAgIHZhciB0eXBlID0gc2VhcmNoZXIuY29uc3RydWN0b3IudHlwZTtcbiAgICAgICAgICAgICAgaWYgKE11bHRpTWF0Y2hTZXQuaGFzKHR5cGUpKSB7XG4gICAgICAgICAgICAgICAgYWxsSW5kaWNlcyA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoYWxsSW5kaWNlcyksIF90b0NvbnN1bWFibGVBcnJheShpbmRpY2VzKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxsSW5kaWNlcy5wdXNoKGluZGljZXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvdGFsU2NvcmUgPSAwO1xuICAgICAgICAgICAgbnVtTWF0Y2hlcyA9IDA7XG4gICAgICAgICAgICBhbGxJbmRpY2VzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBPUiBjb25kaXRpb24sIHNvIGlmIFRSVUUsIHJldHVyblxuICAgICAgICBpZiAobnVtTWF0Y2hlcykge1xuICAgICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICBpc01hdGNoOiB0cnVlLFxuICAgICAgICAgICAgc2NvcmU6IHRvdGFsU2NvcmUgLyBudW1NYXRjaGVzXG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoaW5jbHVkZU1hdGNoZXMpIHtcbiAgICAgICAgICAgIHJlc3VsdC5pbmRpY2VzID0gYWxsSW5kaWNlcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBOb3RoaW5nIHdhcyBtYXRjaGVkXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc01hdGNoOiBmYWxzZSxcbiAgICAgICAgc2NvcmU6IDFcbiAgICAgIH07XG4gICAgfVxuICB9XSwgW3tcbiAgICBrZXk6IFwiY29uZGl0aW9uXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbmRpdGlvbihfLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gb3B0aW9ucy51c2VFeHRlbmRlZFNlYXJjaDtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEV4dGVuZGVkU2VhcmNoO1xufSgpO1xuXG52YXIgcmVnaXN0ZXJlZFNlYXJjaGVycyA9IFtdO1xuZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XG4gIHJlZ2lzdGVyZWRTZWFyY2hlcnMucHVzaC5hcHBseShyZWdpc3RlcmVkU2VhcmNoZXJzLCBhcmd1bWVudHMpO1xufVxuZnVuY3Rpb24gY3JlYXRlU2VhcmNoZXIocGF0dGVybiwgb3B0aW9ucykge1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmVnaXN0ZXJlZFNlYXJjaGVycy5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgIHZhciBzZWFyY2hlckNsYXNzID0gcmVnaXN0ZXJlZFNlYXJjaGVyc1tpXTtcbiAgICBpZiAoc2VhcmNoZXJDbGFzcy5jb25kaXRpb24ocGF0dGVybiwgb3B0aW9ucykpIHtcbiAgICAgIHJldHVybiBuZXcgc2VhcmNoZXJDbGFzcyhwYXR0ZXJuLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBCaXRhcFNlYXJjaChwYXR0ZXJuLCBvcHRpb25zKTtcbn1cblxudmFyIExvZ2ljYWxPcGVyYXRvciA9IHtcbiAgQU5EOiAnJGFuZCcsXG4gIE9SOiAnJG9yJ1xufTtcbnZhciBLZXlUeXBlID0ge1xuICBQQVRIOiAnJHBhdGgnLFxuICBQQVRURVJOOiAnJHZhbCdcbn07XG52YXIgaXNFeHByZXNzaW9uID0gZnVuY3Rpb24gaXNFeHByZXNzaW9uKHF1ZXJ5KSB7XG4gIHJldHVybiAhIShxdWVyeVtMb2dpY2FsT3BlcmF0b3IuQU5EXSB8fCBxdWVyeVtMb2dpY2FsT3BlcmF0b3IuT1JdKTtcbn07XG52YXIgaXNQYXRoID0gZnVuY3Rpb24gaXNQYXRoKHF1ZXJ5KSB7XG4gIHJldHVybiAhIXF1ZXJ5W0tleVR5cGUuUEFUSF07XG59O1xudmFyIGlzTGVhZiA9IGZ1bmN0aW9uIGlzTGVhZihxdWVyeSkge1xuICByZXR1cm4gIWlzQXJyYXkocXVlcnkpICYmIGlzT2JqZWN0KHF1ZXJ5KSAmJiAhaXNFeHByZXNzaW9uKHF1ZXJ5KTtcbn07XG52YXIgY29udmVydFRvRXhwbGljaXQgPSBmdW5jdGlvbiBjb252ZXJ0VG9FeHBsaWNpdChxdWVyeSkge1xuICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCBMb2dpY2FsT3BlcmF0b3IuQU5ELCBPYmplY3Qua2V5cyhxdWVyeSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIHF1ZXJ5W2tleV0pO1xuICB9KSk7XG59O1xuXG4vLyBXaGVuIGBhdXRvYCBpcyBgdHJ1ZWAsIHRoZSBwYXJzZSBmdW5jdGlvbiB3aWxsIGluZmVyIGFuZCBpbml0aWFsaXplIGFuZCBhZGRcbi8vIHRoZSBhcHByb3ByaWF0ZSBgU2VhcmNoZXJgIGluc3RhbmNlXG5mdW5jdGlvbiBwYXJzZShxdWVyeSwgb3B0aW9ucykge1xuICB2YXIgX3JlZjMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9LFxuICAgIF9yZWYzJGF1dG8gPSBfcmVmMy5hdXRvLFxuICAgIGF1dG8gPSBfcmVmMyRhdXRvID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZjMkYXV0bztcbiAgdmFyIG5leHQgPSBmdW5jdGlvbiBuZXh0KHF1ZXJ5KSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhxdWVyeSk7XG4gICAgdmFyIGlzUXVlcnlQYXRoID0gaXNQYXRoKHF1ZXJ5KTtcbiAgICBpZiAoIWlzUXVlcnlQYXRoICYmIGtleXMubGVuZ3RoID4gMSAmJiAhaXNFeHByZXNzaW9uKHF1ZXJ5KSkge1xuICAgICAgcmV0dXJuIG5leHQoY29udmVydFRvRXhwbGljaXQocXVlcnkpKTtcbiAgICB9XG4gICAgaWYgKGlzTGVhZihxdWVyeSkpIHtcbiAgICAgIHZhciBrZXkgPSBpc1F1ZXJ5UGF0aCA/IHF1ZXJ5W0tleVR5cGUuUEFUSF0gOiBrZXlzWzBdO1xuICAgICAgdmFyIHBhdHRlcm4gPSBpc1F1ZXJ5UGF0aCA/IHF1ZXJ5W0tleVR5cGUuUEFUVEVSTl0gOiBxdWVyeVtrZXldO1xuICAgICAgaWYgKCFpc1N0cmluZyhwYXR0ZXJuKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTE9HSUNBTF9TRUFSQ0hfSU5WQUxJRF9RVUVSWV9GT1JfS0VZKGtleSkpO1xuICAgICAgfVxuICAgICAgdmFyIG9iaiA9IHtcbiAgICAgICAga2V5SWQ6IGNyZWF0ZUtleUlkKGtleSksXG4gICAgICAgIHBhdHRlcm46IHBhdHRlcm5cbiAgICAgIH07XG4gICAgICBpZiAoYXV0bykge1xuICAgICAgICBvYmouc2VhcmNoZXIgPSBjcmVhdGVTZWFyY2hlcihwYXR0ZXJuLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHZhciBub2RlID0ge1xuICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgb3BlcmF0b3I6IGtleXNbMF1cbiAgICB9O1xuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBxdWVyeVtrZXldO1xuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICBub2RlLmNoaWxkcmVuLnB1c2gobmV4dChpdGVtKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBub2RlO1xuICB9O1xuICBpZiAoIWlzRXhwcmVzc2lvbihxdWVyeSkpIHtcbiAgICBxdWVyeSA9IGNvbnZlcnRUb0V4cGxpY2l0KHF1ZXJ5KTtcbiAgfVxuICByZXR1cm4gbmV4dChxdWVyeSk7XG59XG5cbi8vIFByYWN0aWNhbCBzY29yaW5nIGZ1bmN0aW9uXG5mdW5jdGlvbiBjb21wdXRlU2NvcmUocmVzdWx0cywgX3JlZikge1xuICB2YXIgX3JlZiRpZ25vcmVGaWVsZE5vcm0gPSBfcmVmLmlnbm9yZUZpZWxkTm9ybSxcbiAgICBpZ25vcmVGaWVsZE5vcm0gPSBfcmVmJGlnbm9yZUZpZWxkTm9ybSA9PT0gdm9pZCAwID8gQ29uZmlnLmlnbm9yZUZpZWxkTm9ybSA6IF9yZWYkaWdub3JlRmllbGROb3JtO1xuICByZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIHZhciB0b3RhbFNjb3JlID0gMTtcbiAgICByZXN1bHQubWF0Y2hlcy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgdmFyIGtleSA9IF9yZWYyLmtleSxcbiAgICAgICAgbm9ybSA9IF9yZWYyLm5vcm0sXG4gICAgICAgIHNjb3JlID0gX3JlZjIuc2NvcmU7XG4gICAgICB2YXIgd2VpZ2h0ID0ga2V5ID8ga2V5LndlaWdodCA6IG51bGw7XG4gICAgICB0b3RhbFNjb3JlICo9IE1hdGgucG93KHNjb3JlID09PSAwICYmIHdlaWdodCA/IE51bWJlci5FUFNJTE9OIDogc2NvcmUsICh3ZWlnaHQgfHwgMSkgKiAoaWdub3JlRmllbGROb3JtID8gMSA6IG5vcm0pKTtcbiAgICB9KTtcbiAgICByZXN1bHQuc2NvcmUgPSB0b3RhbFNjb3JlO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtTWF0Y2hlcyhyZXN1bHQsIGRhdGEpIHtcbiAgdmFyIG1hdGNoZXMgPSByZXN1bHQubWF0Y2hlcztcbiAgZGF0YS5tYXRjaGVzID0gW107XG4gIGlmICghaXNEZWZpbmVkKG1hdGNoZXMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICBpZiAoIWlzRGVmaW5lZChtYXRjaC5pbmRpY2VzKSB8fCAhbWF0Y2guaW5kaWNlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGluZGljZXMgPSBtYXRjaC5pbmRpY2VzLFxuICAgICAgdmFsdWUgPSBtYXRjaC52YWx1ZTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgaW5kaWNlczogaW5kaWNlcyxcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH07XG4gICAgaWYgKG1hdGNoLmtleSkge1xuICAgICAgb2JqLmtleSA9IG1hdGNoLmtleS5zcmM7XG4gICAgfVxuICAgIGlmIChtYXRjaC5pZHggPiAtMSkge1xuICAgICAgb2JqLnJlZkluZGV4ID0gbWF0Y2guaWR4O1xuICAgIH1cbiAgICBkYXRhLm1hdGNoZXMucHVzaChvYmopO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtU2NvcmUocmVzdWx0LCBkYXRhKSB7XG4gIGRhdGEuc2NvcmUgPSByZXN1bHQuc2NvcmU7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdChyZXN1bHRzLCBkb2NzKSB7XG4gIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fSxcbiAgICBfcmVmJGluY2x1ZGVNYXRjaGVzID0gX3JlZi5pbmNsdWRlTWF0Y2hlcyxcbiAgICBpbmNsdWRlTWF0Y2hlcyA9IF9yZWYkaW5jbHVkZU1hdGNoZXMgPT09IHZvaWQgMCA/IENvbmZpZy5pbmNsdWRlTWF0Y2hlcyA6IF9yZWYkaW5jbHVkZU1hdGNoZXMsXG4gICAgX3JlZiRpbmNsdWRlU2NvcmUgPSBfcmVmLmluY2x1ZGVTY29yZSxcbiAgICBpbmNsdWRlU2NvcmUgPSBfcmVmJGluY2x1ZGVTY29yZSA9PT0gdm9pZCAwID8gQ29uZmlnLmluY2x1ZGVTY29yZSA6IF9yZWYkaW5jbHVkZVNjb3JlO1xuICB2YXIgdHJhbnNmb3JtZXJzID0gW107XG4gIGlmIChpbmNsdWRlTWF0Y2hlcykgdHJhbnNmb3JtZXJzLnB1c2godHJhbnNmb3JtTWF0Y2hlcyk7XG4gIGlmIChpbmNsdWRlU2NvcmUpIHRyYW5zZm9ybWVycy5wdXNoKHRyYW5zZm9ybVNjb3JlKTtcbiAgcmV0dXJuIHJlc3VsdHMubWFwKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICB2YXIgaWR4ID0gcmVzdWx0LmlkeDtcbiAgICB2YXIgZGF0YSA9IHtcbiAgICAgIGl0ZW06IGRvY3NbaWR4XSxcbiAgICAgIHJlZkluZGV4OiBpZHhcbiAgICB9O1xuICAgIGlmICh0cmFuc2Zvcm1lcnMubGVuZ3RoKSB7XG4gICAgICB0cmFuc2Zvcm1lcnMuZm9yRWFjaChmdW5jdGlvbiAodHJhbnNmb3JtZXIpIHtcbiAgICAgICAgdHJhbnNmb3JtZXIocmVzdWx0LCBkYXRhKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfSk7XG59XG5cbnZhciBGdXNlJDEgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBGdXNlKGRvY3MpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIGluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBhcmd1bWVudHNbMl0gOiB1bmRlZmluZWQ7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZ1c2UpO1xuICAgIHRoaXMub3B0aW9ucyA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBDb25maWcpLCBvcHRpb25zKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLnVzZUV4dGVuZGVkU2VhcmNoICYmICF0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoRVhURU5ERURfU0VBUkNIX1VOQVZBSUxBQkxFKTtcbiAgICB9XG4gICAgdGhpcy5fa2V5U3RvcmUgPSBuZXcgS2V5U3RvcmUodGhpcy5vcHRpb25zLmtleXMpO1xuICAgIHRoaXMuc2V0Q29sbGVjdGlvbihkb2NzLCBpbmRleCk7XG4gIH1cbiAgX2NyZWF0ZUNsYXNzKEZ1c2UsIFt7XG4gICAga2V5OiBcInNldENvbGxlY3Rpb25cIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q29sbGVjdGlvbihkb2NzLCBpbmRleCkge1xuICAgICAgdGhpcy5fZG9jcyA9IGRvY3M7XG4gICAgICBpZiAoaW5kZXggJiYgIShpbmRleCBpbnN0YW5jZW9mIEZ1c2VJbmRleCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKElOQ09SUkVDVF9JTkRFWF9UWVBFKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX215SW5kZXggPSBpbmRleCB8fCBjcmVhdGVJbmRleCh0aGlzLm9wdGlvbnMua2V5cywgdGhpcy5fZG9jcywge1xuICAgICAgICBnZXRGbjogdGhpcy5vcHRpb25zLmdldEZuLFxuICAgICAgICBmaWVsZE5vcm1XZWlnaHQ6IHRoaXMub3B0aW9ucy5maWVsZE5vcm1XZWlnaHRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJhZGRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKGRvYykge1xuICAgICAgaWYgKCFpc0RlZmluZWQoZG9jKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLl9kb2NzLnB1c2goZG9jKTtcbiAgICAgIHRoaXMuX215SW5kZXguYWRkKGRvYyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICB2YXIgcHJlZGljYXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmdW5jdGlvbiAvKiBkb2MsIGlkeCAqLyAoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG4gICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX2RvY3MubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIGRvYyA9IHRoaXMuX2RvY3NbaV07XG4gICAgICAgIGlmIChwcmVkaWNhdGUoZG9jLCBpKSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlQXQoaSk7XG4gICAgICAgICAgaSAtPSAxO1xuICAgICAgICAgIGxlbiAtPSAxO1xuICAgICAgICAgIHJlc3VsdHMucHVzaChkb2MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlQXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQXQoaWR4KSB7XG4gICAgICB0aGlzLl9kb2NzLnNwbGljZShpZHgsIDEpO1xuICAgICAgdGhpcy5fbXlJbmRleC5yZW1vdmVBdChpZHgpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJnZXRJbmRleFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJbmRleCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9teUluZGV4O1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzZWFyY2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2VhcmNoKHF1ZXJ5KSB7XG4gICAgICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge30sXG4gICAgICAgIF9yZWYkbGltaXQgPSBfcmVmLmxpbWl0LFxuICAgICAgICBsaW1pdCA9IF9yZWYkbGltaXQgPT09IHZvaWQgMCA/IC0xIDogX3JlZiRsaW1pdDtcbiAgICAgIHZhciBfdGhpcyRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuICAgICAgICBpbmNsdWRlTWF0Y2hlcyA9IF90aGlzJG9wdGlvbnMuaW5jbHVkZU1hdGNoZXMsXG4gICAgICAgIGluY2x1ZGVTY29yZSA9IF90aGlzJG9wdGlvbnMuaW5jbHVkZVNjb3JlLFxuICAgICAgICBzaG91bGRTb3J0ID0gX3RoaXMkb3B0aW9ucy5zaG91bGRTb3J0LFxuICAgICAgICBzb3J0Rm4gPSBfdGhpcyRvcHRpb25zLnNvcnRGbixcbiAgICAgICAgaWdub3JlRmllbGROb3JtID0gX3RoaXMkb3B0aW9ucy5pZ25vcmVGaWVsZE5vcm07XG4gICAgICB2YXIgcmVzdWx0cyA9IGlzU3RyaW5nKHF1ZXJ5KSA/IGlzU3RyaW5nKHRoaXMuX2RvY3NbMF0pID8gdGhpcy5fc2VhcmNoU3RyaW5nTGlzdChxdWVyeSkgOiB0aGlzLl9zZWFyY2hPYmplY3RMaXN0KHF1ZXJ5KSA6IHRoaXMuX3NlYXJjaExvZ2ljYWwocXVlcnkpO1xuICAgICAgY29tcHV0ZVNjb3JlKHJlc3VsdHMsIHtcbiAgICAgICAgaWdub3JlRmllbGROb3JtOiBpZ25vcmVGaWVsZE5vcm1cbiAgICAgIH0pO1xuICAgICAgaWYgKHNob3VsZFNvcnQpIHtcbiAgICAgICAgcmVzdWx0cy5zb3J0KHNvcnRGbik7XG4gICAgICB9XG4gICAgICBpZiAoaXNOdW1iZXIobGltaXQpICYmIGxpbWl0ID4gLTEpIHtcbiAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMuc2xpY2UoMCwgbGltaXQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZvcm1hdChyZXN1bHRzLCB0aGlzLl9kb2NzLCB7XG4gICAgICAgIGluY2x1ZGVNYXRjaGVzOiBpbmNsdWRlTWF0Y2hlcyxcbiAgICAgICAgaW5jbHVkZVNjb3JlOiBpbmNsdWRlU2NvcmVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJfc2VhcmNoU3RyaW5nTGlzdFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfc2VhcmNoU3RyaW5nTGlzdChxdWVyeSkge1xuICAgICAgdmFyIHNlYXJjaGVyID0gY3JlYXRlU2VhcmNoZXIocXVlcnksIHRoaXMub3B0aW9ucyk7XG4gICAgICB2YXIgcmVjb3JkcyA9IHRoaXMuX215SW5kZXgucmVjb3JkcztcbiAgICAgIHZhciByZXN1bHRzID0gW107XG5cbiAgICAgIC8vIEl0ZXJhdGUgb3ZlciBldmVyeSBzdHJpbmcgaW4gdGhlIGluZGV4XG4gICAgICByZWNvcmRzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gX3JlZjIudixcbiAgICAgICAgICBpZHggPSBfcmVmMi5pLFxuICAgICAgICAgIG5vcm0gPSBfcmVmMi5uO1xuICAgICAgICBpZiAoIWlzRGVmaW5lZCh0ZXh0KSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3NlYXJjaGVyJHNlYXJjaEluID0gc2VhcmNoZXIuc2VhcmNoSW4odGV4dCksXG4gICAgICAgICAgaXNNYXRjaCA9IF9zZWFyY2hlciRzZWFyY2hJbi5pc01hdGNoLFxuICAgICAgICAgIHNjb3JlID0gX3NlYXJjaGVyJHNlYXJjaEluLnNjb3JlLFxuICAgICAgICAgIGluZGljZXMgPSBfc2VhcmNoZXIkc2VhcmNoSW4uaW5kaWNlcztcbiAgICAgICAgaWYgKGlzTWF0Y2gpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgaXRlbTogdGV4dCxcbiAgICAgICAgICAgIGlkeDogaWR4LFxuICAgICAgICAgICAgbWF0Y2hlczogW3tcbiAgICAgICAgICAgICAgc2NvcmU6IHNjb3JlLFxuICAgICAgICAgICAgICB2YWx1ZTogdGV4dCxcbiAgICAgICAgICAgICAgbm9ybTogbm9ybSxcbiAgICAgICAgICAgICAgaW5kaWNlczogaW5kaWNlc1xuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiX3NlYXJjaExvZ2ljYWxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gX3NlYXJjaExvZ2ljYWwocXVlcnkpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB2YXIgZXhwcmVzc2lvbiA9IHBhcnNlKHF1ZXJ5LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgdmFyIGV2YWx1YXRlID0gZnVuY3Rpb24gZXZhbHVhdGUobm9kZSwgaXRlbSwgaWR4KSB7XG4gICAgICAgIGlmICghbm9kZS5jaGlsZHJlbikge1xuICAgICAgICAgIHZhciBrZXlJZCA9IG5vZGUua2V5SWQsXG4gICAgICAgICAgICBzZWFyY2hlciA9IG5vZGUuc2VhcmNoZXI7XG4gICAgICAgICAgdmFyIG1hdGNoZXMgPSBfdGhpcy5fZmluZE1hdGNoZXMoe1xuICAgICAgICAgICAga2V5OiBfdGhpcy5fa2V5U3RvcmUuZ2V0KGtleUlkKSxcbiAgICAgICAgICAgIHZhbHVlOiBfdGhpcy5fbXlJbmRleC5nZXRWYWx1ZUZvckl0ZW1BdEtleUlkKGl0ZW0sIGtleUlkKSxcbiAgICAgICAgICAgIHNlYXJjaGVyOiBzZWFyY2hlclxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gW3tcbiAgICAgICAgICAgICAgaWR4OiBpZHgsXG4gICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgIG1hdGNoZXM6IG1hdGNoZXNcbiAgICAgICAgICAgIH1dO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbm9kZS5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGV2YWx1YXRlKGNoaWxkLCBpdGVtLCBpZHgpO1xuICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXMucHVzaC5hcHBseShyZXMsIF90b0NvbnN1bWFibGVBcnJheShyZXN1bHQpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUub3BlcmF0b3IgPT09IExvZ2ljYWxPcGVyYXRvci5BTkQpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH07XG4gICAgICB2YXIgcmVjb3JkcyA9IHRoaXMuX215SW5kZXgucmVjb3JkcztcbiAgICAgIHZhciByZXN1bHRNYXAgPSB7fTtcbiAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICByZWNvcmRzLmZvckVhY2goZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgIHZhciBpdGVtID0gX3JlZjMuJCxcbiAgICAgICAgICBpZHggPSBfcmVmMy5pO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGl0ZW0pKSB7XG4gICAgICAgICAgdmFyIGV4cFJlc3VsdHMgPSBldmFsdWF0ZShleHByZXNzaW9uLCBpdGVtLCBpZHgpO1xuICAgICAgICAgIGlmIChleHBSZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gRGVkdXBlIHdoZW4gYWRkaW5nXG4gICAgICAgICAgICBpZiAoIXJlc3VsdE1hcFtpZHhdKSB7XG4gICAgICAgICAgICAgIHJlc3VsdE1hcFtpZHhdID0ge1xuICAgICAgICAgICAgICAgIGlkeDogaWR4LFxuICAgICAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICAgICAgbWF0Y2hlczogW11cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHJlc3VsdE1hcFtpZHhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4cFJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjQpIHtcbiAgICAgICAgICAgICAgdmFyIF9yZXN1bHRNYXAkaWR4JG1hdGNoZTtcbiAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBfcmVmNC5tYXRjaGVzO1xuICAgICAgICAgICAgICAoX3Jlc3VsdE1hcCRpZHgkbWF0Y2hlID0gcmVzdWx0TWFwW2lkeF0ubWF0Y2hlcykucHVzaC5hcHBseShfcmVzdWx0TWFwJGlkeCRtYXRjaGUsIF90b0NvbnN1bWFibGVBcnJheShtYXRjaGVzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9zZWFyY2hPYmplY3RMaXN0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIF9zZWFyY2hPYmplY3RMaXN0KHF1ZXJ5KSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcbiAgICAgIHZhciBzZWFyY2hlciA9IGNyZWF0ZVNlYXJjaGVyKHF1ZXJ5LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgdmFyIF90aGlzJF9teUluZGV4ID0gdGhpcy5fbXlJbmRleCxcbiAgICAgICAga2V5cyA9IF90aGlzJF9teUluZGV4LmtleXMsXG4gICAgICAgIHJlY29yZHMgPSBfdGhpcyRfbXlJbmRleC5yZWNvcmRzO1xuICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcblxuICAgICAgLy8gTGlzdCBpcyBBcnJheTxPYmplY3Q+XG4gICAgICByZWNvcmRzLmZvckVhY2goZnVuY3Rpb24gKF9yZWY1KSB7XG4gICAgICAgIHZhciBpdGVtID0gX3JlZjUuJCxcbiAgICAgICAgICBpZHggPSBfcmVmNS5pO1xuICAgICAgICBpZiAoIWlzRGVmaW5lZChpdGVtKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuXG4gICAgICAgIC8vIEl0ZXJhdGUgb3ZlciBldmVyeSBrZXkgKGkuZSwgcGF0aCksIGFuZCBmZXRjaCB0aGUgdmFsdWUgYXQgdGhhdCBrZXlcbiAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGtleUluZGV4KSB7XG4gICAgICAgICAgbWF0Y2hlcy5wdXNoLmFwcGx5KG1hdGNoZXMsIF90b0NvbnN1bWFibGVBcnJheShfdGhpczIuX2ZpbmRNYXRjaGVzKHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgdmFsdWU6IGl0ZW1ba2V5SW5kZXhdLFxuICAgICAgICAgICAgc2VhcmNoZXI6IHNlYXJjaGVyXG4gICAgICAgICAgfSkpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgICBpZHg6IGlkeCxcbiAgICAgICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgICAgICBtYXRjaGVzOiBtYXRjaGVzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIl9maW5kTWF0Y2hlc1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZmluZE1hdGNoZXMoX3JlZjYpIHtcbiAgICAgIHZhciBrZXkgPSBfcmVmNi5rZXksXG4gICAgICAgIHZhbHVlID0gX3JlZjYudmFsdWUsXG4gICAgICAgIHNlYXJjaGVyID0gX3JlZjYuc2VhcmNoZXI7XG4gICAgICBpZiAoIWlzRGVmaW5lZCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmNykge1xuICAgICAgICAgIHZhciB0ZXh0ID0gX3JlZjcudixcbiAgICAgICAgICAgIGlkeCA9IF9yZWY3LmksXG4gICAgICAgICAgICBub3JtID0gX3JlZjcubjtcbiAgICAgICAgICBpZiAoIWlzRGVmaW5lZCh0ZXh0KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgX3NlYXJjaGVyJHNlYXJjaEluMiA9IHNlYXJjaGVyLnNlYXJjaEluKHRleHQpLFxuICAgICAgICAgICAgaXNNYXRjaCA9IF9zZWFyY2hlciRzZWFyY2hJbjIuaXNNYXRjaCxcbiAgICAgICAgICAgIHNjb3JlID0gX3NlYXJjaGVyJHNlYXJjaEluMi5zY29yZSxcbiAgICAgICAgICAgIGluZGljZXMgPSBfc2VhcmNoZXIkc2VhcmNoSW4yLmluZGljZXM7XG4gICAgICAgICAgaWYgKGlzTWF0Y2gpIHtcbiAgICAgICAgICAgIG1hdGNoZXMucHVzaCh7XG4gICAgICAgICAgICAgIHNjb3JlOiBzY29yZSxcbiAgICAgICAgICAgICAga2V5OiBrZXksXG4gICAgICAgICAgICAgIHZhbHVlOiB0ZXh0LFxuICAgICAgICAgICAgICBpZHg6IGlkeCxcbiAgICAgICAgICAgICAgbm9ybTogbm9ybSxcbiAgICAgICAgICAgICAgaW5kaWNlczogaW5kaWNlc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB0ZXh0ID0gdmFsdWUudixcbiAgICAgICAgICBub3JtID0gdmFsdWUubjtcbiAgICAgICAgdmFyIF9zZWFyY2hlciRzZWFyY2hJbjMgPSBzZWFyY2hlci5zZWFyY2hJbih0ZXh0KSxcbiAgICAgICAgICBpc01hdGNoID0gX3NlYXJjaGVyJHNlYXJjaEluMy5pc01hdGNoLFxuICAgICAgICAgIHNjb3JlID0gX3NlYXJjaGVyJHNlYXJjaEluMy5zY29yZSxcbiAgICAgICAgICBpbmRpY2VzID0gX3NlYXJjaGVyJHNlYXJjaEluMy5pbmRpY2VzO1xuICAgICAgICBpZiAoaXNNYXRjaCkge1xuICAgICAgICAgIG1hdGNoZXMucHVzaCh7XG4gICAgICAgICAgICBzY29yZTogc2NvcmUsXG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHZhbHVlOiB0ZXh0LFxuICAgICAgICAgICAgbm9ybTogbm9ybSxcbiAgICAgICAgICAgIGluZGljZXM6IGluZGljZXNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBGdXNlO1xufSgpO1xuXG5GdXNlJDEudmVyc2lvbiA9ICc3LjAuMCc7XG5GdXNlJDEuY3JlYXRlSW5kZXggPSBjcmVhdGVJbmRleDtcbkZ1c2UkMS5wYXJzZUluZGV4ID0gcGFyc2VJbmRleDtcbkZ1c2UkMS5jb25maWcgPSBDb25maWc7XG57XG4gIEZ1c2UkMS5wYXJzZVF1ZXJ5ID0gcGFyc2U7XG59XG57XG4gIHJlZ2lzdGVyKEV4dGVuZGVkU2VhcmNoKTtcbn1cbnZhciBGdXNlID0gRnVzZSQxO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZ1c2U7XG4iLCAiY29uc3QgRGFya1JlYWRlciA9IHJlcXVpcmUoJ2RhcmtyZWFkZXInKTtcclxuRGFya1JlYWRlci5zZXRGZXRjaE1ldGhvZCh3aW5kb3cuZmV0Y2gpO1xyXG5EYXJrUmVhZGVyLmF1dG8oKTtcclxuXHJcbmNvbnN0IEZ1c2UgPSByZXF1aXJlKCdmdXNlLmpzJylcclxuXHJcbmZ1bmN0aW9uIEFsbGJvb2tpbmdEYXRhKCkge1xyXG4gICAgdmFyIHJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHItaG92ZXInKTtcclxuICAgIHZhciBhbGxfYm9vb2tpbmdzID0gW107XHJcbiAgICB2YXIgYm9va2luZ0luZm87XHJcbiAgICByb3dzLmZvckVhY2gociA9PiB7XHJcbiAgICAgICAgYm9va2luZ0luZm8gPSB7XHJcbiAgICAgICAgICAgIGlkOiByLmNlbGxzWzBdLmlubmVyVGV4dCxcclxuICAgICAgICAgICAgd2hlbkJvb2tlZDogci5jZWxsc1sxXS5pbm5lclRleHQsXHJcbiAgICAgICAgICAgIG5hbWU6IHIuY2VsbHNbMl0uaW5uZXJUZXh0LFxyXG4gICAgICAgICAgICBlbWFpbDogci5jZWxsc1szXS5pbm5lclRleHQsXHJcbiAgICAgICAgICAgIGNhcmROdW1iZXI6IHIuY2VsbHNbNF0uaW5uZXJUZXh0LFxyXG4gICAgICAgICAgICBleHBpcnlEYXRlOiByLmNlbGxzWzVdLmlubmVyVGV4dCxcclxuICAgICAgICAgICAgY3Z2OiByLmNlbGxzWzZdLmlubmVyVGV4dCxcclxuICAgICAgICAgICAgdGltZTogci5jZWxsc1s3XS5pbm5lclRleHQsXHJcbiAgICAgICAgICAgIGRhdGU6IHIuY2VsbHNbOF0uaW5uZXJUZXh0LFxyXG4gICAgICAgICAgICBza2lsbExldmVsOiByLmNlbGxzWzldLmlubmVyVGV4dFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgYWxsX2Jvb29raW5ncy5wdXNoKGJvb2tpbmdJbmZvKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBhbGxfYm9vb2tpbmdzO1xyXG59XHJcblxyXG5mdW5jdGlvbiByb3dTZWxlY3Rpb25TdHlsZShzdHlsZSwgaW5kZXgpIHtcclxuICAgIHZhciB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYm9va2luZ19kZXRhaWxzXCIpO1xyXG4gICAgaWYgKGluZGV4ICE9IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGlmIChzdHlsZSA9PSBcIm1vZGlmeVwiKSB7XHJcbiAgICAgICAgICAgIC8vIHJlbW92ZSB0aGUgdG9nZ2xlIHN0eWxlIGZyb20gYWxsIHRoZSBvdGhlciByb3dzXHJcbiAgICAgICAgICAgIHZhciByb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRyLWhvdmVyJyk7XHJcbiAgICAgICAgICAgIHJvd3MuZm9yRWFjaChyID0+IHIuY2xhc3NMaXN0LmFkZChcIm1vZGlmeVwiKSk7XHJcbiAgICAgICAgICAgIHJvd3MuZm9yRWFjaChyID0+IHIuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGlmeV9zZWxlY3RlZFwiKSk7XHJcblxyXG4gICAgICAgICAgICAvLyB0aGVuIGp1c3QgYWRkIHRoZSB0b2dnbGUgc3R5bGUgdG8gdGhlIHNlbGVjdGVkIHJvd1xyXG4gICAgICAgICAgICB0YWJsZS5yb3dzW2luZGV4XS5jbGFzc0xpc3QudG9nZ2xlKHN0eWxlKTtcclxuICAgICAgICAgICAgdGFibGUucm93c1tpbmRleF0uY2xhc3NMaXN0LnRvZ2dsZShgJHtzdHlsZX1fc2VsZWN0ZWRgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRhYmxlLnJvd3NbaW5kZXhdLmNsYXNzTGlzdC50b2dnbGUoc3R5bGUpO1xyXG4gICAgICAgICAgICB0YWJsZS5yb3dzW2luZGV4XS5jbGFzc0xpc3QudG9nZ2xlKGAke3N0eWxlfV9zZWxlY3RlZGApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SUQoc2VsZWN0ZWRfcm93KSB7XHJcbiAgICBsZXQgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJvb2tpbmdfZGV0YWlsc1wiKTtcclxuICAgIGxldCByb3dFbGVtZW50ID0gdGFibGUucm93c1tzZWxlY3RlZF9yb3ddXHJcblxyXG4gICAgcmV0dXJuIHJvd0VsZW1lbnQuY2VsbHNbMF0uaW5uZXJUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiB0b2dnbGVCdXR0b25TdHlsZShzdHlsZU5hbWUpIHtcclxuICAgIHZhciByb3dzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRyLWhvdmVyJyk7XHJcblxyXG4gICAgdmFyIHN0eWxlcyA9IFtcIm1vZGlmeVwiLCBcImRlbGV0ZVNvbWVcIiwgXCJkZWxldGVBbGxcIiwgXCJzeW5jXCJdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICByb3dzLmZvckVhY2gociA9PiByLmNsYXNzTGlzdC5yZW1vdmUoc3R5bGVzW2ldKSk7XHJcbiAgICAgICAgcm93cy5mb3JFYWNoKHIgPT4gci5jbGFzc0xpc3QucmVtb3ZlKGAke3N0eWxlc1tpXX1fYWN0aXZlYCkpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZiAoQWxsYm9va2luZ0RhdGEoKSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICByb3dzLmZvckVhY2gociA9PiByLmNsYXNzTGlzdC50b2dnbGUoc3R5bGVOYW1lKSk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3R5bGVOYW1lKS5jbGFzc0xpc3QudG9nZ2xlKGAke3N0eWxlTmFtZX1fYWN0aXZlYCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVCdXR0b25TdHlsZShzdHlsZU5hbWUpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0eWxlTmFtZSkuY2xhc3NMaXN0LnJlbW92ZShgJHtzdHlsZU5hbWV9X2FjdGl2ZWApO1xyXG59XHJcblxyXG4vLyAhIGdsb2JhbFxyXG4vLyBpcyBwcmVmZXJlZCBvdmVyIEFsbEJvb2tpbmdJbmZvKCkgYmVjYXVzZSBjb2xsZWN0ZWRfYm9va2luZ3MgaXMgZmlsdGVyZWRcclxudmFyIGNvbGxlY3RlZF9ib29raW5ncyA9IFtdO1xyXG52YXIgYnV0dG9uX3ByZXNzZWQ7XHJcblxyXG52YXIgbWFya2VkX2lkcyA9IFtdO1xyXG5cclxudmFyIHNlbGVjdGVkX3JvdztcclxuXHJcbnZhciBtb2RpZnlfcHJlc3NlZCA9IGZhbHNlO1xyXG52YXIgZGVsZXRlU29tZV9wcmVzc2VkID0gZmFsc2U7XHJcbnZhciBkZWxldGVBbGxfcHJlc3NlZCA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdEJvb2tpbmcocm93RWxlbWVudCkge1xyXG4gICAgdmFyIGJvb2tpbmdJbmZvID0ge1xyXG4gICAgICAgIGlkOiByb3dFbGVtZW50LmNlbGxzWzBdLmlubmVyVGV4dCxcclxuICAgICAgICB3aGVuQm9va2VkOiByb3dFbGVtZW50LmNlbGxzWzFdLmlubmVyVGV4dCxcclxuICAgICAgICBuYW1lOiByb3dFbGVtZW50LmNlbGxzWzJdLmlubmVyVGV4dCxcclxuICAgICAgICBlbWFpbDogcm93RWxlbWVudC5jZWxsc1szXS5pbm5lclRleHQsXHJcbiAgICAgICAgY2FyZE51bWJlcjogcm93RWxlbWVudC5jZWxsc1s0XS5pbm5lclRleHQsXHJcbiAgICAgICAgZXhwaXJ5RGF0ZTogcm93RWxlbWVudC5jZWxsc1s1XS5pbm5lclRleHQsXHJcbiAgICAgICAgY3Z2OiByb3dFbGVtZW50LmNlbGxzWzZdLmlubmVyVGV4dCxcclxuICAgICAgICB0aW1lOiByb3dFbGVtZW50LmNlbGxzWzddLmlubmVyVGV4dCxcclxuICAgICAgICBkYXRlOiByb3dFbGVtZW50LmNlbGxzWzhdLmlubmVyVGV4dCxcclxuICAgICAgICBza2lsbExldmVsOiByb3dFbGVtZW50LmNlbGxzWzldLmlubmVyVGV4dFxyXG4gICAgfTtcclxuXHJcbiAgICBib29raW5nSW5mbyA9IEpTT04uc3RyaW5naWZ5KGJvb2tpbmdJbmZvKTtcclxuXHJcbiAgICAvLyAhIE5vdGU6IHRoYXQgc2VsZWN0ZWRfcm93IGlzIHplcm8gaW5kZXhlZCBidXQgdGhlIDB0aCByb3cgaXMgdGhlIElELCB3aGVuIGJvb2tlZCwgbmFtZSBlbWFpbCwgZXRjLi4uXHJcbiAgICBzZWxlY3RlZF9yb3cgPSByb3dFbGVtZW50LnJvd0luZGV4O1xyXG4gICAgbGV0IGN1cnJlbnRfaWQgPSBnZXRJRChzZWxlY3RlZF9yb3cpO1xyXG5cclxuICAgIC8vIHRvZG86IG9ubHkgYWxsb3cgb25lIHJvdyB0byBiZSBzZWxlY3QgYXQgYSB0aW1lXHJcbiAgICBpZiAobW9kaWZ5X3ByZXNzZWQpIHtcclxuICAgICAgICByb3dTZWxlY3Rpb25TdHlsZShcIm1vZGlmeVwiLCBzZWxlY3RlZF9yb3cpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlbGV0ZVNvbWVfcHJlc3NlZCkge1xyXG4gICAgICAgIHJvd1NlbGVjdGlvblN0eWxlKFwiZGVsZXRlU29tZVwiLCBzZWxlY3RlZF9yb3cpO1xyXG4gICAgfVxyXG4gICAgaWYgKGRlbGV0ZUFsbF9wcmVzc2VkKSB7XHJcbiAgICAgICAgcm93U2VsZWN0aW9uU3R5bGUoXCJkZWxldGVBbGxcIiwgc2VsZWN0ZWRfcm93KTtcclxuICAgIH1cclxuXHJcbiAgICBidXR0b25fcHJlc3NlZCA9IG1vZGlmeV9wcmVzc2VkIHx8IGRlbGV0ZVNvbWVfcHJlc3NlZCB8fCBkZWxldGVBbGxfcHJlc3NlZDtcclxuXHJcbiAgICBpZiAoYnV0dG9uX3ByZXNzZWQpIHtcclxuICAgICAgICAvLyB0byBzZWxlY3Qgcm93XHJcbiAgICAgICAgLy8gPyBrZWVwIGluIG1pbmQgdGhhdCB5b3Ugb25seSBuZWVkIHRvIHNlbGVjdCBvbmUgcm93IGZvciBNT0RJRllcclxuICAgICAgICBsZXQgcm93SUQgPSBnZXRJRChzZWxlY3RlZF9yb3cpO1xyXG4gICAgICAgIGlmICghbWFya2VkX2lkcy5pbmNsdWRlcyhjdXJyZW50X2lkKSAmJiAhY29sbGVjdGVkX2Jvb2tpbmdzLmluY2x1ZGVzKGJvb2tpbmdJbmZvKSkge1xyXG4gICAgICAgICAgICAvLyBvbmx5IHNlbGVjdCBvbmUgaWQgYW5kIHJvdyBpbmZvcm1hdGlvbiBhdCBhIHRpbWUgaWYgbW9kaWZ0IGJ1dHRvbiBpcyBwcmVzc2VkXHJcbiAgICAgICAgICAgIGlmIChtb2RpZnlfcHJlc3NlZCkge1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdGVkX2Jvb2tpbmdzID0gW2Jvb2tpbmdJbmZvXTtcclxuICAgICAgICAgICAgICAgIG1hcmtlZF9pZHMgPSBbcm93SURdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdGVkX2Jvb2tpbmdzLnB1c2goYm9va2luZ0luZm8pO1xyXG4gICAgICAgICAgICAgICAgbWFya2VkX2lkcy5wdXNoKHJvd0lEKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdG8gdW5zZWxlY3QgYSByb3dcclxuICAgICAgICBlbHNlIGlmIChtYXJrZWRfaWRzLmluY2x1ZGVzKGN1cnJlbnRfaWQpKSB7XHJcbiAgICAgICAgICAgIG1hcmtlZF9pZHMgPSBtYXJrZWRfaWRzLmZpbHRlcigoaWQpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50X2lkICE9IGlkO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbGxlY3RlZF9ib29raW5ncyA9IGNvbGxlY3RlZF9ib29raW5ncy5maWx0ZXIoKGJvb2tpbmcpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBib29raW5nICE9IGJvb2tpbmdJbmZvO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN5bmNQdWxzZSgpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3luY1wiKS5jbGFzc0xpc3QuYWRkKFwic3luY19wdWxzZVwiKTtcclxufVxyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzeW5jXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAobW9kaWZ5X3ByZXNzZWQpIHtcclxuICAgICAgICBhd2FpdCBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9tb2RpZnlcIiwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IGNvbGxlY3RlZF9ib29raW5nc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsb2NhdGlvbi5yZXBsYWNlKCdodHRwOi8vbG9jYWxob3N0OjMwMDAvbW9kaWZ5Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRlbGV0ZVNvbWVfcHJlc3NlZCkge1xyXG4gICAgICAgIGF3YWl0IGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2RlbGV0ZVNvbWVcIiwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG1hcmtlZF9pZHMpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRlbGV0ZUFsbF9wcmVzc2VkKSB7XHJcbiAgICAgICAgYXdhaXQgZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvZGVsZXRlQWxsXCIsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gISBzb21ldGltZXMgeW91IGhhdmUgdG8gZG8gYSBoYXJkIHJlZnJlc2ggKGVtcHR5IGNhY2hlIGFuZCByZWZyZXNoKVxyXG4gICAgLy8gZm9yIHRoZSBwYWdlIHRvIGxvYWQgaXRzZWxmIGFuZCBtYWtlIHN1cmUgdGhhdCBubyBnb29nbGUgZXh0ZW5zaW9ucyBhcmUgaW50ZXJmZXJpbmdcclxuICAgIGlmIChkZWxldGVTb21lX3ByZXNzZWQgfHwgZGVsZXRlQWxsX3ByZXNzZWQpIHtcclxuICAgICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8gdG9kbzogY3JlYXRlIGEgL21vZGlmeS9pZF9wYWdlXHJcbmxldCBtb2RpZnlfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RpZnlcIik7XHJcbm1vZGlmeV9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcclxuICAgIHRvZ2dsZUJ1dHRvblN0eWxlKFwibW9kaWZ5XCIpO1xyXG4gICAgaGlkZUJ1dHRvblN0eWxlKFwiZGVsZXRlU29tZVwiKTtcclxuICAgIGhpZGVCdXR0b25TdHlsZShcImRlbGV0ZUFsbFwiKTtcclxuICAgIG1vZGlmeV9wcmVzc2VkID0gdHJ1ZTtcclxuICAgIGRlbGV0ZVNvbWVfcHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgZGVsZXRlQWxsX3ByZXNzZWQgPSBmYWxzZTtcclxuICAgIHN5bmNQdWxzZSgpO1xyXG59KTtcclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVsZXRlU29tZVwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgaGlkZUJ1dHRvblN0eWxlKFwibW9kaWZ5XCIpO1xyXG4gICAgdG9nZ2xlQnV0dG9uU3R5bGUoXCJkZWxldGVTb21lXCIpO1xyXG4gICAgaGlkZUJ1dHRvblN0eWxlKFwiZGVsZXRlQWxsXCIpO1xyXG4gICAgZGVsZXRlU29tZV9wcmVzc2VkID0gdHJ1ZTtcclxuICAgIGRlbGV0ZUFsbF9wcmVzc2VkID0gZmFsc2U7XHJcbiAgICBtb2RpZnlfcHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgc3luY1B1bHNlKCk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWxldGVBbGxcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGhpZGVCdXR0b25TdHlsZShcIm1vZGlmeVwiKTtcclxuICAgIGhpZGVCdXR0b25TdHlsZShcImRlbGV0ZVNvbWVcIik7XHJcbiAgICB0b2dnbGVCdXR0b25TdHlsZShcImRlbGV0ZUFsbFwiKTtcclxuICAgIGRlbGV0ZUFsbF9wcmVzc2VkID0gdHJ1ZTtcclxuICAgIG1vZGlmeV9wcmVzc2VkID0gZmFsc2U7XHJcbiAgICBkZWxldGVTb21lX3ByZXNzZWQgPSBmYWxzZTtcclxuICAgIHN5bmNQdWxzZSgpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGNsZWFyVGFibGUoKSB7XHJcbiAgICB2YXIgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm9va2luZ19kZXRhaWxzJyk7XHJcbiAgICAvLyBSZW1vdmUgYWxsIHJvd3MgZXhjZXB0IHRoZSBoZWFkZXJcclxuICAgIGZvciAodmFyIGkgPSB0YWJsZS5yb3dzLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcclxuICAgICAgICB0YWJsZS5kZWxldGVSb3coaSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsaWNrTGlzdG5lcigpIHtcclxuICAgIHZhciB0YWJsZVJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHItaG92ZXInKTtcclxuICAgIHRhYmxlUm93cy5mb3JFYWNoKChyb3cpID0+IHtcclxuICAgICAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHNlbGVjdEJvb2tpbmcocm93KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW5kZXJSZXN1bHRzKHJlc3VsdHMsIHF1ZXJ5KSB7XHJcbiAgICB2YXIgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYm9va2luZ19kZXRhaWxzJyk7XHJcbiAgICB2YXIgY3VycmVudF9ib29raW5nO1xyXG4gICAgcmVzdWx0cy5mb3JFYWNoKChib29raW5nKSA9PiB7XHJcbiAgICAgICAgdmFyIHJvdyA9IHRhYmxlLmluc2VydFJvdygtMSk7XHJcbiAgICAgICAgcm93LmNsYXNzTGlzdC50b2dnbGUoJ3RyLWhvdmVyJyk7XHJcbiAgICAgICAgaWYgKGJvb2tpbmcuaXRlbSAhPSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY3VycmVudF9ib29raW5nID0gYm9va2luZy5pdGVtXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjdXJyZW50X2Jvb2tpbmcgPSBib29raW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gY3VycmVudF9ib29raW5nKSB7XHJcbiAgICAgICAgICAgIGxldCBjZWxsID0gcm93Lmluc2VydENlbGwoKTtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gY3VycmVudF9ib29raW5nW2tleV1cclxuICAgICAgICAgICAgY2VsbC5pbm5lckhUTUwgPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChxdWVyeSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5LmluY2x1ZGVzKHZhbHVlKSB8fCB2YWx1ZSA9PSBxdWVyeSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUuY29sb3IgPSAnZ3JlZW4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyB0aGlzIHZhbHVlIHdvbid0IGJlIGNoYW5nZWQgdW5saWtlIHRoZSBBbGJvb2tpbmdEYXRhKClcclxudmFyIGFsbF9ib29raW5ncyA9IEFsbGJvb2tpbmdEYXRhKCk7XHJcblxyXG5sZXQgc2VhcmNoYmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaGJhcicpO1xyXG5zZWFyY2hiYXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICBsZXQgcXVlcnkgPSBzZWFyY2hiYXIudmFsdWU7XHJcblxyXG5cclxuICAgIGlmIChxdWVyeSAhPT0gJycpIHtcclxuICAgICAgICBzZWFyY2hiYXIuY2xhc3NMaXN0LmFkZCgnc2VhcmNoYmFyX3NlbGVjdGVkJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGZ1c2UgPSBuZXcgRnVzZShhbGxfYm9va2luZ3MsIHtcclxuICAgICAgICAgICAga2V5czogWydpZCcsICduYW1lJywgJ2VtYWlsJywgJ2N2dicsICdza2lsbExldmVsJ11cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdHMgPSBmdXNlLnNlYXJjaChxdWVyeSk7XHJcblxyXG4gICAgICAgIGNsZWFyVGFibGUoKTtcclxuXHJcbiAgICAgICAgcmVuZGVyUmVzdWx0cyhyZXN1bHRzLCBxdWVyeSk7XHJcblxyXG4gICAgICAgIGNsaWNrTGlzdG5lcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8vIElmIHRoZSBzZWFyY2ggaW5wdXQgaXMgZW1wdHksIHJlc3RvcmUgdGhlIG9yaWdpbmFsIHRhYmxlXHJcbiAgICAgICAgc2VhcmNoYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ3NlYXJjaGJhcl9zZWxlY3RlZCcpXHJcbiAgICAgICAgY2xlYXJUYWJsZSgpO1xyXG4gICAgICAgIHJlbmRlclJlc3VsdHMoYWxsX2Jvb2tpbmdzLCBudWxsKTtcclxuICAgICAgICBjbGlja0xpc3RuZXIoKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5cclxuY2xpY2tMaXN0bmVyKCk7Il0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7OztBQUFBO0FBQUE7QUFLQSxPQUFDLFNBQVUsUUFBUSxTQUFTO0FBQ3hCLGVBQU8sWUFBWSxZQUFZLE9BQU8sV0FBVyxjQUMzQyxRQUFRLE9BQU8sSUFDZixPQUFPLFdBQVcsY0FBYyxPQUFPLE1BQ3JDLE9BQU8sQ0FBQyxTQUFTLEdBQUcsT0FBTyxLQUN6QixTQUNFLE9BQU8sZUFBZSxjQUNoQixhQUNBLFVBQVUsTUFDcEIsUUFBUyxPQUFPLGFBQWEsQ0FBQyxDQUFFO0FBQUEsTUFDNUMsR0FBRyxTQUFNLFNBQVVBLFVBQVM7QUFDeEI7QUFrQkEsWUFBSSxXQUFXLFdBQVk7QUFDdkIscUJBQ0ksT0FBTyxVQUNQLFNBQVNDLFVBQVMsR0FBRztBQUNqQixxQkFBUyxHQUFHLElBQUksR0FBRyxJQUFJLFVBQVUsUUFBUSxJQUFJLEdBQUcsS0FBSztBQUNqRCxrQkFBSSxVQUFVLENBQUM7QUFDZix1QkFBUyxLQUFLO0FBQ1Ysb0JBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxHQUFHLENBQUM7QUFDekMsb0JBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUFBLFlBQ3RCO0FBQ0EsbUJBQU87QUFBQSxVQUNYO0FBQ0osaUJBQU8sU0FBUyxNQUFNLE1BQU0sU0FBUztBQUFBLFFBQ3pDO0FB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QUFlO0FBQUEsWUFDZixlQUFlO0FBQUEsWUFDZixlQUFlO0FBQUEsWUFDZixZQUFZO0FBQUEsWUFDWixVQUFVO0FBQUEsWUFDVixhQUFhO0FBQUEsWUFDYixTQUFTO0FBQUEsWUFDVCxTQUFTO0FBQUEsWUFDVCxZQUFZO0FBQUEsWUFDWixXQUFXO0FBQUEsWUFDWCxhQUFhO0FBQUEsWUFDYixhQUFhO0FBQUEsWUFDYixTQUFTO0FBQUEsWUFDVCxXQUFXO0FBQUEsWUFDWCxZQUFZO0FBQUEsWUFDWixNQUFNO0FBQUEsWUFDTixXQUFXO0FBQUEsWUFDWCxNQUFNO0FBQUEsWUFDTixNQUFNO0FBQUEsWUFDTixPQUFPO0FBQUEsWUFDUCxhQUFhO0FBQUEsWUFDYixVQUFVO0FBQUEsWUFDVixTQUFTO0FBQUEsWUFDVCxXQUFXO0FBQUEsWUFDWCxRQUFRO0FBQUEsWUFDUixPQUFPO0FBQUEsWUFDUCxPQUFPO0FBQUEsWUFDUCxVQUFVO0FBQUEsWUFDVixlQUFlO0FBQUEsWUFDZixXQUFXO0FBQUEsWUFDWCxjQUFjO0FBQUEsWUFDZCxXQUFXO0FBQUEsWUFDWCxZQUFZO0FBQUEsWUFDWixXQUFXO0FBQUEsWUFDWCxzQkFBc0I7QUFBQSxZQUN0QixXQUFXO0FBQUEsWUFDWCxXQUFXO0FBQUEsWUFDWCxZQUFZO0FBQUEsWUFDWixXQUFXO0FBQUEsWUFDWCxhQUFhO0FBQUEsWUFDYixlQUFlO0FBQUEsWUFDZixjQUFjO0FBQUEsWUFDZCxnQkFBZ0I7QUFBQSxZQUNoQixnQkFBZ0I7QUFBQSxZQUNoQixnQkFBZ0I7QUFBQSxZQUNoQixhQUFhO0FBQUEsWUFDYixNQUFNO0FBQUEsWUFDTixXQUFXO0FBQUEsWUFDWCxPQUFPO0FBQUEsWUFDUCxTQUFTO0FBQUEsWUFDVCxRQUFRO0FBQUEsWUFDUixrQkFBa0I7QUFBQSxZQUNsQixZQUFZO0FBQUEsWUFDWixjQUFjO0FBQUEsWUFDZCxjQUFjO0FBQUEsWUFDZCxnQkFBZ0I7QUFBQSxZQUNoQixpQkFBaUI7QUFBQSxZQUNqQixtQkFBbUI7QUFBQSxZQUNuQixpQkFBaUI7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QUFJO0FBQ2hDLG1CQUFhO0FBQUEsSUFDakI7QUFBQSxFQUNKLENBQUM7QUFHRCxlQUFhOyIsCiAgIm5hbWVzIjogWyJleHBvcnRzIiwgIl9fYXNzaWduIiwgIk1lc3NhZ2VUeXBlVUl0b0JHIiwgIk1lc3NhZ2VUeXBlQkd0b1VJIiwgIkRlYnVnTWVzc2FnZVR5cGVCR3RvVUkiLCAiTWVzc2FnZVR5cGVCR3RvQ1MiLCAiRGVidWdNZXNzYWdlVHlwZUJHdG9DUyIsICJNZXNzYWdlVHlwZUNTdG9CRyIsICJEZWJ1Z01lc3NhZ2VUeXBlQ1N0b0JHIiwgIk1lc3NhZ2VUeXBlQ1N0b1VJIiwgIk1lc3NhZ2VUeXBlVUl0b0NTIiwgImZldGNoIiwgIlRoZW1lRW5naW5lIiwgIkF1dG9tYXRpb25Nb2RlIiwgIm9ic2VydmVyIiwgIm5vZGUiLCAiT3BlcmF0b3IiLCAidGV4dCIsICJkZXB0aCIsICJ4IiwgImZpbHRlciIsICJGaWx0ZXJNb2RlIiwgIm0iLCAiQXN5bmNRdWV1ZSIsICJfYSIsICJ2YXJpYWJsZXNTdG9yZSIsICJpc0lGcmFtZSIsICJpIiwgIlZhcmlhYmxlc1N0b3JlIiwgInByb3BlcnR5IiwgIm1vZGlmaWVkVmFsdWUiLCAidmFsdWUiLCAiZGVjbGFyYXRpb25zIiwgInIiLCAiZWxlbWVudHMiLCAicm9vdFZhcnNTdHlsZSIsICJmaXhlcyIsICJvYmoiLCAiX2dldFByb3RvdHlwZU9mIiwgIm8iLCAiX3NldFByb3RvdHlwZU9mIiwgInAiLCAic2VsZiIsICJMT0dJQ0FMX1NFQVJDSF9JTlZBTElEX1FVRVJZX0ZPUl9LRVkiLCAiUEFUVEVSTl9MRU5HVEhfVE9PX0xBUkdFIiwgIk1JU1NJTkdfS0VZX1BST1BFUlRZIiwgIklOVkFMSURfS0VZX1dFSUdIVF9WQUxVRSIsICJLZXlTdG9yZSIsICJnZXQiLCAiZGVlcEdldCIsICJwYXRoIiwgIm5vcm0iLCAiRnVzZUluZGV4IiwgImxvY2F0aW9uIiwgIkJpdGFwU2VhcmNoIiwgImFkZENodW5rIiwgInBhdHRlcm4iLCAic3RhcnRJbmRleCIsICJCYXNlTWF0Y2giLCAic2VhcmNoIiwgIkV4YWN0TWF0Y2giLCAiSW52ZXJzZUV4YWN0TWF0Y2giLCAiUHJlZml4RXhhY3RNYXRjaCIsICJJbnZlcnNlUHJlZml4RXhhY3RNYXRjaCIsICJTdWZmaXhFeGFjdE1hdGNoIiwgIkludmVyc2VTdWZmaXhFeGFjdE1hdGNoIiwgIkZ1enp5TWF0Y2giLCAiSW5jbHVkZU1hdGNoIiwgIml0ZW0iLCAiRXh0ZW5kZWRTZWFyY2giLCAic2VhcmNoZXJzIiwgImlzRXhwcmVzc2lvbiIsICJpc1BhdGgiLCAiaXNMZWFmIiwgImNvbnZlcnRUb0V4cGxpY2l0IiwgIm5leHQiLCAicXVlcnkiLCAia2V5IiwgIkZ1c2UiLCAiZXZhbHVhdGUiLCAidGV4dCIsICJpc01hdGNoIiwgInNjb3JlIiwgImluZGljZXMiLCAic2VsZWN0ZWRfcm93Il0KfQo=
